<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="In certain situations, you must create an Oracle ASM password file before you can upgrade to Oracle Grid Infrastructure 18c.">
      <meta name="description" content="In certain situations, you must create an Oracle ASM password file before you can upgrade to Oracle Grid Infrastructure 18c.">
      <title>Create an Oracle ASM Password File</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Grid Infrastructure Installation and Upgrade Guide">
      <meta property="og:description" content="In certain situations, you must create an Oracle ASM password file before you can upgrade to Oracle Grid Infrastructure 18c.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Grid Infrastructure Installation and Upgrade Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="grid-infrastructure-installation-and-upgrade-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-11-15T23:27:28-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83915-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="tasks-to-complete-before-upgrading-grid-infrastructure.html" title="Previous" type="text/html">
      <link rel="next" href="running-the-raccheck-upgrade-readiness-assessment.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Grid Infrastructure Installation and Upgrade Guide for Microsoft Windows">
    <meta name="dcterms.isVersionOf" content="CWWIN">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tasks-to-complete-before-upgrading-grid-infrastructure.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="running-the-raccheck-upgrade-readiness-assessment.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Grid Infrastructure Installation and Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-grid-infrastructure.html" property="item" typeof="WebPage"><span property="name">Upgrading Oracle Grid Infrastructure </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="preparing-to-upgrade-an-existing-oracle-clusterware-installation.html" property="item" typeof="WebPage"><span property="name">Preparing to Upgrade an Existing Oracle Clusterware Installation</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Create an Oracle ASM Password File</li>
            </ol>
            <a id="GUID-E1599106-383A-499F-959D-24094656624D" name="GUID-E1599106-383A-499F-959D-24094656624D"></a>
            
            <h2 id="CWWIN-GUID-E1599106-383A-499F-959D-24094656624D" class="sect2"><span class="enumeration_section">11.5.3 </span>Create an Oracle ASM Password File
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>In certain situations, you must create an Oracle ASM password file before you can upgrade to Oracle Grid Infrastructure 18c.</p>
               <div class="section">
                  <p>On Windows platforms, if you are upgrading Oracle Grid Infrastructure from release 11.2.0.4 to release 12.1.0.2, and then upgrade to Oracle Grid Infrastructure 18c, you must create an Oracle ASM password file before starting the upgrade to Oracle Grid Infrastructure 18c.</p>
                  <p>However, if you upgrade from Oracle Grid Infrastructure 11.2.0.4 directly to Oracle Grid Infrastructure 18c, or if you upgrade from Oracle Grid Infrastructure 12.1.0.2 directly to Oracle Grid Infrastructure 18c, then this task is not required.</p>
                  <p>If you do not complete this task before starting the upgrade process, then you will get a failed check during installation. If you choose to ignore the error and continue the upgrade, then the <code class="codeph">rootcrs</code> script fails to complete and generates the following error:
                  </p><pre class="pre codeblock"><code>2016-06-28 20:20:33: Command output: 
&nbsp;&nbsp; CLSRSC-661: The Oracle ASM password file does not exist at location  
  C:\app\12.1.0\grid\database\PWD+ASM.ora. </code></pre><p>After upgrading Oracle Grid Infrastructure from release 11.2.0.4 to release 12.1.0.2, complete the following steps to resolve this error before continuing with the upgrade to Oracle Grid Infrastructure 18c:</p>
               </div>
               <!-- class="section" -->
               <ol>
                  <li class="stepexpand"><span>Start the <code class="codeph">ASMCMD</code> utility from the upgraded Oracle Grid Infrastructure home directory.</span><div><pre class="pre codeblock"><code><span class="variable" translate="no">Grid_home_12102</span>\bin\asmcmd.bat</code></pre></div>
                  </li>
                  <li class="stepexpand"><span>Set the Oracle ASM disk group compatibility to 12.1.0.0.0 or higher for the disk group that stores the Oracle Cluster Registry (OCR).</span><div><pre class="pre codeblock"><code>ASMCMD&gt; setattr -G <span class="variable" translate="no">disk_group_name</span> compatible.asm 12.1.0.0.0</code></pre></div>
                  </li>
                  <li class="stepexpand"><span>Create an Oracle ASM password file.</span><div><pre class="pre codeblock"><code>ASMCMD&gt; pwcreate --asm +<span class="variable" translate="no">disk_group_name</span>/orapwASM <span class="variable" translate="no">sys_password</span></code></pre></div>
                  </li>
                  <li class="stepexpand"><span>Verify the password file was created.</span><div><pre class="pre codeblock"><code>ASMCMD&gt; pwget --asm 
+<span class="variable" translate="no">disk_group_name</span>/orapwasm</code></pre></div>
                  </li>
               </ol>
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="preparing-to-upgrade-an-existing-oracle-clusterware-installation.html#GUID-583D2090-3E02-48DC-8FA1-B162540D592F" title="If you have an existing Oracle Clusterware installation, then you upgrade your existing cluster by performing an out-of-place upgrade. You cannot perform an in-place upgrade.">Preparing to Upgrade an Existing Oracle Clusterware Installation</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>