<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_STREAMS_MESSAGING package, one of a set of Oracle Streams packages, provides interfaces to enqueue messages into and dequeue messages from a ANYDATA queue.">
      <meta name="description" content="The DBMS_STREAMS_MESSAGING package, one of a set of Oracle Streams packages, provides interfaces to enqueue messages into and dequeue messages from a ANYDATA queue.">
      <title>DBMS_STREAMS_MESSAGING</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_STREAMS_MESSAGING package, one of a set of Oracle Streams packages, provides interfaces to enqueue messages into and dequeue messages from a ANYDATA queue.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-03T03:45:02-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83743-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="DBMS_STREAMS_HANDLER_ADM.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_STREAMS_TABLESPACE_ADM.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_STREAMS_HANDLER_ADM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_STREAMS_TABLESPACE_ADM.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_STREAMS_MESSAGING</li>
            </ol>
            <a id="GUID-1EEEF087-4AA1-4BE1-8DCA-7FD0FF32B07E" name="GUID-1EEEF087-4AA1-4BE1-8DCA-7FD0FF32B07E"></a><a id="ARPLS523"></a><a id="ARPLS523"></a>
            
            <h2 id="ARPLS-GUID-1EEEF087-4AA1-4BE1-8DCA-7FD0FF32B07E" class="sect2"><span class="enumeration_chapter">169 </span> DBMS_STREAMS_MESSAGING
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_STREAMS_MESSAGING</code> package, one of a set of Oracle Streams packages, provides interfaces to enqueue messages into and dequeue messages from a <code class="codeph">ANYDATA</code> queue.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_STREAMS_MESSAGING.html#GUID-D8CD8AC0-B76A-4957-AC57-CD3EDCAEF26E" title="This package provides interfaces to enqueue messages into and dequeue messages from a ANYDATA queue.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STREAMS_MESSAGING.html#GUID-0F003462-2EE0-46FB-BA3A-34D04FB4583C" title="Security on this package can be controlled by either granting EXECUTE on this package to selected users or roles, or by granting EXECUTE_CATALOG_ROLE to selected users or roles.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STREAMS_MESSAGING.html#GUID-3E9E2E7B-6A9A-44F7-B2CA-0247A139D3FE" title="This table lists the DBMS_STREAMS_MESSAGING subprograms and briefly describes them.">Summary of DBMS_STREAMS_MESSAGING Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS73192"></a><a id="ARPLS73192"></a><div class="props_rev_3"><a id="GUID-D8CD8AC0-B76A-4957-AC57-CD3EDCAEF26E" name="GUID-D8CD8AC0-B76A-4957-AC57-CD3EDCAEF26E"></a><h3 id="ARPLS-GUID-D8CD8AC0-B76A-4957-AC57-CD3EDCAEF26E" class="sect3"><span class="enumeration_section">169.1 </span>DBMS_STREAMS_MESSAGING Overview
               </h3>
               <div>
                  <p>This package provides interfaces to enqueue messages into and dequeue messages from a <code class="codeph">ANYDATA</code> queue.
                  </p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-D8CD8AC0-B76A-4957-AC57-CD3EDCAEF26E__GUID-B8ADBE3B-9A90-4340-9A81-D60152BA7F7A">
                        <p class="notep1">Note:</p>
                        <p>Currently, messaging clients cannot dequeue buffered messages. In addition, the <code class="codeph">DBMS_STREAMS_MESSAGING</code> package cannot be used to enqueue messages into or dequeue messages from a buffered queue. However, you can use the <code class="codeph">DBMS_AQ</code> package to enqueue and dequeue buffered messages.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-D8CD8AC0-B76A-4957-AC57-CD3EDCAEF26E__GUID-35269BBF-60C2-4EF6-BAE4-6A7749BAD639">
                        <p class="notep1">See Also:</p>
                        <p><a href="../adque/toc.htm" target="_blank"><span class="italic">Oracle Database Advanced Queuing User's Guide </span></a>for more information about queues, messaging, and the <code class="codeph">DBMS_AQ</code> package
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73193"></a><a id="ARPLS73193"></a><div class="props_rev_3"><a id="GUID-0F003462-2EE0-46FB-BA3A-34D04FB4583C" name="GUID-0F003462-2EE0-46FB-BA3A-34D04FB4583C"></a><h3 id="ARPLS-GUID-0F003462-2EE0-46FB-BA3A-34D04FB4583C" class="sect3"><span class="enumeration_section">169.2 </span>DBMS_STREAMS_MESSAGING Security Model
               </h3>
               <div>
                  <p>Security on this package can be controlled by either granting <code class="codeph">EXECUTE</code> on this package to selected users or roles, or by granting <code class="codeph">EXECUTE_CATALOG_ROLE</code> to selected users or roles.
                  </p>
                  <div class="section">
                     <p>If subprograms in the package are run from within a stored procedure, then the user who runs the subprograms must be granted <code class="codeph">EXECUTE</code> privilege on the package directly. It cannot be granted through a role.
                     </p>
                     <p>To ensure that the user who runs the subprograms in this package has the necessary privileges, configure an Oracle Streams administrator and connect as the Oracle Streams administrator when using this package.</p>
                     <div class="infoboxnotealso" id="GUID-0F003462-2EE0-46FB-BA3A-34D04FB4583C__GUID-2E37AACF-AC8A-4BDD-9E49-F7C5F9EF41D8">
                        <p class="notep1">See Also:</p>
                        <p><a href="../strep/preparing-for-oracle-streams-replication.html#STREP200" target="_blank"><span class="italic">Oracle Streams Replication Administrator's Guide </span></a>for information about configuring an Oracle Streams administrator
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS597"></a><a id="ARPLS68825"></a><a id="ARPLS68825"></a><a id="ARPLS597"></a><div class="props_rev_3"><a id="GUID-3E9E2E7B-6A9A-44F7-B2CA-0247A139D3FE" name="GUID-3E9E2E7B-6A9A-44F7-B2CA-0247A139D3FE"></a><h3 id="ARPLS-GUID-3E9E2E7B-6A9A-44F7-B2CA-0247A139D3FE" class="sect3"><span class="enumeration_section">169.3 </span>Summary of DBMS_STREAMS_MESSAGING Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_STREAMS_MESSAGING</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-3E9E2E7B-6A9A-44F7-B2CA-0247A139D3FE__GUID-7E7AB271-CCEA-4741-8D0A-ACD2DC72FBA1">
                     <p class="titleintable">Table 169-1 DBMS_STREAMS_MESSAGING Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_STREAMS_MESSAGING Package Subprograms" summary="This table lists the DBMS_STREAMS_MESSAGING subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d1090395e451">Subprogram</th>
                              <th align="left" valign="bottom" width="53%" id="d1090395e454">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d1090395e459" headers="d1090395e451 ">
                                 <p><a href="DBMS_STREAMS_MESSAGING.html#GUID-173E42CC-1461-4A60-8A51-54AE7B05B545" title="This procedure uses the specified Oracle Streams messaging client to dequeue a message from the specified queue.">DEQUEUE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d1090395e459 d1090395e454 ">
                                 <p>Uses the specified Oracle Streams messaging client to dequeue a message from the specified queue</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d1090395e471" headers="d1090395e451 ">
                                 <p><a href="DBMS_STREAMS_MESSAGING.html#GUID-947A25A4-5F19-4557-8689-E024C613717F" title="This procedure enables the current user to enqueue a message into the specified queue.">ENQUEUE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d1090395e471 d1090395e454 ">
                                 <p>The current user enqueues a message into the specified queue</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-3E9E2E7B-6A9A-44F7-B2CA-0247A139D3FE__GUID-7EFB7DD7-9953-423E-985F-07B3A15F9146">
                        <p class="notep1">Note:</p>
                        <p>The subprograms in this package do not commit.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS524"></a><a id="ARPLS68826"></a><a id="ARPLS68827"></a><a id="ARPLS68826"></a><a id="ARPLS68827"></a><a id="ARPLS524"></a><div class="props_rev_3"><a id="GUID-173E42CC-1461-4A60-8A51-54AE7B05B545" name="GUID-173E42CC-1461-4A60-8A51-54AE7B05B545"></a><h4 id="ARPLS-GUID-173E42CC-1461-4A60-8A51-54AE7B05B545" class="sect4"><span class="enumeration_section">169.3.1 </span>DEQUEUE Procedure
                  </h4>
                  <div>
                     <p>This procedure uses the specified Oracle Streams messaging client to dequeue a message from the specified queue.</p>
                     <div class="section">
                        <p>This procedure is overloaded. One version of this procedure contains the <code class="codeph">msgid OUT</code> parameter, and the other does not.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-173E42CC-1461-4A60-8A51-54AE7B05B545__GUID-97B864D2-0F8A-4B5E-A587-2B5D82B008FC">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_STREAMS_MESSAGING.DEQUEUE(
   queue_name    IN   VARCHAR2,    
   streams_name  IN   VARCHAR2,    
   payload       OUT  ANYDATA,   
   dequeue_mode  IN   VARCHAR2        DEFAULT 'REMOVE',
   navigation    IN   VARCHAR2        DEFAULT 'NEXT MESSAGE',
   wait          IN   BINARY_INTEGER  DEFAULT FOREVER,
   msgid         OUT  RAW);

DBMS_STREAMS_MESSAGING.DEQUEUE(
   queue_name    IN   VARCHAR2,    
   streams_name  IN   VARCHAR2,    
   payload       OUT  ANYDATA,   
   dequeue_mode  IN   VARCHAR2        DEFAULT 'REMOVE',
   navigation    IN   VARCHAR2        DEFAULT 'NEXT MESSAGE',
   wait          IN   BINARY_INTEGER  DEFAULT FOREVER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-173E42CC-1461-4A60-8A51-54AE7B05B545__GUID-350295AE-9491-4687-A876-31EA94CECD1E">Parameters</p>
                        <div class="tblformal" id="GUID-173E42CC-1461-4A60-8A51-54AE7B05B545__GUID-4152F031-89C1-4EDE-93BD-4190C945F7B3">
                           <p class="titleintable">Table 169-2 DEQUEUE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEQUEUE Procedure Parameters" summary="This table describes the Parameters of DBMS_STREAMS_MESSAGING.DEQUEUE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d1090395e604">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d1090395e607">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e612" headers="d1090395e604 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e612 d1090395e607 ">
                                       <p>The name of the local queue from which messages will be dequeued, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">queue_name</code></span>. The current database must contain the queue, and the queue must be a secure queue of <code class="codeph">ANYDATA</code> type. 
                                       </p>
                                       <p>For example, to specify a queue named <code class="codeph">streams_queue</code> in the <code class="codeph">strmadmin</code> schema, enter <code class="codeph">strmadmin.streams_queue</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e645" headers="d1090395e604 ">
                                       <p><code class="codeph">streams_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e645 d1090395e607 ">
                                       <p>The name of the Oracle Streams messaging client. For example, if the user <code class="codeph">strmadmin</code> is the messaging client, then specify <code class="codeph">strmadmin</code>.
                                       </p>
                                       <p>If <code class="codeph">NULL</code> and a relevant messaging client for the queue exists, then the procedure uses the relevant messaging client. If <code class="codeph">NULL</code> and multiple relevant messaging clients for the queue exist, then the procedure raises an error.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e667" headers="d1090395e604 ">
                                       <p><code class="codeph">payload</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e667 d1090395e607 ">
                                       <p>The payload that is dequeued</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e675" headers="d1090395e604 ">
                                       <p><code class="codeph">dequeue_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e675 d1090395e607 ">
                                       <p>Specify one of the following settings:</p>
                                       <p><code class="codeph">REMOVE</code>: Read the message and delete it. This setting is the default. The message can be retained in the queue table based on the retention properties. 
                                       </p>
                                       <p><code class="codeph">LOCKED</code>: Read and obtain a write lock on the message. The lock lasts for the duration of the transaction. This setting is equivalent to a select for update statement. 
                                       </p>
                                       <p><code class="codeph">BROWSE</code>: Read the message without acquiring any lock on the message. This specification is equivalent to a select statement.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e695" headers="d1090395e604 ">
                                       <p><code class="codeph">navigation</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e695 d1090395e607 ">
                                       <p>The position of the message that will be retrieved. First, the position is determined. Second, the search criterion is applied. Finally, the message is retrieved. </p>
                                       <p>Specify one of the following settings:</p>
                                       <p><code class="codeph">NEXT MESSAGE</code>: Retrieve the next message that is available and matches the search criteria. If the previous message belongs to a message group, then retrieve the next available message that matches the search criteria and belongs to the message group. This setting is the default. 
                                       </p>
                                       <p><code class="codeph">NEXT TRANSACTION</code>: Skip the remainder of the current message group (if any) and retrieve the first message of the next message group. This setting can only be used if message grouping is enabled for the current queue. 
                                       </p>
                                       <p><code class="codeph">FIRST MESSAGE</code>: Retrieves the first message which is available and matches the search criteria. This setting resets the position to the beginning of the queue.
                                       </p>
                                       <p><span class="bold">Note: </span>Each message group contains the messages in a single transaction.
                                       </p>
                                       <p><span class="bold">See Also:</span><a href="../adque/aq-introduction.html#ADQUE-GUID-E87DA98A-4188-4E5A-9984-7311F4C3BA27" target="_blank"><span class="italic"> Oracle Database Advanced Queuing User's Guide </span></a>for more information about dequeue options
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e729" headers="d1090395e604 ">
                                       <p><code class="codeph">wait</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e729 d1090395e607 ">
                                       <p>Either <code class="codeph">FOREVER</code> or <code class="codeph">NO_WAIT</code></p>
                                       <p>If <code class="codeph">FOREVER</code>, then the dequeue call is blocked without a time out until a message is available in the queue.
                                       </p>
                                       <p>If <code class="codeph">NO_WAIT</code>, then a wait time of zero seconds is used. In this case, the dequeue will return immediately even if there are no messages in the queue.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e752" headers="d1090395e604 ">
                                       <p><code class="codeph">msgid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e752 d1090395e607 ">
                                       <p>The message identifier of the message that is dequeued</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-173E42CC-1461-4A60-8A51-54AE7B05B545__GUID-268A5776-22BE-4443-A051-3E57D479D6B4">Exceptions</p>
                        <div class="tblformal" id="GUID-173E42CC-1461-4A60-8A51-54AE7B05B545__GUID-2B77D175-160E-4639-B523-3E442465A7C0">
                           <p class="titleintable">Table 169-3 DEQUEUE Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEQUEUE Procedure Exceptions" summary="This table describes the Parameters of DBMS_STREAMS_MESSAGING.DEQUEUE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d1090395e772">Exception</th>
                                    <th align="left" valign="bottom" width="76%" id="d1090395e775">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e780" headers="d1090395e772 ">
                                       <p><code class="codeph">ENDOFCURTRANS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e780 d1090395e775 ">
                                       <p>Dequeue has reached the end of the messages in the current transaction. Specify this exception in the following way:</p><pre class="oac_no_warn" dir="ltr">SYS.DBMS_STREAMS_MESSAGING.ENDOFCURTRANS
</pre><p>Every dequeue procedure should include an exception handler that handles this exception.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e792" headers="d1090395e772 ">
                                       <p><code class="codeph">NOMOREMSGS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e792 d1090395e775 ">
                                       <p>There are no more messages in the queue for the dequeue operation. Specify this exception in the following way:</p><pre class="oac_no_warn" dir="ltr">SYS.DBMS_STREAMS_MESSAGING.NOMOREMSGS
</pre><p>A dequeue procedure that specifies <code class="codeph">NO_WAIT</code> for the <code class="codeph">wait</code> parameter should include an exception handler that handles this exception.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS525"></a><a id="ARPLS68828"></a><a id="ARPLS68828"></a><a id="ARPLS525"></a><div class="props_rev_3"><a id="GUID-947A25A4-5F19-4557-8689-E024C613717F" name="GUID-947A25A4-5F19-4557-8689-E024C613717F"></a><h4 id="ARPLS-GUID-947A25A4-5F19-4557-8689-E024C613717F" class="sect4"><span class="enumeration_section">169.3.2 </span>ENQUEUE Procedure
                  </h4>
                  <div>
                     <p>This procedure enables the current user to enqueue a message into the specified queue.</p>
                     <div class="section">
                        <p>This procedure is overloaded. One version of this procedure contains the <code class="codeph">msgid</code> <code class="codeph">OUT</code> parameter, and the other does not.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-947A25A4-5F19-4557-8689-E024C613717F__GUID-073A4DB0-9A7F-4BDB-A8C8-798501E7ECD2">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_STREAMS_MESSAGING.ENQUEUE(
   queue_name  IN   VARCHAR2,  
   payload     IN   ANYDATA,  
   msgid       OUT  RAW);

DBMS_STREAMS_MESSAGING.ENQUEUE(
   queue_name  IN   VARCHAR2,  
   payload     IN   ANYDATA);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-947A25A4-5F19-4557-8689-E024C613717F__GUID-3CE86824-14C0-4BC6-BF77-727671A06781">Parameters</p>
                        <div class="tblformal" id="GUID-947A25A4-5F19-4557-8689-E024C613717F__GUID-00A75B17-1970-48DE-B1DC-3888582668BE">
                           <p class="titleintable">Table 169-4 ENQUEUE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENQUEUE Procedure Parameters" summary="This table describes the Parameters of DBMS_STREAMS_MESSAGING.ENQUEUE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d1090395e929">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d1090395e932">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e937" headers="d1090395e929 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e937 d1090395e932 ">
                                       <p>The name of the local queue into which messages will be enqueued, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">queue_name</code></span>. The current database must contain the queue, and the queue must be a secure queue of <code class="codeph">ANYDATA</code> type. 
                                       </p>
                                       <p>For example, to specify a queue named <code class="codeph">streams_queue</code> in the <code class="codeph">strmadmin</code> schema, enter <code class="codeph">strmadmin.streams_queue</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e970" headers="d1090395e929 ">
                                       <p><code class="codeph">payload</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e970 d1090395e932 ">
                                       <p>The payload that is enqueued</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1090395e978" headers="d1090395e929 ">
                                       <p><code class="codeph">msgid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1090395e978 d1090395e932 ">
                                       <p>The message identifier of the message that is enqueued</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-947A25A4-5F19-4557-8689-E024C613717F__GUID-7ED24688-858A-4017-8670-241B139E3C76">Usage Notes</p>
                        <p>To successfully enqueue messages into a queue, the current user must be mapped to a unique Advanced Queuing agent with the same name as the current user. You can run the <code class="codeph">DBMS_STREAMS_ADM.SET_UP_QUEUE</code> procedure and specify a user as the queue user to grant the necessary privileges to the user to perform enqueues. The Advanced Queuing agent is created automatically when you run <code class="codeph">SET_UP_QUEUE</code> and specify a queue user.
                        </p>
                        <div class="infoboxnotealso" id="GUID-947A25A4-5F19-4557-8689-E024C613717F__GUID-57CE4E41-F830-4A8E-8707-23F57EF23D21">
                           <p class="notep1">See Also:</p>
                           <p><a href="DBMS_STREAMS_ADM.html#GUID-D9F11FD1-9DB7-411F-BD50-C16A87780DF4" title="This procedure creates a queue table and a ANYDATA queue.">SET_UP_QUEUE Procedure</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>