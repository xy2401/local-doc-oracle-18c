<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_SQLDIAG package provides an interface to the SQL Diagnosability functionality.">
      <meta name="description" content="The DBMS_SQLDIAG package provides an interface to the SQL Diagnosability functionality.">
      <title>DBMS_SQLDIAG</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_SQLDIAG package provides an interface to the SQL Diagnosability functionality.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-03T03:45:02-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83743-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="DBMS_SQL_TRANSLATOR.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_SQLPA.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SQL_TRANSLATOR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_SQLPA.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_SQLDIAG</li>
            </ol>
            <a id="GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" name="GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867"></a><a id="ARPLS203"></a><a id="ARPLS203"></a>
            
            <h2 id="ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" class="sect2"><span class="enumeration_chapter">157 </span> DBMS_SQLDIAG
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The DBMS_SQLDIAG package provides an interface to the SQL Diagnosability functionality.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">DBMS_SQLDIAG Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255" title="You must have the ADVISOR role to execute the DBMS_SQLDIAG package.">DBMS_SQLDIAG Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060" title="DBMS_SQLDIAG defines constants to use when specifying parameter values.">DBMS_SQLDIAG Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-9DF9E45B-64A4-4224-90A5-DF0271115CDC" title="Patches can be exported out of one system and imported into another by means of a staging table, provided by subprograms in this package. Like with SQL diagnosis sets, the operation of inserting into the staging table is called a "pack", and the operation of creating patches from staging table data is termed the "unpack".">DBMS_SQLDIAG Examples</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7" title="This table lists the DBMS_SQLDIAG subprograms and briefly describes them.">Summary of DBMS_SQLDIAG Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867__GUID-4C717D13-5AE5-46EE-A997-70BE355AB429">
                  <p class="notep1">See Also:</p>
                  <p><span class="italic">Oracle Database Administrator's Guide</span> for more information about <a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank">"Managing Diagnostic Data"</a></p>
               </div>
            </div><a id="ARPLS68286"></a><a id="ARPLS68287"></a><a id="ARPLS68288"></a><a id="ARPLS68289"></a><a id="ARPLS68287"></a><a id="ARPLS68288"></a><a id="ARPLS68289"></a><a id="ARPLS68286"></a><div class="props_rev_3"><a id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33" name="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33"></a><h3 id="ARPLS-GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33" class="sect3"><span class="enumeration_section">157.1 </span>DBMS_SQLDIAG Overview
               </h3>
               <div>
                  <p>In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.</p>
                  <div class="section">
                     <p>This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__CEGGDBAA">About the SQL Repair Advisor</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__CEGFIEIF">Running the SQL Repair Advisor</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__CEGEACGE">Removing a SQL Patch</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__CEGGDBAA">
                     <p class="subhead2" id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__GUID-3576E12A-D4C1-4872-8561-4DD94A622223">About the SQL Repair Advisor</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You run the SQL Repair Advisor after a SQL statement fails with a critical error. The advisor analyzes the statement and in many cases recommends a patch to repair the statement. If you implement the recommendation, the applied SQL patch circumvents the failure by causing the query optimizer to choose an alternate execution plan for future executions.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__CEGFIEIF">
                     <p class="subhead2" id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__GUID-9912310A-F843-4E0F-BAC1-5BD490C4A6CB">Running the SQL Repair Advisor</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You run the SQL Repair Advisor by creating and executing a diagnostic task using the <code class="codeph">CREATE_DIAGNOSIS_TASK</code> and <code class="codeph">EXECUTE_DIAGNOSIS_TASK</code> respectively. The SQL Repair Advisor first reproduces the critical error and then tries to produce a workaround in the form of SQL patch.
                     </p>
                     <ol>
                        <li>
                           <p><span class="bold">Identify the problem SQL statement</span></p>
                           <p>Consider the SQL statement that gives a critical error:</p><pre class="oac_no_warn" dir="ltr">DELETE FROM t t1 WHERE t1.a = 'a' AND ROWID &lt;&gt; (SELECT MAX(ROWID) FROM t t2 WHERE t1.a= t2.a 
AND t1.b = t2.b AND t1.d=t2.d)
</pre><p>You use the SQL Repair advisor to repair this critical error. </p>
                        </li>
                        <li>
                           <p><span class="bold">Create a diagnosis task</span></p>
                           <p>Invoke <code class="codeph">DBMS_SQLDIAG</code>. <code class="codeph">CREATE_DIAGNOSIS_TASK</code>. You can specify an optional task name, an optional time limit for the advisor task, and problem type. In the example below, we specify the SQL text, the task name as '<code class="codeph">error_task</code>' and a problem type as '<code class="codeph">DBMS_SQLDIAG</code>.<code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code>'.
                           </p><pre class="oac_no_warn" dir="ltr">DECLARE
    rep_out         CLOB;
    t_id            VARCHAR2(50);
  BEGIN
    t_id := DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK( 
      sql_text =&gt; 'DELETE FROM t t1 WHERE t1.a = ''a'' AND ROWID &lt;&gt; (SELECT MAX(ROWID) FROM t t2 
      WHERE t1.a= t2.a AND t1.b = t2.b AND t1.d=t2.d)',
      task_name =&gt; 'error_task',
      problem_type =&gt;DBMS_SQLDIAG.PROBLEM_TYPE_COMPILATION_ERROR);
</pre></li>
                        <li>
                           <p><span class="bold">Execute the diagnosis task</span></p>
                           <p>To execute the workaround generation and analysis phase of the SQL Repair Advisor, you call <code class="codeph">DBMS_SQLDIAG</code>.<code class="codeph">EXECUTE_DIAGNOSIS_TASK</code> with the task ID returned by the <code class="codeph">CREATE_DIAGNOSIS_TASK</code>. After a short delay, the SQL Repair Advisor returns. As part of its execution, the SQL Repair Advisor keeps a record of its findings which can be accessed through the reporting facilities of SQL Repair Advisor.
                           </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK (t_id);
</pre></li>
                        <li>
                           <p><span class="bold">Report the diagnosis task</span></p>
                           <p>The analysis of the diagnosis task is accessed through dbms_sqldiag.report_diagnosis_task. If the SQL Repair Advisor was able to find a workaround, it recommends a SQL Patch. A SQL Patch is similar to a SQL profile but unlike the SQL Profile, it is used to workaround compilation or execution errors.</p><pre class="oac_no_warn" dir="ltr">rep_out := DBMS_SQLDIAG.REPORT_DIAGNOSIS_TASK (t_id, DBMS_SQLDIAG.TYPE_TEXT);
 
  DBMS_OUTPUT.PUT_LINE ('Report : ' ||  rep_out);
 
  END;
  /
</pre></li>
                        <li>
                           <p><span class="bold">Applying the patch</span></p>
                           <p>If a patch recommendation is present in the report, you can run the <code class="codeph">ACCEPT_SQL_PATCH</code> command to accept the patch by invoking <code class="codeph">DBMS_SQLDIAG</code>.<code class="codeph">ACCEPT_SQL_PATCH</code>. This procedure takes the <code class="codeph">task_name</code> as an argument.
                           </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SQLDIAG.ACCEPT_SQL_PATCH(task_name =&gt; 'error_task', task_owner =&gt; 'SYS', replace =&gt; TRUE);
</pre></li>
                        <li>
                           <p><span class="bold">Test the patch</span></p>
                           <p>Now that you have accepted the patch, you can rerun the SQL statement. This time, it will not give you the critical error. If you run 'explain plan' for this statement, you will see that a SQL patch was used to generate the plan.</p><pre class="oac_no_warn" dir="ltr">DELETE FROM t t1 WHERE t1.a = 'a' AND ROWID &lt;&gt; (select max(rowid) FROM t t2 WHERE t1.a= t2.a 
AND t1.b = t2.b AND t1.d=t2.d);
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__CEGEACGE">
                     <p class="subhead2" id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__GUID-484F0D4F-6746-4BAF-8A93-369E3A47B74A">Removing a SQL Patch</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>In a situation where you obtained an official patch from Oracle to fix an error, or upgraded to the next patchset or release of Oracle which included the fix for the error, you call <code class="codeph">DBMS_SQLDIAG</code>.<code class="codeph">DROP_SQL_PATCH</code> with the patch name to drop the SQL patch. The patch name can be obtained from the explain plan section or by querying the view <code class="codeph">DBA_SQL_PATCHES</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255" name="GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255"></a><h3 id="ARPLS-GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255" class="sect3"><span class="enumeration_section">157.2 </span>DBMS_SQLDIAG Security Model
               </h3>
               <div>
                  <p>You must have the <code class="codeph">ADVISOR</code> role to execute the <code class="codeph">DBMS_SQLDIAG</code> package.
                  </p>
               </div>
            </div><a id="ARPLS68290"></a><a id="ARPLS68291"></a><a id="ARPLS68292"></a><a id="ARPLS68293"></a><a id="ARPLS68294"></a><a id="ARPLS68295"></a><a id="ARPLS68296"></a><a id="ARPLS68297"></a><a id="ARPLS68298"></a><a id="ARPLS68291"></a><a id="ARPLS68292"></a><a id="ARPLS68293"></a><a id="ARPLS68294"></a><a id="ARPLS68295"></a><a id="ARPLS68296"></a><a id="ARPLS68297"></a><a id="ARPLS68298"></a><a id="ARPLS68290"></a><div class="props_rev_3"><a id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060" name="GUID-CEACAAE2-F425-496C-9FD3-40B208035060"></a><h3 id="ARPLS-GUID-CEACAAE2-F425-496C-9FD3-40B208035060" class="sect3"><span class="enumeration_section">157.3 </span>DBMS_SQLDIAG Constants
               </h3>
               <div>
                  <p><code class="codeph">DBMS_SQLDIAG</code> defines constants to use when specifying parameter values. 
                  </p>
                  <div class="section">
                     <p>These constants are shown in the following tables:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHDDFE" title="This table describes Constants (Sqldiag Advisor Names) used by DBMS_SQLDIAG subprograms.">Table 157-1</a> describes the name of SQL repair advisor as seen by the advisor framework
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGEEIAJ" title="This table describes Constants (SQLDIAG Advisor Task Scope Parameter Values) used by DBMS_SQLDIAG subprograms.">Table 157-2</a> describes SQLDIAG advisor task scope parameter values
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBBJBJ" title="This table describes Constants (SQLDIAG Advisor time_limit Constants) used by DBMS_SQLDIAG subprograms.">Table 157-3</a> describes SQLDIAG advisor <code class="codeph">time_limit</code> constants
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGIIAJH" title="This table describes Constants (Report Type (possible values) Constants) used by DBMS_SQLDIAG subprograms.">Table 157-4</a> describes possible formats for a report
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHJADG" title="This table describes Constants (Report Level (possible values) Constants) used by DBMS_SQLDIAG subprograms.">Table 157-5</a> describes possible levels of detail in the report
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGDCJGI" title="This table describes Constants (Report Section (possible values) Constants) used by DBMS_SQLDIAG subprograms.">Table 157-6</a> describes possible report sections (comma delimited)
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGJCDDJ" title="This table describes Constants (Problem Type Constants) used by DBMS_SQLDIAG subprograms.">Table 157-7</a> describes possible values for the <code class="codeph">problem_type</code> parameter of the <a href="DBMS_SQLDIAG.html#GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" title="This function creates a diagnostic task in order to diagnose a single SQL statement. It returns a SQL diagnosis task unique name">CREATE_DIAGNOSIS_TASK Functions</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBICBE" title="This table describes Constants (Findings Filter Constants) used by DBMS_SQLDIAG subprograms.">Table 157-8</a> describes possible values for the <code class="codeph">_sql_findings_mode</code> parameter
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHDDFE">
                     <p class="titleintable">Table 157-1 DBMS_SQLDIAG Constants - SQLDIAG Advisor Name</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - SQLDIAG Advisor Name" summary="This table describes Constants (Sqldiag Advisor Names) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d896326e661">Constant</th>
                              <th align="left" valign="bottom" width="21%" id="d896326e664">Type</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e667">Value</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e670">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d896326e675" headers="d896326e661 ">
                                 <p><code class="codeph">ADV_SQL_DIAG_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d896326e675 d896326e664 ">
                                 <p><code class="codeph">VARCHAR2(18) </code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e675 d896326e667 ">
                                 <p>SQL Repair Advisor</p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e675 d896326e670 ">
                                 <p>Name of SQL repair advisor as seen by the advisor framework</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGEEIAJ">
                     <p class="titleintable">Table 157-2 DBMS_SQLDIAG Constants - SQLDIAG Advisor Task Scope Parameter Values</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - SQLDIAG Advisor Task Scope Parameter Values" summary="This table describes Constants (SQLDIAG Advisor Task Scope Parameter Values) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d896326e701">Constant</th>
                              <th align="left" valign="bottom" width="22%" id="d896326e704">Type</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e707">Value</th>
                              <th align="left" valign="bottom" width="25%" id="d896326e710">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d896326e715" headers="d896326e701 ">
                                 <p><code class="codeph">SCOPE_COMPREHENSIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e715 d896326e704 ">
                                 <p><code class="codeph">VARCHAR2(13)</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e715 d896326e707 ">
                                 <p><code class="codeph">COMPREHENSIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e715 d896326e710 ">
                                 <p>Detailed analysis of the problem which may take more time to execute</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d896326e731" headers="d896326e701 ">
                                 <p><code class="codeph">SCOPE_LIMITED</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e731 d896326e704 ">
                                 <p><code class="codeph">VARCHAR2(7)</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e731 d896326e707 ">
                                 <p><code class="codeph">LIMITED</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e731 d896326e710 ">
                                 <p>Brief analysis of the problem</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBBJBJ">
                     <p class="titleintable">Table 157-3 DBMS_SQLDIAG Constants - SQLDIAG Advisor time_limit Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - SQLDIAG Advisor time_limit Constants" summary="This table describes Constants (SQLDIAG Advisor time_limit Constants) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896326e758">Constant</th>
                              <th align="left" valign="bottom" width="23%" id="d896326e761">Type</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e764">Value</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e767">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e772" headers="d896326e758 ">
                                 <p><code class="codeph">TIME_LIMIT_DEFAULT</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e772 d896326e761 ">
                                 <p><code class="codeph">NUMBER</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e772 d896326e764 ">
                                 <p><code class="codeph">1800</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e772 d896326e767 ">
                                 <p>Default time limit for analysis of the problem</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGIIAJH">
                     <p class="titleintable">Table 157-4 DBMS_SQLDIAG Constants - Report Type (possible values) Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - Report Type (possible values) Constants" summary="This table describes Constants (Report Type (possible values) Constants) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896326e801">Constant</th>
                              <th align="left" valign="bottom" width="23%" id="d896326e804">Type</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e807">Value</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e810">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e815" headers="d896326e801 ">
                                 <p><code class="codeph">TYPE_HTML</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e815 d896326e804 ">
                                 <p><code class="codeph">VARCHAR2(4)</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e815 d896326e807 ">
                                 <p><code class="codeph">HTML</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e815 d896326e810 ">
                                 <p>Report from the <a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="This function reports on a diagnostic task. It returns a CLOB containing the desired report.">REPORT_DIAGNOSIS_TASK Function</a> in HTML form
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e841" headers="d896326e801 ">
                                 <p><code class="codeph">TYPE_TEXT</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e841 d896326e804 ">
                                 <p><code class="codeph">VARCHAR2(4)</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e841 d896326e807 ">
                                 <p><code class="codeph">TEXT</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e841 d896326e810 ">
                                 <p>Report from the <a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="This function reports on a diagnostic task. It returns a CLOB containing the desired report.">REPORT_DIAGNOSIS_TASK Function</a> in text form
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e867" headers="d896326e801 ">
                                 <p><code class="codeph">TYPE_XML</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e867 d896326e804 ">
                                 <p><code class="codeph">VARCHAR2(3)</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e867 d896326e807 ">
                                 <p><code class="codeph">XML</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e867 d896326e810 ">
                                 <p>Report from the <a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="This function reports on a diagnostic task. It returns a CLOB containing the desired report.">REPORT_DIAGNOSIS_TASK Function</a> in XML form
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHJADG">
                     <p class="titleintable">Table 157-5 DBMS_SQLDIAG Constants - Report Level (possible values) Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - Report Level (possible values) Constants" summary="This table describes Constants (Report Level (possible values) Constants) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896326e904">Constant</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e907">Type</th>
                              <th align="left" valign="bottom" width="23%" id="d896326e910">Value</th>
                              <th align="left" valign="bottom" width="24%" id="d896326e913">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e918" headers="d896326e904 ">
                                 <p><code class="codeph">LEVEL_ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e918 d896326e907 ">
                                 <p><code class="codeph">VARCHAR2(3)</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e918 d896326e910 ">
                                 <p><code class="codeph">ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e918 d896326e913 ">
                                 <p>Complete report including annotations about statements skipped over</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e934" headers="d896326e904 ">
                                 <p><code class="codeph">LEVEL_BASIC</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e934 d896326e907 ">
                                 <p><code class="codeph">VARCHAR2(5)</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e934 d896326e910 ">
                                 <p><code class="codeph">BASIC</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e934 d896326e913 ">
                                 <p>Shows information about every statement analyzed, including recommendations not implemented</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e950" headers="d896326e904 ">
                                 <p><code class="codeph">LEVEL_TYPICAL</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e950 d896326e907 ">
                                 <p><code class="codeph">VARCHAR2(7)</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e950 d896326e910 ">
                                 <p><code class="codeph">TYPICAL</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896326e950 d896326e913 ">
                                 <p>Simple report shows only information about the actions taken by the advisor.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGDCJGI">
                     <p class="titleintable">Table 157-6 DBMS_SQLDIAG Constants - Report Section (possible values) Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - Report Section (possible values) Constants" summary="This table describes Constants (Report Section (possible values) Constants) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896326e977">Constant</th>
                              <th align="left" valign="bottom" width="23%" id="d896326e980">Type</th>
                              <th align="left" valign="bottom" width="22%" id="d896326e983">Value</th>
                              <th align="left" valign="bottom" width="25%" id="d896326e986">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e991" headers="d896326e977 ">
                                 <p><code class="codeph">SECTION_ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e991 d896326e980 ">
                                 <p><code class="codeph">VARCHAR2(3)</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e991 d896326e983 ">
                                 <p><code class="codeph">ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e991 d896326e986 ">
                                 <p>All statements</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e1007" headers="d896326e977 ">
                                 <p><code class="codeph">SECTION_ERRORS</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1007 d896326e980 ">
                                 <p><code class="codeph">VARCHAR2(6)</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e1007 d896326e983 ">
                                 <p><code class="codeph">ERRORS</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1007 d896326e986 ">
                                 <p>Statements with errors</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e1023" headers="d896326e977 ">
                                 <p><code class="codeph">SECTION_FINDINGS</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1023 d896326e980 ">
                                 <p><code class="codeph">VARCHAR2(8)</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e1023 d896326e983 ">
                                 <p><code class="codeph">FINDINGS</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1023 d896326e986 ">
                                 <p>Tuning findings</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e1040" headers="d896326e977 ">
                                 <p><code class="codeph">SECTION_INFORMATION</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1040 d896326e980 ">
                                 <p><code class="codeph">VARCHAR2(11)</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e1040 d896326e983 ">
                                 <p><code class="codeph">INFORMATION</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1040 d896326e986 ">
                                 <p>General information</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e1056" headers="d896326e977 ">
                                 <p><code class="codeph">SECTION_PLANS</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1056 d896326e980 ">
                                 <p><code class="codeph">VARCHAR2(5)</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e1056 d896326e983 ">
                                 <p><code class="codeph">PLANS</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1056 d896326e986 ">
                                 <p>Explain plans</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896326e1073" headers="d896326e977 ">
                                 <p><code class="codeph">SECTION_SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1073 d896326e980 ">
                                 <p><code class="codeph">VARCHAR2(7)</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896326e1073 d896326e983 ">
                                 <p><code class="codeph">SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1073 d896326e986 ">
                                 <p>Summary information</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGJCDDJ">
                     <p class="titleintable">Table 157-7 DBMS_SQLDIAG Constants - Problem Type Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - Problem Type Constants" summary="This table describes Constants (Problem Type Constants) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d896326e1100">Constant</th>
                              <th align="left" valign="bottom" width="23%" id="d896326e1103">Type</th>
                              <th align="left" valign="bottom" width="18%" id="d896326e1106">Value</th>
                              <th align="left" valign="bottom" width="25%" id="d896326e1109">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1114" headers="d896326e1100 ">
                                 <p><code class="codeph">PROBLEM_TYPE_PERFORMANCE</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1114 d896326e1103 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896326e1114 d896326e1106 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1114 d896326e1109 ">
                                 <p>User suspects this is a performance problem</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1130" headers="d896326e1100 ">
                                 <p><code class="codeph">PROBLEM_TYPE_WRONG_RESULTS</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1130 d896326e1103 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896326e1130 d896326e1106 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1130 d896326e1109 ">
                                 <p>User suspects the query is giving inconsistent results</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1146" headers="d896326e1100 ">
                                 <p><code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1146 d896326e1103 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896326e1146 d896326e1106 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1146 d896326e1109 ">
                                 <p>User sees a crash in compilation</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1162" headers="d896326e1100 ">
                                 <p><code class="codeph">PROBLEM_TYPE_EXECUTION_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1162 d896326e1103 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896326e1162 d896326e1106 ">
                                 <p><code class="codeph">4</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1162 d896326e1109 ">
                                 <p>User sees a crash in execution</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1178" headers="d896326e1100 ">
                                 <p><code class="codeph">PROBLEM_TYPE_ALT_PLAN_GEN</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896326e1178 d896326e1103 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896326e1178 d896326e1106 ">
                                 <p><code class="codeph">5</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896326e1178 d896326e1109 ">
                                 <p>User to explore all alternative plans</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBICBE">
                     <p class="titleintable">Table 157-8 DBMS_SQLDIAG Constants - Findings Filter Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Constants - Findings Filter Constants" summary="This table describes Constants (Findings Filter Constants) used by DBMS_SQLDIAG subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d896326e1205">Constant</th>
                              <th align="left" valign="bottom" width="20%" id="d896326e1208">Type</th>
                              <th align="left" valign="bottom" width="19%" id="d896326e1211">Value</th>
                              <th align="left" valign="bottom" width="26%" id="d896326e1214">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1219" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1219 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1219 d896326e1211 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1219 d896326e1214 ">
                                 <p>Show all possible findings</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1235" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_VALIDATION</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1235 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1235 d896326e1211 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1235 d896326e1214 ">
                                 <p>Show status of validation rules over structures</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1251" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_FEATURES</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1251 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1251 d896326e1211 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1251 d896326e1214 ">
                                 <p>Show only features used by the query</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1267" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_FILTER_PLANS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1267 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1267 d896326e1211 ">
                                 <p><code class="codeph">4</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1267 d896326e1214 ">
                                 <p>Show the alternative plans generated by the advisor</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1283" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_CR_DIFF</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1283 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1283 d896326e1211 ">
                                 <p><code class="codeph">5</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1283 d896326e1214 ">
                                 <p>Show difference between two plans</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1299" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_MASK_VARIANT</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1299 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1299 d896326e1211 ">
                                 <p><code class="codeph">6</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1299 d896326e1214 ">
                                 <p>Mask info for testing</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1315" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_OBJ_FEATURES</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1315 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1315 d896326e1211 ">
                                 <p><code class="codeph">7</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1315 d896326e1214 ">
                                 <p>Show features usage history</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896326e1331" headers="d896326e1205 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_BASIC_INFO</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896326e1331 d896326e1208 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896326e1331 d896326e1211 ">
                                 <p><code class="codeph">8</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896326e1331 d896326e1214 ">
                                 <p>Show the alternative plans generated by the advisor</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS68299"></a><a id="ARPLS68300"></a><a id="ARPLS68300"></a><a id="ARPLS68299"></a><div class="props_rev_3"><a id="GUID-9DF9E45B-64A4-4224-90A5-DF0271115CDC" name="GUID-9DF9E45B-64A4-4224-90A5-DF0271115CDC"></a><h3 id="ARPLS-GUID-9DF9E45B-64A4-4224-90A5-DF0271115CDC" class="sect3"><span class="enumeration_section">157.4 </span>DBMS_SQLDIAG Examples
               </h3>
               <div>
                  <p>Patches can be exported out of one system and imported into another by means of a staging table, provided by subprograms in this package. Like with SQL diagnosis sets, the operation of inserting into the staging table is called a "pack", and the operation of creating patches from staging table data is termed the "unpack".</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9DF9E45B-64A4-4224-90A5-DF0271115CDC__GUID-96750E47-85EE-4CF5-A159-95E6A7FF595B">Patch Pack / Unpack</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>DBAs should perform a pack/unpack as follows:</p>
                     <ol>
                        <li>
                           <p>Create a staging table owned by user '<code class="codeph">SH</code>' through a call to <code class="codeph">CREATE_STGTAB_SQLPATCH:</code></p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH(
    table_name          =&gt;  'STAGING_TABLE',
    schema_name         =&gt;  'SH'); 
</pre></li>
                        <li>
                           <p>Call <code class="codeph">PACK_STGTAB_SQLPATCH</code> one or more times to write SQL patch data into the staging table. In this case, copy data for all SQL patches in the DEFAULT category into a staging table owned by the current schema owner: 
                           </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH(
    staging_table_name  =&gt;  'STAGING_TABLE'); 
</pre></li>
                        <li>
                           <p>In this case, only a single SQL patch <code class="codeph">SP_FIND_EMPLOYEE</code> is copied into a staging table owned by the current schema owner:
                           </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH(
    patch_name          =&gt;  'SP_FIND_EMPLOYEE',
    staging_table_name  =&gt;  'STAGING_TABLE'); 
</pre><p>The staging table can then be moved to another system using either datapump, import/export commands or through a databaselink.</p>
                        </li>
                        <li>
                           <p>Call <code class="codeph">UNPACK_STGTAB_SQLPATCH</code> to create SQL patches on the new system from the patch data in the staging table. In this case, change the name in the data for the <code class="codeph">SP_FIND_EMPLOYEE</code> patch stored in the staging table to '<code class="codeph">SP_FIND_EMP_PROD</code>': 
                           </p><pre class="oac_no_warn" dir="ltr">exec dbms_sqldiag.remap_stgtab_sqlpatch(
   old_patch_name      =&gt;  'SP_FIND_EMPLOYEE',
   new_patch_name      =&gt;  'SP_FIND_EMP_PROD', </pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68301"></a><a id="ARPLS68302"></a><a id="ARPLS68302"></a><a id="ARPLS68301"></a><div class="props_rev_3"><a id="GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7" name="GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7"></a><h3 id="ARPLS-GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7" class="sect3"><span class="enumeration_section">157.5 </span>Summary of DBMS_SQLDIAG Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_SQLDIAG</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7__GUID-0E87BAFF-E995-4908-9041-F0227C6EFBF2">
                     <p class="titleintable">Table 157-9 DBMS_SQLDIAG Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG Package Subprograms" summary="This table lists the DBMS_SQLDIAG subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d896326e1585">Subprogram</th>
                              <th align="left" valign="bottom" width="66%" id="d896326e1588">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1593" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" title="This procedure accepts a recommended SQL patch as recommended by the specified SQL diagnosis task.">ACCEPT_SQL_PATCH Function &amp; Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1593 d896326e1588 ">
                                 <p>Accepts a recommended SQL patch as recommended by the specified SQL diagnosis task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1605" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E" title="This procedure alters specific attributes of an existing SQL patch object.">ALTER_SQL_PATCH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1605 d896326e1588 ">
                                 <p>Alters specific attributes of an existing SQL patch object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1617" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72" title="This procedure cancels a diagnostic task.">CANCEL_DIAGNOSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1617 d896326e1588 ">
                                 <p>Cancels a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1629" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" title="This function creates a diagnostic task in order to diagnose a single SQL statement. It returns a SQL diagnosis task unique name">CREATE_DIAGNOSIS_TASK Functions</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1629 d896326e1588 ">
                                 <p>Creates a diagnostic task in order to diagnose a single SQL statement</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1641" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B" title="This function creates a SQL patch based on a set of user specified hints for specific statements identified by SQL text.">CREATE_SQL_PATCH Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1641 d896326e1588 ">
                                 <p>Creates an SQL patch based on a set of user specified hints for specific statements identified by SQL text.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1652" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" title="This procedure creates the staging table used for transporting SQL patches from one system to another.">CREATE_STGTAB_SQLPATCH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1652 d896326e1588 ">
                                 <p>Creates the staging table used for transporting SQL patches from one system to another</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1664" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE" title="This procedure drops a diagnostic task.">DROP_DIAGNOSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1664 d896326e1588 ">
                                 <p>Drops a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1676" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4" title="This procedure drops the named SQL patch from the database.">DROP_SQL_PATCH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1676 d896326e1588 ">
                                 <p>Drops the named SQL patch from the database</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1688" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8" title="This procedure executes a diagnostic task.">EXECUTE_DIAGNOSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1688 d896326e1588 ">
                                 <p>Executes a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1700" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2" title="This procedure explains a SQL test case.">EXPLAIN_SQL_TESTCASE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1700 d896326e1588 ">
                                 <p>Explains a SQL test case</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1712" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="This procedure exports a SQL test case to a directory.">EXPORT_SQL_TESTCASE Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1712 d896326e1588 ">
                                 <p>Exports a SQL test case to a directory</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1725" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28" title="This function generates a SQL test case corresponding to the incident ID passed as an argument. It creates a set of scripts and dump file in the directory passed as an argument.">EXPORT_SQL_TESTCASE_DIR_BY_INC Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1725 d896326e1588 ">
                                 <p>Generates a SQL Test Case corresponding to the incident ID passed as an argument. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1737" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-753A399D-8E8A-4375-B1B5-10286683E642" title="This function generates a SQL Test Case corresponding to the SQL passed as an argument. It creates a set of scripts and dump files in the directory passed as an argument.">EXPORT_SQL_TESTCASE_DIR_BY_TXT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1737 d896326e1588 ">
                                 <p>Generates a SQL Test Case corresponding to the SQL passed as an argument</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1749" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF" title="This function returns the value of fix control for a given bug number.">GET_FIX_CONTROL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1749 d896326e1588 ">
                                 <p>Returns the value of fix control for a given bug number</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1761" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-2E39041D-A7BF-4067-96C9-E78E810694E7" title="This function loads a sql_setrow from the trace file associated to an the given incident ID.">GET_SQL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1761 d896326e1588 ">
                                 <p>Imports a SQL test case</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1776" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" title="This procedure imports a SQL test case into a schema.">IMPORT_SQL_TESTCASE Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1776 d896326e1588 ">
                                 <p>Imports a SQL test case into a schema</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1788" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39" title="This procedure initializes a sql_setrow from an incident ID.">INCIDENTID_2_SQL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1788 d896326e1588 ">
                                 <p>Initializes a <code class="codeph">sql_setrow</code> from an incident ID
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1806" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817" title="This procedure interrupts a diagnostic task.">INTERRUPT_DIAGNOSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1806 d896326e1588 ">
                                 <p>Interrupts a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1818" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6" title="This function loads a SQLSET from a Test Case Builder file.">LOAD_SQLSET_FROM_TCB Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1818 d896326e1588 ">
                                 <p>Loads a <code class="codeph">SQLSET</code> from Test Case Builder (TCB) file
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1836" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" title="This procedure packs SQL patches into the staging table created by a call to the CREATE_STGTAB_SQLPATCH Procedure.">PACK_STGTAB_SQLPATCH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1836 d896326e1588 ">
                                 <p>SQL patches into the staging table created by the <a href="DBMS_SQLDIAG.html#GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" title="This procedure creates the staging table used for transporting SQL patches from one system to another.">CREATE_STGTAB_SQLPATCH Procedure</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1854" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-66280D3C-B073-4B16-918D-8EC5EB348C26" title="This function automates the reproduction of the SQL Test Case.">REPLAY_SQL_TESTCASE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1854 d896326e1588 ">
                                 <p>Reports on a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1866" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="This function reports on a diagnostic task. It returns a CLOB containing the desired report.">REPORT_DIAGNOSIS_TASK Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1866 d896326e1588 ">
                                 <p>Reports on a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1882" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-FD120209-62E6-488C-9CE1-547408A3B81E" title="This procedure resets a diagnostic task.">RESET_DIAGNOSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1882 d896326e1588 ">
                                 <p>Resets a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1894" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F" title="This procedure resumes a diagnostic path.">RESUME_DIAGNOSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1894 d896326e1588 ">
                                 <p>Resumes a diagnostic task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1906" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A" title="This procedure is called to update the value of a SQL diagnosis parameter of type VARCHAR2.">SET_DIAGNOSIS_TASK_PARAMETER Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1906 d896326e1588 ">
                                 <p>Sets a diagnosis task parameter</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896326e1921" headers="d896326e1585 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0" title="This procedure unpacks from the staging table populated by a call to the PACK_STGTAB_SQLPATCH Procedure. It uses the patch data stored in the staging table to create patches on this system. Users can opt to replace existing patches with patch data when they exist already. In this case, note that it is only possible to replace patches referring to the same statement if the names are the same (see the ACCEPT_SQL_PATCH Function &amp; Procedure).">UNPACK_STGTAB_SQLPATCH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896326e1921 d896326e1588 ">
                                 <p>Unpacks from the staging table populated by a call to the <a href="DBMS_SQLDIAG.html#GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" title="This procedure packs SQL patches into the staging table created by a call to the CREATE_STGTAB_SQLPATCH Procedure.">PACK_STGTAB_SQLPATCH Procedure</a>, using the patch data stored in the staging table to create patches on this system
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS68303"></a><a id="ARPLS68304"></a><a id="ARPLS68304"></a><a id="ARPLS68303"></a><div class="props_rev_3"><a id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" name="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA"></a><h4 id="ARPLS-GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" class="sect4"><span class="enumeration_section">157.5.1 </span>ACCEPT_SQL_PATCH Function &amp; Procedure
                  </h4>
                  <div>
                     <p>This procedure accepts a recommended SQL patch as recommended by the specified SQL diagnosis task.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-1452C47F-A61F-41EB-AE24-8F880441992C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.ACCEPT_SQL_PATCH (
   task_name      IN  VARCHAR2,
   object_id      IN  NUMBER := NULL,
   name           IN  VARCHAR2 := NULL,
   description    IN  VARCHAR2 := NULL,
   category       IN  VARCHAR2 := NULL,
   task_owner     IN  VARCHAR2 := NULL,
   replace        IN  BOOLEAN := FALSE,
   force_match    IN  BOOLEAN := FALSE)
 RETURN VARCHAR2;
</pre><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.ACCEPT_SQL_PATCH (
   task_name      IN  VARCHAR2,
   object_id      IN  NUMBER := NULL,
   name           IN  VARCHAR2 := NULL,
   description    IN  VARCHAR2 := NULL,
   category       IN  VARCHAR2 := NULL,
   task_owner     IN  VARCHAR2 := NULL,
   replace        IN  BOOLEAN := FALSE,
   force_match    IN  BOOLEAN := FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-609A1EA5-7D21-45FD-B5CD-52EE46283A0A">Parameters</p>
                        <div class="tblformal" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-7980E831-AD40-41D7-806A-B4BB4E9DA0A1">
                           <p class="titleintable">Table 157-10 ACCEPT_SQL_PATCH Function &amp; Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ACCEPT_SQL_PATCH Function &amp; Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.ACCEPT_SQL_PATCH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e2051">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e2054">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2059" headers="d896326e2051 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2059 d896326e2054 ">
                                       <p>Name of the SQL diagnosis task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2067" headers="d896326e2051 ">
                                       <p><code class="codeph">object_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2067 d896326e2054 ">
                                       <p>Identifier of the advisor framework object representing the SQL statement associated to the diagnosis task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2075" headers="d896326e2051 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2075 d896326e2054 ">
                                       <p>Name of the patch. It cannot contain double quotation marks. The name is case sensitive. If not specified, the system will generate a unique name for the SQL patch.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2083" headers="d896326e2051 ">
                                       <p><code class="codeph">description</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2083 d896326e2054 ">
                                       <p>User specified string describing the purpose of this SQL patch. Maximum size of description is <code class="codeph">500</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2094" headers="d896326e2051 ">
                                       <p><code class="codeph">category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2094 d896326e2054 ">
                                       <p>Category name which must match the value of the <code class="codeph">SQLDIAGNOSE_CATEGORY</code> parameter in a session for the session to use this patch. It defaults to the value <code class="codeph">DEFAULT</code>. This is also the default of the <code class="codeph">SQLDIAGNOSE_CATEGORY</code> parameter. The category must be a valid Oracle identifier. The category name specified is always converted to upper case. The combination of the normalized SQL text and category name create a unique key for a patch. An accept will fail if this combination is duplicated.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2111" headers="d896326e2051 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2111 d896326e2054 ">
                                       <p>Owner of the diagnosis task. This is an optional parameter that has to be specified to accept a SQL Patch associated to a diagnosis task owned by another user. The current user is the default value.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2119" headers="d896326e2051 ">
                                       <p><code class="codeph">replace</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2119 d896326e2054 ">
                                       <p>If the patch already exists, it will be replaced if this argument is <code class="codeph">TRUE</code>. It is an error to pass a name that is already being used for another signature/category pair, even with replace set to <code class="codeph">TRUE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2133" headers="d896326e2051 ">
                                       <p><code class="codeph">force_match</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2133 d896326e2054 ">
                                       <p>If <code class="codeph">TRUE</code> this causes SQL Patches to target all SQL statements which have the same text after normalizing all literal values into bind variables. (Note that if a combination of literal values and bind values is used in a SQL statement, no bind transformation occurs.) This is analogous to the matching algorithm used by the <code class="codeph">FORCE</code> option of the <code class="codeph">CURSOR_SHARING</code> parameter. If <code class="codeph">FALSE</code>, literals are not transformed. This is analogous to the matching algorithm used by the <code class="codeph">EXACT</code> option of the <code class="codeph">CURSOR_SHARING</code> parameter.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-8FEF6522-87C0-423F-AC49-5509837DEFB1">Return Values</p>
                        <p>Name of the SQL patch</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-D39C8736-5C34-41AE-AFF4-B303DE9C6149">Usage Notes</p>
                        <p>Requires <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">SQL</code> <code class="codeph">PROFILE</code> privilege
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68305"></a><a id="ARPLS68306"></a><a id="ARPLS68306"></a><a id="ARPLS68305"></a><div class="props_rev_3"><a id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E" name="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E"></a><h4 id="ARPLS-GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E" class="sect4"><span class="enumeration_section">157.5.2 </span>ALTER_SQL_PATCH Procedure
                  </h4>
                  <div>
                     <p>This procedure alters specific attributes of an existing SQL patch object.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-89A077C7-6E19-419C-AEC3-C11DE671CA65">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.ALTER_SQL_PATCH (
   name            IN  VARCHAR2,
   attribute_name  IN  VARCHAR2,
   value           IN  VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-8A949DAD-9F10-4D80-8C10-FCEACE52183E">Parameters</p>
                        <div class="tblformal" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-DF29E9E9-5FD2-4F65-A587-9215C1840EE7">
                           <p class="titleintable">Table 157-11 ALTER_SQL_PATCH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_SQL_PATCH Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.ALTER_SQL_PATCH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e2292">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e2295">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2300" headers="d896326e2292 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2300 d896326e2295 ">
                                       <p>Name of SQL patch to alter. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2308" headers="d896326e2292 ">
                                       <p><code class="codeph">attribute_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2308 d896326e2295 ">
                                       <p>Name of SQL patch to alter. Possible values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">STATUS</code> -&gt; can be set to <code class="codeph">ENABLED</code> or <code class="codeph">DISABLED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NAME</code> -&gt; can be reset to a valid name (must be a valid Oracle identifier and must be unique).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DESCRIPTION</code> -&gt; can be set to any string of size no more than 500
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CATEGORY</code> -&gt; can be reset to a valid category name (must be valid Oracle identifier and must be unique when combined with normalized SQL text)
                                             </p>
                                          </li>
                                       </ul>
                                       <p>This parameter is mandatory and is case sensitive.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2344" headers="d896326e2292 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2344 d896326e2295 ">
                                       <p>New value of the attribute. See <code class="codeph">attribute_name</code> for valid attribute values. This parameter is mandatory.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-D2C5417A-E38E-48ED-BF06-5461C8918C9D">Usage Notes</p>
                        <p>Requires <code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">SQL</code> <code class="codeph">PATCH</code> privilege
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68307"></a><a id="ARPLS68308"></a><a id="ARPLS68308"></a><a id="ARPLS68307"></a><div class="props_rev_3"><a id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72" name="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72"></a><h4 id="ARPLS-GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72" class="sect4"><span class="enumeration_section">157.5.3 </span>CANCEL_DIAGNOSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure cancels a diagnostic task.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72__GUID-2B488A1E-47B0-4B73-8EAC-72F47174BA6B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CANCEL_DIAGNOSIS_TASK (
    taskname        IN   VARCHAR2); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72__GUID-96902673-C2B5-44AD-9EFD-EB5B94B2A9B0">Parameters</p>
                        <div class="tblformal" id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72__GUID-ADA462CD-AD79-43C4-BF68-AAF444CDC35A">
                           <p class="titleintable">Table 157-12 CANCEL_DIAGNOSIS_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CANCEL_DIAGNOSIS_TASK Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.CANCEL_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e2481">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e2484">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2489" headers="d896326e2481 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2489 d896326e2484 ">
                                       <p>Name of task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68309"></a><a id="ARPLS68310"></a><a id="ARPLS68310"></a><a id="ARPLS68309"></a><div class="props_rev_3"><a id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" name="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F"></a><h4 id="ARPLS-GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" class="sect4"><span class="enumeration_section">157.5.4 </span>CREATE_DIAGNOSIS_TASK Functions
                  </h4>
                  <div>
                     <p>This function creates a diagnostic task in order to diagnose a single SQL statement. It returns a SQL diagnosis task unique name</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F__GUID-8986199E-FFDA-4A0A-BB0D-F7CEC41D98A5">Syntax</p>
                        <p>Prepares the diagnosis of a single statement given its text:</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK (
    sql_text           IN   CLOB,
    bind_list          IN   sql_binds := NULL,
    user_name          IN   VARCHAR2  := NULL,
    scope              IN   VARCHAR2  := SCOPE_COMPREHENSIVE,
    time_limit         IN   NUMBER    := TIME_LIMIT_DEFAULT,
    task_name          IN   VARCHAR2  := NULL,
    description        IN   VARCHAR2  := NULL,
    problem_type       IN   NUMBER    := PROBLEM_TYPE_PERFORMANCE)
  RETURN VARCHAR2;
</pre><p>Prepares the diagnosis of a single statement from the Cursor Cache given its identifier:</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK (
    sql_id             IN   VARCHAR2,
    plan_hash_value    IN   NUMBER    := NULL,
    scope              IN   VARCHAR2  := SCOPE_COMPREHENSIVE,
    time_limit         IN   NUMBER    := TIME_LIMIT_DEFAULT,
    task_name          IN   VARCHAR2  := NULL,
    description        IN   VARCHAR2  := NULL,
    problem_type       IN   NUMBER    := PROBLEM_TYPE_PERFORMANCE)
  RETURN VARCHAR2;
</pre><p>Prepares the diagnosis of a Sqlset:</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK (
    sqlset_name       IN VARCHAR2,
    basic_filter      IN VARCHAR2 :=  NULL,
    object_filter     IN VARCHAR2 :=  NULL,
    rank1             IN VARCHAR2 :=  NULL,
    rank2             IN VARCHAR2 :=  NULL,
    rank3             IN VARCHAR2 :=  NULL,
    result_percentage IN NUMBER   :=  NULL,
    result_limit      IN NUMBER   :=  NULL,
    scope             IN VARCHAR2 :=  SCOPE_COMPREHENSIVE,
    time_limit        IN NUMBER   :=  TIME_LIMIT_DEFAULT,
    task_name         IN VARCHAR2 :=  NULL,
    description       IN VARCHAR2 :=  NULL,
    plan_filter       IN VARCHAR2 :=  'MAX_ELAPSED_TIME',
    sqlset_owner      IN VARCHAR2 :=  NULL,
    problem_type      IN NUMBER   :=  PROBLEM_TYPE_PERFORMANCE)  RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F__GUID-C55F3E0E-0FC9-4E9B-946F-027E60509406">Parameters</p>
                        <div class="tblformal" id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F__GUID-BCFC60B8-881B-4AE2-948C-103D2C5AAA32">
                           <p class="titleintable">Table 157-13 CREATE_DIAGNOSIS_TASK Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_DIAGNOSIS_TASK Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e2616">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e2619">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2624" headers="d896326e2616 ">
                                       <p><code class="codeph">sql_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2624 d896326e2619 ">
                                       <p>Text of a SQL statement</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2632" headers="d896326e2616 ">
                                       <p><code class="codeph">bind_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2632 d896326e2619 ">
                                       <p>Set of bind values</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2640" headers="d896326e2616 ">
                                       <p><code class="codeph">user_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2640 d896326e2619 ">
                                       <p>Username for who the statement/sqlset will be diagnosed</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2648" headers="d896326e2616 ">
                                       <p><code class="codeph">scope</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2648 d896326e2619 ">
                                       <p>Diagnosis scope (limited/comprehensive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2656" headers="d896326e2616 ">
                                       <p><code class="codeph">time_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2656 d896326e2619 ">
                                       <p>Maximum duration in seconds for the diagnosis session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2664" headers="d896326e2616 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2664 d896326e2619 ">
                                       <p>Optional diagnosis task name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2672" headers="d896326e2616 ">
                                       <p>description</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2672 d896326e2619 ">
                                       <p>Maximum of 256 SQL diagnosis session description</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2679" headers="d896326e2616 ">
                                       <p><code class="codeph">problem_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2679 d896326e2619 ">
                                       <p>Determines the goal of the task. Possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">PROBLEM_TYPE_WRONG_RESULTS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROBLEM_TYPE_EXECUTION_ERROR</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2700" headers="d896326e2616 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2700 d896326e2619 ">
                                       <p>Identifier of the statement</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2708" headers="d896326e2616 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2708 d896326e2619 ">
                                       <p>Hash value of the SQL execution plan</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2716" headers="d896326e2616 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2716 d896326e2619 ">
                                       <p>Sqlset name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2725" headers="d896326e2616 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2725 d896326e2619 ">
                                       <p>SQL predicate to filter the SQL from the SQL tuning set (STS)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2733" headers="d896326e2616 ">
                                       <p><code class="codeph">object_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2733 d896326e2619 ">
                                       <p>Object filter</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2741" headers="d896326e2616 ">
                                       <p><code class="codeph">rank(i)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2741 d896326e2619 ">
                                       <p>Order-by clause on the selected SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2749" headers="d896326e2616 ">
                                       <p><code class="codeph">result_percentage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2749 d896326e2619 ">
                                       <p>Percentage on the sum of a ranking measure</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2757" headers="d896326e2616 ">
                                       <p><code class="codeph">result_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2757 d896326e2619 ">
                                       <p>Top L(imit) SQL from (filtered/ranked) SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2765" headers="d896326e2616 ">
                                       <p><code class="codeph">plan_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2765 d896326e2619 ">
                                       <p>Plan filter. It is applicable in case there are multiple plans (<code class="codeph">plan_hash_value</code>). This filter allows selecting one plan (plan_hash_value) only. Possible values are:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">LAST_GENERATED</code>: plan with most recent timestamp
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FIRST_GENERATED</code>: opposite to <code class="codeph">LAST_GENERATED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LAST_LOADED</code>: plan with most recent <code class="codeph">first_load_time</code> stat info
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FIRST_LOADED</code>: opposite to <code class="codeph">LAST_LOADED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_ELAPSED_TIME</code>: plan with maximum elapsed time
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_BUFFER_GETS</code>: plan with maximum buffer gets
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_DISK_READS</code>: plan with maximum disk reads
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_DIRECT_WRITES</code>: plan with maximum direct writes
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_OPTIMIZER_COST</code>: plan with maximum optimum cost
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e2829" headers="d896326e2616 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e2829 d896326e2619 ">
                                       <p>Owner of the sqlset, or null for current schema owner</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B" name="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B"></a><h4 id="ARPLS-GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B" class="sect4"><span class="enumeration_section">157.5.5 </span>CREATE_SQL_PATCH Function
                  </h4>
                  <div>
                     <p>This function creates a SQL patch based on a set of user specified hints for specific statements identified by SQL text.</p>
                     <div class="section">
                        <p>A SQL patch is usually created automatically by the SQL Repair Advisor to prevent any errors during the compilation or execution of a SQL statement. This function provides a way to manually create a SQL patch based on a set of hints that resolves the error.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-97D5A6DB-2E51-4303-8621-60C7140182BF">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_SQL_PATCH (
    sql_text        IN   CLOB,
    hint_text       IN   CLOB,
    name            IN   VARCHAR2   := NULL,
    description     IN   VARCHAR2   := NULL,
    category        IN   VARCHAR2   := NULL,
    validate        IN   BOOLEAN    := TRUE)
RETURN VARCHAR2; </pre><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_SQL_PATCH (
    sql_id          IN   VARCHAR2,
    hint_text       IN   CLOB,
    name            IN   VARCHAR2   := NULL,
    description     IN   VARCHAR2   := NULL,
    category        IN   VARCHAR2   := NULL,
    validate        IN   BOOLEAN    := TRUE)
RETURN VARCHAR2; </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-C9B09174-4351-43ED-BC47-7D9A0C2AC175">Parameters</p>
                        <div class="tblformal" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-145DFA76-83C0-45CD-9EAE-6CC8E6A9DC35">
                           <p class="titleintable">Table 157-14 CREATE_SQL_PATCH Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_SQL_PATCH Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.CREATE_SQL_PATCH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d896326e2948">Parameter</th>
                                    <th align="left" valign="bottom" id="d896326e2951">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896326e2956" headers="d896326e2948 ">
                                       <p><code class="codeph">sql_text</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896326e2956 d896326e2951 ">
                                       <p>Text of the SQL statement</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896326e2964" headers="d896326e2948 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896326e2964 d896326e2951 ">
                                       <p>The SQL identifier for the SQL statement</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896326e2972" headers="d896326e2948 ">
                                       <p><code class="codeph">hint_text</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896326e2972 d896326e2951 ">
                                       <p>Hints to include in the SQL patch</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896326e2980" headers="d896326e2948 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896326e2980 d896326e2951 ">
                                       <p>Optional SQL patch name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896326e2988" headers="d896326e2948 ">
                                       <p><code class="codeph">description</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896326e2988 d896326e2951 ">
                                       <p>Description of the SQL patch</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896326e2996" headers="d896326e2948 ">
                                       <p><code class="codeph">category</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896326e2996 d896326e2951 ">
                                       <p>Category name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896326e3004" headers="d896326e2948 ">
                                       <p><code class="codeph">validate</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896326e3004 d896326e2951 ">
                                       <p>Whether to validate the provided hints</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-FDE2E6D9-1375-4791-82A0-2365B1D94CB2">Return Values</p>
                        <p>Both functions return the SQL patch name.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68311"></a><a id="ARPLS68312"></a><a id="ARPLS68312"></a><a id="ARPLS68311"></a><div class="props_rev_3"><a id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" name="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0"></a><h4 id="ARPLS-GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" class="sect4"><span class="enumeration_section">157.5.6 </span>CREATE_STGTAB_SQLPATCH Procedure
                  </h4>
                  <div>
                     <p>This procedure creates the staging table used for transporting SQL patches from one system to another.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0__GUID-E046437E-47FF-4E77-8E49-3A13B6BAB1A4">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH (
   table_name       IN  VARCHAR2,
   schema_name      IN  VARCHAR2 := NULL,
   tablespace_name  IN  VARCHAR2 := NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0__GUID-39E41105-B4B1-4A65-A29B-2B7DFBA8E852">Parameters</p>
                        <div class="tblformal" id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0__GUID-1A84E7DC-4210-4AF0-B15E-9FE26C6FE2EB">
                           <p class="titleintable">Table 157-15 CREATE_STGTAB_SQLPATCH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_STGTAB_SQLPATCH Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e3126">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e3129">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3134" headers="d896326e3126 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3134 d896326e3129 ">
                                       <p>(Mandatory) Name of the table to create (case-sensitive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3142" headers="d896326e3126 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3142 d896326e3129 ">
                                       <p>Schema to create the table in, or <code class="codeph">NULL</code> for current schema (case-sensitive)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3153" headers="d896326e3126 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3153 d896326e3129 ">
                                       <p>Tablespace to store the staging table within, or <code class="codeph">NULL</code> for current user's default tablespace (case-sensitive)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68313"></a><a id="ARPLS68314"></a><a id="ARPLS68314"></a><a id="ARPLS68313"></a><div class="props_rev_3"><a id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE" name="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE"></a><h4 id="ARPLS-GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE" class="sect4"><span class="enumeration_section">157.5.7 </span>DROP_DIAGNOSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure drops a diagnostic task.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE__GUID-2874243B-3F68-410E-8BDD-51486E671CAD">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.DROP_DIAGNOSIS_TASK (
    taskname        IN   VARCHAR2); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE__GUID-2A642BC7-1832-4EF4-8C64-0B05EF4A9CFF">Parameters</p>
                        <div class="tblformal" id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE__GUID-2DB27893-459D-468B-82A0-AEB348739747">
                           <p class="titleintable">Table 157-16 DROP_DIAGNOSIS_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_DIAGNOSIS_TASK Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.DROP_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e3273">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e3276">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3281" headers="d896326e3273 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3281 d896326e3276 ">
                                       <p>Name of task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68315"></a><a id="ARPLS68316"></a><a id="ARPLS68316"></a><a id="ARPLS68315"></a><div class="props_rev_3"><a id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4" name="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4"></a><h4 id="ARPLS-GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4" class="sect4"><span class="enumeration_section">157.5.8 </span>DROP_SQL_PATCH Procedure
                  </h4>
                  <div>
                     <p>This procedure drops the named SQL patch from the database.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-9281BF43-43FD-486F-9BA7-0C3F0364A30E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.DROP_SQL_PATCH (
   name     IN  VARCHAR2,   ignore   IN  BOOLEAN := FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-FD786E0E-2774-48A5-9126-18EEC8C32B77">Parameters</p>
                        <div class="tblformal" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-66F9691B-2586-46C3-96AE-4114EC54D87F">
                           <p class="titleintable">Table 157-17 DROP_SQL_PATCH Function &amp; Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_SQL_PATCH Function &amp; Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.DROP_SQL_PATCH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e3399">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e3402">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3407" headers="d896326e3399 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3407 d896326e3402 ">
                                       <p>Name of patch to be dropped. The name is case sensitive.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3415" headers="d896326e3399 ">
                                       <p><code class="codeph">ignore</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3415 d896326e3402 ">
                                       <p>Ignore errors due to object not existing.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-A4BE8FFC-DB24-46BA-B865-45F38B2766AA">Usage Notes</p>
                        <p>Requires <code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">SQL</code> <code class="codeph">PATCH</code> privilege
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68317"></a><a id="ARPLS68318"></a><a id="ARPLS68318"></a><a id="ARPLS68317"></a><div class="props_rev_3"><a id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8" name="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8"></a><h4 id="ARPLS-GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8" class="sect4"><span class="enumeration_section">157.5.9 </span>EXECUTE_DIAGNOSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure executes a diagnostic task.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8__GUID-F9F6BEBF-4643-4969-A167-353050154037">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK (
    taskname        IN   VARCHAR2); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8__GUID-CE4733E8-C044-4094-9CBD-1F1A8FD83954">Parameters</p>
                        <div class="tblformal" id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8__GUID-F63B7F4E-D710-4532-8A0E-B057C973DE2C">
                           <p class="titleintable">Table 157-18 EXECUTE_DIAGNOSIS_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXECUTE_DIAGNOSIS_TASK Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e3549">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e3552">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3557" headers="d896326e3549 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3557 d896326e3552 ">
                                       <p>Name of task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68319"></a><a id="ARPLS68320"></a><a id="ARPLS68320"></a><a id="ARPLS68319"></a><div class="props_rev_3"><a id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2" name="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2"></a><h4 id="ARPLS-GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2" class="sect4"><span class="enumeration_section">157.5.10 </span>EXPLAIN_SQL_TESTCASE Function
                  </h4>
                  <div>
                     <p>This procedure explains a SQL test case.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2__GUID-97D5A6DB-2E51-4303-8621-60C7140182BF">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPLAIN_SQL_TESTCASE (
    sqlTestCase        IN   CLOB)
  RETURN CLOB; </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2__GUID-7CC32565-717E-41A3-9504-96CA8B789CBA">Parameters</p>
                        <div class="tblformal" id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2__GUID-8EC92A52-4E35-4411-A017-FEAA434E2D53">
                           <p class="titleintable">Table 157-19 EXPLAIN_SQL_TESTCASE Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPLAIN_SQL_TESTCASE Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXPLAIN_SQL_TESTCASE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e3674">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e3677">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3682" headers="d896326e3674 ">
                                       <p><code class="codeph">sqlTestCase</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3682 d896326e3677 ">
                                       <p>XML document describing the SQL test case</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68321"></a><a id="ARPLS68322"></a><a id="ARPLS74959"></a><a id="ARPLS74960"></a><a id="ARPLS68322"></a><a id="ARPLS74959"></a><a id="ARPLS74960"></a><a id="ARPLS68321"></a><div class="props_rev_3"><a id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" name="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA"></a><h4 id="ARPLS-GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" class="sect4"><span class="enumeration_section">157.5.11 </span>EXPORT_SQL_TESTCASE Procedures
                  </h4>
                  <div>
                     <p>This procedure exports a SQL test case to a directory.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-CD61132E-3F55-4889-B963-CF35D9B68DD5">Syntax</p>
                        <p>This variant has to be provided with the SQL information. </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE (
    directory                IN              VARCHAR2,
    sql_text                 IN              CLOB,
    user_name                IN              VARCHAR2  :=  NULL,
    bind_list                IN              sql_binds :=  NULL,
    exportEnvironment        IN              BOOLEAN   :=  TRUE,
    exportMetadata           IN              BOOLEAN   :=  TRUE,
    exportData               IN              BOOLEAN   :=  FALSE,
    exportPkgbody            IN              BOOLEAN   :=  FALSE,
    samplingPercent          IN              NUMBER    :=  100,
    ctrlOptions              IN              VARCHAR2  :=  NULL,
    timeLimit                IN              NUMBER    :=  0,
    testcase_name            IN              VARCHAR2  :=  NULL,
    testcase                 IN OUT NOCOPY   CLOB,
    preserveSchemaMapping    IN              BOOLEAN   :=  FALSE,
    version                  IN              VARCHAR2  :=  'COMPATIBLE'); 
</pre><p>This variant extracts the SQL information from an incident file. </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE (
    directory                IN              VARCHAR2,
    incident_id              IN              VARCHAR2,
    exportEnvironment        IN              BOOLEAN   :=  TRUE,
    exportMetadata           IN              BOOLEAN   :=  TRUE,
    exportData               IN              BOOLEAN   :=  FALSE,
    exportPkgbody            IN              BOOLEAN   :=  FALSE,
    samplingPercent          IN              NUMBER    :=  100,
    ctrlOptions              IN              VARCHAR2  :=  NULL,
    timeLimit                IN              NUMBER    :=  
                                                DBMS_SQLDIAG.TIME_LIMIT_DEFAULT,
    testcase_name            IN              VARCHAR2  :=  NULL,
    testcase                 IN OUT NOCOPY   CLOB,
    preserveSchemaMapping    IN              BOOLEAN   :=  FALSE)
    version                  IN              VARCHAR2  :=  'COMPATIBLE'); 
</pre><p>This variant allow the SQL Test case to be generated from a cursor present in the cursor cache. Use <code class="codeph">V$SQL</code> to get the SQL identifier and the SQL hash value. 
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE (
    directory                IN              VARCHAR2,
    sql_id                   IN              VARCHAR2,
    plan_hash_value          IN              NUMBER    := NULL,
    exportEnvironment        IN              BOOLEAN   :=  TRUE,
    exportMetadata           IN              BOOLEAN   :=  TRUE,
    exportData               IN              BOOLEAN   :=  FALSE,
    exportPkgbody            IN              BOOLEAN   :=  FALSE,
    samplingPercent          IN              NUMBER    :=  100,
    ctrlOptions              IN              VARCHAR2  :=  NULL,
    timeLimit                IN              NUMBER    := 
                                                DBMS_SQLDIAG.TIME_LIMIT_DEFAULT,
    testcase_name            IN              VARCHAR2  :=  NULL,
    testcase                 IN OUT NOCOPY   CLOB,
    preserveSchemaMapping    IN              BOOLEAN   :=  FALSE)
    version                  IN              VARCHAR2  :=  'COMPATIBLE'); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-2D4C8045-63D8-40C9-B65A-28627E8C321B">Parameters</p>
                        <div class="tblformal" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-287520AE-A314-4418-A1DC-05C86FA4D899">
                           <p class="titleintable">Table 157-20 EXPORT_SQL_TESTCASE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SQL_TESTCASE Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.BUILD_SQL_TESTCASE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e3817">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e3820">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3825" headers="d896326e3817 ">
                                       <p><code class="codeph">directory</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3825 d896326e3820 ">
                                       <p>Directory to store the various generated files</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3833" headers="d896326e3817 ">
                                       <p><code class="codeph">sql_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3833 d896326e3820 ">
                                       <p>Text of the SQL statement to export</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3841" headers="d896326e3817 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3841 d896326e3820 ">
                                       <p>Incident ID containing the offending SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3849" headers="d896326e3817 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3849 d896326e3820 ">
                                       <p>Identifier of the statement in the cursor cache</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3857" headers="d896326e3817 ">
                                       <p><code class="codeph">username</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3857 d896326e3820 ">
                                       <p>Name of the user schema to use to parse the SQL, defaults to <code class="codeph">SYS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3867" headers="d896326e3817 ">
                                       <p><code class="codeph">bind_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3867 d896326e3820 ">
                                       <p>List of bind values associated to the statement</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3875" headers="d896326e3817 ">
                                       <p><code class="codeph">exportEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3875 d896326e3820 ">
                                       <p><code class="codeph">TRUE</code> if the compilation environment should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3885" headers="d896326e3817 ">
                                       <p><code class="codeph">exportMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3885 d896326e3820 ">
                                       <p><code class="codeph">TRUE</code> if the definition of the objects referenced in the SQL should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3895" headers="d896326e3817 ">
                                       <p><code class="codeph">exportData</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3895 d896326e3820 ">
                                       <p><code class="codeph">TRUE</code> if the data of the objects referenced in the SQL should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3905" headers="d896326e3817 ">
                                       <p><code class="codeph">exportPkgbody</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3905 d896326e3820 ">
                                       <p><code class="codeph">TRUE</code> if the body of the packages referenced in the SQL are exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3915" headers="d896326e3817 ">
                                       <p><code class="codeph">samplingPercent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3915 d896326e3820 ">
                                       <p>If is <code class="codeph">TRUE</code>, specify the sampling percentage to use to create the dump file
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3927" headers="d896326e3817 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3927 d896326e3820 ">
                                       <p>Opaque control parameters. For example, to execute three times, set <code class="codeph">ctrlOptions</code> with the following string: <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code>. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">name=”capture”</code> - <code class="codeph">BASIC</code> (default) or <code class="codeph">WITH_RUNTIME_INFO</code>. This parameter defines the mode of TCB capture. 
                                             </p>
                                             <p><code class="codeph">BASIC</code>: runs as Oracle release 11<span class="italic">g</span> TCB and captures all the information that is captured in that release as well as AWR reports, SQL monitor reports and parameter information. 
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code>: TCB captures runtime information for the SQL, such as dynamic sampling data, list of binds, Dynamic Plan info, along with information captured under <code class="codeph">BASIC</code> mode. 
                                             </p>
                                             <p>Note this must be the same value as used in the <a href="DBMS_SQLDIAG.html#GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" title="This procedure imports a SQL test case into a schema.">IMPORT_SQL_TESTCASE Procedures</a>. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=”mexec_count”</code> - Value is any positive number (<code class="codeph">N</code>). This parameter tells TCB to execute the statement for <code class="codeph">N</code> time and capture runtime info at end of each execution.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=”stat_history_since”</code> - Value is date. The object statistics history is exported using this parameter. Statistics history after date specified will be exported. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e3992" headers="d896326e3817 ">
                                       <p><code class="codeph">timeLimit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e3992 d896326e3820 ">
                                       <p>How much time should we spend exporting the SQL test case </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4000" headers="d896326e3817 ">
                                       <p><code class="codeph">testcaseName</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4000 d896326e3820 ">
                                       <p>An optional name for the SQL test case. This is used to prefix all the generated scripts</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4008" headers="d896326e3817 ">
                                       <p><code class="codeph">testcase</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4008 d896326e3820 ">
                                       <p>Resulting testcase</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4016" headers="d896326e3817 ">
                                       <p><code class="codeph">preserveSchemaMapping</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4016 d896326e3820 ">
                                       <p><code class="codeph">TRUE</code> if the schema (or schemas) are not re-mapped from the original environment to the test environment
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4026" headers="d896326e3817 ">
                                       <p><code class="codeph">version</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4026 d896326e3820 ">
                                       <p>Version of database objects to be extracted. This option is only valid for <code class="codeph">EXPORT</code>. Database objects or attributes incompatible with the version will not be extracted. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">COMPATIBLE</code> - (default) the version of the metadata corresponds to the database compatibility level and the compatibility release level for feature (as given in the <code class="codeph">V$COMPATIBILITY</code> view). Database compatibility must be set to 9.2 or higher. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LATEST</code> - the version of the metadata that specifies the current database version. 
                                             </p>
                                          </li>
                                          <li>
                                             <p>A specific database version. For example, if <code class="codeph">'10.0.0'</code>, this cannot be lower than Oracle Database release 10.0.0. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-DA894D03-16B8-43B7-9B2C-269C8EDC92BC">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A SQL test case generates a set of files needed to help reproduce a SQL failure on a different machine. It contains:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>a dump file containing schemas objects and statistics (<code class="codeph">.dmp</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>the explain plan for the statements (in advanced mode)</p>
                                 </li>
                                 <li>
                                    <p>diagnostic information gathered on the offending statement</p>
                                 </li>
                                 <li>
                                    <p>an import script to execute to reload the objects</p>
                                 </li>
                                 <li>
                                    <p>a SQL script to replay system statistics of the source</p>
                                 </li>
                                 <li>
                                    <p>a table of contents file describing the SQL test case</p>
                                 </li>
                                 <li>
                                    <p>metadata. (<code class="codeph">xxxxmain.xml</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a <code class="codeph">README.txt</code> file that explain the usage of the TCB
                                    </p>
                                 </li>
                                 <li>
                                    <p>the outlines used by the statement (<code class="codeph">ol.xml</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a list of parameters set in the exporting db/env (<code class="codeph">prmimp.sql</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a SQL monitor report, if any (<code class="codeph">smrpt.html</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>an AWR report, if any (<code class="codeph">awrrpt.html</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a list of binds used in this statement (<code class="codeph">bndlst.xml</code>)
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>You should not run Test Case Builder (TCB) under user <code class="codeph">SYS</code>. Instead, use another user who can be granted the <code class="codeph">DBA</code> role.
                              </p>
                           </li>
                           <li>
                              <p>The default setting for TCB is that data is not exported. However, in some cases data is required, such as to diagnose an outcome with a result that is not optimal. To export data, call <code class="codeph">EXPORT_SQL_TESTCASE</code> with <code class="codeph">exportData=&gt;TRUE</code> and the data will be imported by default, unless turned <code class="codeph">OFF</code> by<code class="codeph"> importData=&gt;FALSE</code>.
                              </p>
                           </li>
                           <li>
                              <p>TCB includes PL/SQL package spec by default, but not the PL/SQL package body. However, you may need to have the package body as well, for example, to invoke the PL/SQL functions, or because you have a Virtual Private Database (VPD) function defined in a package. To export a PL/SQL package body, call <code class="codeph">EXPORT_SQL_TESTCASE</code> with <code class="codeph">exportPkgbody=&gt;TRUE</code>. To import a PL/SQL package body, call <a href="DBMS_SQLDIAG.html#GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" title="This procedure imports a SQL test case into a schema.">IMPORT_SQL_TESTCASE Procedures</a> with i<code class="codeph">mportPkgbody=&gt;TRUE</code>.
                              </p>
                           </li>
                           <li>
                              <p>To export objects statistics history, the database compatibility should be set to 12.0 or higher.</p>
                           </li>
                           <li>
                              <p>This procedure does not export data and statistics on a Global Temporary Table (GTT).</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-C089E678-121E-4E02-B125-8CA8119AB2CF">Examples</p>
                        <p>The user can specify multiple parameters in the ctrlOptions encapsulated either by using the <code class="codeph">&lt;parameters&gt;</code> parent tag or without the parent tag. 
                        </p>
                        <p>Using the &lt;parameters&gt; tag</p><pre class="oac_no_warn" dir="ltr">&lt;parameters&gt;
&lt;parameter name="capture"&gt;with_runtime_info&lt;/parameter&gt;
&lt;parameter name="mexec_count"&gt;1&lt;/parameter&gt;
&lt;/parameters&gt;
</pre><p>Without the &lt;parameters&gt; tag</p><pre class="oac_no_warn" dir="ltr">&lt;parameter name="capture"&gt;with_runtime_info&lt;/parameter&gt;
&lt;parameter name="mexec_count"&gt;1&lt;/parameter&gt;'</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68323"></a><a id="ARPLS68324"></a><a id="ARPLS68324"></a><a id="ARPLS68323"></a><div class="props_rev_3"><a id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28" name="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28"></a><h4 id="ARPLS-GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28" class="sect4"><span class="enumeration_section">157.5.12 </span>EXPORT_SQL_TESTCASE_DIR_BY_INC Function
                  </h4>
                  <div>
                     <p>This function generates a SQL test case corresponding to the incident ID passed as an argument. It creates a set of scripts and dump file in the directory passed as an argument. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28__GUID-D3661DA8-8ED9-4BF3-A9E3-8D0E7682CA65">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_INC (
    incident_id        IN   NUMBER,
    directory          IN   VARCHAR2,
    exportEnvironment  IN   VARCHAR2 := 'TRUE',
    exportMetadata     IN   VARCHAR2 := 'TRUE',
    exportData         IN   VARCHAR2 := 'FALSE',
    samplingPercent    IN   VARCHAR2 := '100', 
    ctrlOptions        IN   VARCHAR2 := NULL
    version            IN   VARCHAR2 := 'COMPATIBLE')
 RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28__GUID-7E3813DE-F430-4A98-9E25-2F019F2FE7B3">Parameters</p>
                        <div class="tblformal" id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28__GUID-A84D3447-7D52-4A2E-98AF-79A7FB6821AC">
                           <p class="titleintable">Table 157-21 EXPORT_SQL_TESTCASE_DIR_BY_INC Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SQL_TESTCASE_DIR_BY_INC Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_INC subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e4303">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e4306">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4311" headers="d896326e4303 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4311 d896326e4306 ">
                                       <p>Incident ID containing the offending SQL. For more information about Incidents, see <span class="italic">Oracle Database Performance Tuning Guide</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4322" headers="d896326e4303 ">
                                       <p><code class="codeph">directory</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4322 d896326e4306 ">
                                       <p>Directory path to the generated files</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4330" headers="d896326e4303 ">
                                       <p><code class="codeph">exportEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4330 d896326e4306 ">
                                       <p><code class="codeph">TRUE</code> if the compilation environment should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4340" headers="d896326e4303 ">
                                       <p><code class="codeph">exportMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4340 d896326e4306 ">
                                       <p><code class="codeph">TRUE</code> if the definition of the objects referenced in the SQL should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4350" headers="d896326e4303 ">
                                       <p><code class="codeph">exportData</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4350 d896326e4306 ">
                                       <p><code class="codeph">TRUE</code> if the data of the objects referenced in the SQL should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4360" headers="d896326e4303 ">
                                       <p><code class="codeph">samplingPercent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4360 d896326e4306 ">
                                       <p>If is <code class="codeph">TRUE</code>, specify the sampling percentage to use to create the dump file
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4371" headers="d896326e4303 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4371 d896326e4306 ">
                                       <p>Opaque control parameters. For example, to execute three times, set <code class="codeph">ctrlOptions</code> with the following string: <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code>. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">capture</code> - <code class="codeph">BASIC</code> (default) or <code class="codeph">WITH_RUNTIME_INFO</code>. This parameter defines the mode of TCB capture. 
                                             </p>
                                             <p><code class="codeph">BASIC</code>: runs as Oracle release 11<span class="italic">g</span> TCB and captures all the information that is captured in that release as well as AWR reports, SQL monitor reports and parameter information. 
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code>: TCB captures runtime information for the SQL, such as dynamic sampling data, list of binds, Dynamic Plan info, along with information captured under <code class="codeph">BASIC</code> mode. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=mexec_count</code> - Value is any positive number (<code class="codeph">N</code>). This parameter tells TCB to execute the statement for <code class="codeph">N</code> time and capture runtime info at end of each execution.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=stat_history_since</code> - Value is date. The object statistics history is exported using this parameter. Statistics history after date specified will be exported. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4427" headers="d896326e4303 ">
                                       <p><code class="codeph">version</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4427 d896326e4306 ">
                                       <p>Version of database objects to be extracted. This option is only valid for <code class="codeph">EXPORT</code>. Database objects or attributes incompatible with the version will not be extracted. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">COMPATIBLE</code> - (default) the version of the metadata corresponds to the database compatibility level and the compatibility release level for feature (as given in the <code class="codeph">V$COMPATIBILITY</code> view). Database compatibility must be set to 9.2 or higher. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LATEST</code> - the version of the metadata that specifies the current database version. 
                                             </p>
                                          </li>
                                          <li>
                                             <p>A specific database version. For example, if <code class="codeph">'10.0.0'</code>, this cannot be lower than Oracle Database release 10.0.0. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68325"></a><a id="ARPLS68326"></a><a id="ARPLS68326"></a><a id="ARPLS68325"></a><div class="props_rev_3"><a id="GUID-753A399D-8E8A-4375-B1B5-10286683E642" name="GUID-753A399D-8E8A-4375-B1B5-10286683E642"></a><h4 id="ARPLS-GUID-753A399D-8E8A-4375-B1B5-10286683E642" class="sect4"><span class="enumeration_section">157.5.13 </span>EXPORT_SQL_TESTCASE_DIR_BY_TXT Function
                  </h4>
                  <div>
                     <p>This function generates a SQL Test Case corresponding to the SQL passed as an argument. It creates a set of scripts and dump files in the directory passed as an argument.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-753A399D-8E8A-4375-B1B5-10286683E642__GUID-02654CAE-85A6-4C40-9A25-3DCE71F263D2">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_TXT (
    incident_id        IN   NUMBER,
    directory          IN   VARCHAR2,
    sql_text           IN   CLOB,
    user_name          IN   VARCHAR2 := 'SYS',
    exportEnvironment  IN   VARCHAR2 := 'TRUE',
    exportMetadata     IN   VARCHAR2 := 'TRUE',
    exportData         IN   VARCHAR2 := 'FALSE',
    samplingPercent    IN   VARCHAR2 := '100', 
    ctrlOptions        IN   VARCHAR2 := NULL
    version            IN   VARCHAR2 := 'COMPATIBLE')
  RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-753A399D-8E8A-4375-B1B5-10286683E642__GUID-4E78208E-89B8-4A02-B54E-C82135E1A794">Parameters</p>
                        <div class="tblformal" id="GUID-753A399D-8E8A-4375-B1B5-10286683E642__GUID-F1912692-B78D-44F9-8E14-80976A87DE61">
                           <p class="titleintable">Table 157-22 EXPORT_SQL_TESTCASE_DIR_BY_TXT Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SQL_TESTCASE_DIR_BY_TXT Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_TXT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e4567">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e4570">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4575" headers="d896326e4567 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4575 d896326e4570 ">
                                       <p>Incident ID containing the offending SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4583" headers="d896326e4567 ">
                                       <p><code class="codeph">directory</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4583 d896326e4570 ">
                                       <p>Directory to store the various generated files</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4591" headers="d896326e4567 ">
                                       <p><code class="codeph">sql_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4591 d896326e4570 ">
                                       <p>Text of the SQL statement to explain</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4599" headers="d896326e4567 ">
                                       <p><code class="codeph">username</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4599 d896326e4570 ">
                                       <p>Name of the user schema to use to parse the SQL, defaults to <code class="codeph">SYS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4609" headers="d896326e4567 ">
                                       <p><code class="codeph">exportEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4609 d896326e4570 ">
                                       <p><code class="codeph">TRUE</code> if the compilation environment should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4619" headers="d896326e4567 ">
                                       <p><code class="codeph">exportMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4619 d896326e4570 ">
                                       <p><code class="codeph">TRUE</code> if the definition of the objects referenced in the SQL should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4629" headers="d896326e4567 ">
                                       <p><code class="codeph">exportData</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4629 d896326e4570 ">
                                       <p><code class="codeph">TRUE</code> if the data of the objects referenced in the SQL should be exported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4639" headers="d896326e4567 ">
                                       <p><code class="codeph">samplingPercent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4639 d896326e4570 ">
                                       <p>If is <code class="codeph">TRUE</code>, specify the sampling percentage to use to create the dump file
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4650" headers="d896326e4567 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4650 d896326e4570 ">
                                       <p>Opaque control parameters. For example, to execute three times, set <code class="codeph">ctrlOptions</code> with the following string: <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code>. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">capture</code> - <code class="codeph">BASIC</code> (default) or <code class="codeph">WITH_RUNTIME_INFO</code>. This parameter defines the mode of TCB capture. 
                                             </p>
                                             <p><code class="codeph">BASIC</code>: runs as Oracle Release 11<span class="italic">g</span> TCB and captures all the information that is captured in that release as well as AWR reports, SQL monitor reports and parameter information. 
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code>: TCB captures runtime information for the SQL, such as dynamic sampling data, list of binds, Dynamic Plan info, along with information captured under <code class="codeph">BASIC</code> mode. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=mexec_count</code> - Value is any positive number (<code class="codeph">N</code>). This parameter tells TCB to execute the statement for <code class="codeph">N</code> time and capture runtime info at end of each execution.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=stat_history_since</code> - Value is date. The object statistics history is exported using this parameter. Statistics history after date specified will be exported. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4706" headers="d896326e4567 ">
                                       <p><code class="codeph">version</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4706 d896326e4570 ">
                                       <p>Version of database objects to be extracted. This option is only valid for <code class="codeph">EXPORT</code>. Database objects or attributes incompatible with the version will not be extracted. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">COMPATIBLE</code> - (default) the version of the metadata corresponds to the database compatibility level and the compatibility release level for feature (as given in the <code class="codeph">V$COMPATIBILITY</code> view). Database compatibility must be set to 9.2 or higher. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LATEST</code> - the version of the metadata that specifies the current database version. 
                                             </p>
                                          </li>
                                          <li>
                                             <p>A specific database version. For example, if <code class="codeph">'10.0.0'</code>, this cannot be lower than Oracle Database Release 10.0.0. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68327"></a><a id="ARPLS68328"></a><a id="ARPLS68328"></a><a id="ARPLS68327"></a><div class="props_rev_3"><a id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF" name="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF"></a><h4 id="ARPLS-GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF" class="sect4"><span class="enumeration_section">157.5.14 </span>GET_FIX_CONTROL Function
                  </h4>
                  <div>
                     <p>This function returns the value of fix control for a given bug number.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF__GUID-E563BDF5-1BB6-4CC3-B558-1362ABD74CA1">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.GET_FIX_CONTROL (
    bug_number   IN    NUMBER)
  RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF__GUID-A15F0DA3-B12E-4F39-BEB4-2788E3BB7725">Parameters</p>
                        <div class="tblformal" id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF__GUID-FAF9767C-A270-4FD4-9904-611B83DEE53A">
                           <p class="titleintable">Table 157-23 GET_FIX_CONTROL Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_FIX_CONTROL Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.GET_FIX_CONTROL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e4847">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e4850">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4855" headers="d896326e4847 ">
                                       <p><code class="codeph">bug_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4855 d896326e4850 ">
                                       <p>Bug number</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72879"></a><a id="ARPLS72880"></a><a id="ARPLS72880"></a><a id="ARPLS72879"></a><div class="props_rev_3"><a id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7" name="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7"></a><h4 id="ARPLS-GUID-2E39041D-A7BF-4067-96C9-E78E810694E7" class="sect4"><span class="enumeration_section">157.5.15 </span>GET_SQL Function
                  </h4>
                  <div>
                     <p>This function loads a <code class="codeph">sql_setrow</code> from the trace file associated to an the given incident ID.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7__GUID-BF8D28F1-DC6D-4B4D-B000-D84CE4DF1321">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.GET_SQL (
    incident_id  IN     VARCHAR2)
  RETURN SQLSET_ROW;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7__GUID-8F1EEBA2-DB33-42D8-A4AE-D3676CAC3D0B">Parameters</p>
                        <div class="tblformal" id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7__GUID-24A8B442-975D-4E54-863B-FC5360886941">
                           <p class="titleintable">Table 157-24 GET_SQL Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_SQL Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.GET_SQL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e4975">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e4978">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e4983" headers="d896326e4975 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e4983 d896326e4978 ">
                                       <p>Identifier of the incident</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72881"></a><a id="ARPLS72882"></a><a id="ARPLS72882"></a><a id="ARPLS72881"></a><div class="props_rev_3"><a id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" name="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F"></a><h4 id="ARPLS-GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" class="sect4"><span class="enumeration_section">157.5.16 </span>IMPORT_SQL_TESTCASE Procedures
                  </h4>
                  <div>
                     <p>This procedure imports a SQL test case into a schema.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-2EF8CF98-D1A8-4023-9793-0C90ED715325">Syntax</p>
                        <p>This variant requires a source directory and SQL Testcase metadata object (in XML format). </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.IMPORT_SQL_TESTCASE (
    directory                IN   VARCHAR2,
    sqlTestCase              IN   CLOB,
    importEnvironment        IN   BOOLEAN   :=  TRUE,
    importMetadata           IN   BOOLEAN   :=  TRUE,
    importData               IN   BOOLEAN   :=  TRUE,
    importPkgbody            IN   BOOLEAN   :=  FALSE,
    importDiagnosis          IN   BOOLEAN   :=  TRUE,
    ignoreStorage            IN   BOOLEAN   :=  TRUE,
    ctrlOptions              IN   VARCHAR2  :=  NULL,
    preserveSchemaMapping    IN   BOOLEAN   :=  FALSE);
</pre><p>This variant requires a source directory name of SQL Testcase metadata file. </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.IMPORT_SQL_TESTCASE (
    directory                IN   VARCHAR2,
    filename                 IN   VARCHAR2,
    importEnvironment        IN   BOOLEAN   :=  TRUE,
    importMetadata           IN   BOOLEAN   :=  TRUE,
    importData               IN   BOOLEAN   :=  TRUE,
    importPkgbody            IN   BOOLEAN   :=  FALSE,
    importDiagnosis          IN   BOOLEAN   :=  TRUE,
    ignoreStorage            IN   BOOLEAN   :=  TRUE,
    ctrlOptions              IN   VARCHAR2  :=  NULL,
    preserveSchemaMapping    IN   BOOLEAN   :=  FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-2F360242-FF55-406C-8588-CF33840701D5">Parameters</p>
                        <div class="tblformal" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-082D6723-6C04-4EA7-91BF-7D31998294CE">
                           <p class="titleintable">Table 157-25 IMPORT_SQL_TESTCASE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_SQL_TESTCASE Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.IMPORT_SQL_TESTCASE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e5106">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e5109">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5114" headers="d896326e5106 ">
                                       <p><code class="codeph">directory</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5114 d896326e5109 ">
                                       <p>Directory containing test case files</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5122" headers="d896326e5106 ">
                                       <p><code class="codeph">filename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5122 d896326e5109 ">
                                       <p>Name of a file containing an XML document describing the SQL test case</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5130" headers="d896326e5106 ">
                                       <p><code class="codeph">importEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5130 d896326e5109 ">
                                       <p><code class="codeph">TRUE</code> if the compilation environment should be imported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5140" headers="d896326e5106 ">
                                       <p><code class="codeph">importMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5140 d896326e5109 ">
                                       <p><code class="codeph">TRUE</code> if the definition of the objects referenced in the SQL should be imported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5150" headers="d896326e5106 ">
                                       <p><code class="codeph">importData</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5150 d896326e5109 ">
                                       <p><code class="codeph">TRUE</code> if the data of the objects referenced in the SQL should be imported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5160" headers="d896326e5106 ">
                                       <p><code class="codeph">importPkgbody</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5160 d896326e5109 ">
                                       <p><code class="codeph">TRUE</code> if the body of the packages referenced in the SQL are imported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5170" headers="d896326e5106 ">
                                       <p><code class="codeph">importDiagnosis</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5170 d896326e5109 ">
                                       <p><code class="codeph">TRUE</code> if the diagnostic information associated to the task should be imported
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5180" headers="d896326e5106 ">
                                       <p><code class="codeph">ignoreStorage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5180 d896326e5109 ">
                                       <p><code class="codeph">TRUE</code> if the storage attributes should be ignored
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5190" headers="d896326e5106 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5190 d896326e5109 ">
                                       <p>Opaque control parameters, of which only <code class="codeph">capture</code> is valid for this subprogam. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">capture</code> - <code class="codeph">BASIC</code> (default) or <code class="codeph">WITH_RUNTIME_INFO</code>. This parameter defines the mode of TCB capture. 
                                             </p>
                                             <p><code class="codeph">BASIC</code>: runs as Oracle Release 11<span class="italic">g</span> TCB and captures all the information that is captured in that release as well as AWR reports, SQL monitor reports and parameter information. 
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code>: TCB captures runtime information for the SQL, such as dynamic sampling data, list of binds, Dynamic Plan info, along with information captured under <code class="codeph">BASIC</code> mode. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5227" headers="d896326e5106 ">
                                       <p><code class="codeph">preserveSchemaMapping</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5227 d896326e5109 ">
                                       <p><code class="codeph">TRUE</code> if the schema (or schemas) are not re-mapped from the original environment to the test environment (schema mapping in the target database will be identical to the source database). Note that when an import is run with <code class="codeph">preservesSchemaMapping</code> set to <code class="codeph">TRUE</code>, if the objects in the schemas exists then the import will overwrite the existing objects.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-04500083-BB2D-43C8-B594-D02613CF0F56">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A SQL test case generates a set of files needed to help reproduce a SQL failure on a different machine. It contains:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>a dump file containing schemas objects and statistics (<code class="codeph">.dmp</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>the explain plan for the statements (in advanced mode)</p>
                                 </li>
                                 <li>
                                    <p>diagnostic information gathered on the offending statement</p>
                                 </li>
                                 <li>
                                    <p>an import script to execute to reload the objects</p>
                                 </li>
                                 <li>
                                    <p>a SQL script to replay system statistics of the source</p>
                                 </li>
                                 <li>
                                    <p>a table of contents file describing the SQL test case</p>
                                 </li>
                                 <li>
                                    <p>metadata. (<code class="codeph">xxxxmain.xml</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a <code class="codeph">README.txt</code> file that explain the usage of the TCB
                                    </p>
                                 </li>
                                 <li>
                                    <p>the outlines used by the statement (<code class="codeph">ol.xml</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a list of parameters set in the exporting db/env (<code class="codeph">prmimp.sql</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a SQL monitor report, if any (<code class="codeph">smrpt.html</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>an AWR report, if any (<code class="codeph">awrrpt.html</code>)
                                    </p>
                                 </li>
                                 <li>
                                    <p>a list of binds used in this statement (<code class="codeph">bndlst.xml</code>)
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>You should not run Test Case Builder (TCB) under user <code class="codeph">SYS</code>. Instead, use another user who can be granted the <code class="codeph">SYSDBA</code> privilege
                              </p>
                           </li>
                           <li>
                              <p>The default setting for TCB is that data is not exported. However, in some cases data is required, such as to diagnose an outcome with a result that is not optimal. To export data, call <a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="This procedure exports a SQL test case to a directory.">EXPORT_SQL_TESTCASE Procedures</a> with <code class="codeph">exportData=&gt;TRUE</code> and the data will be imported by default, unless turned <code class="codeph">OFF</code> by<code class="codeph"> importData=&gt;FALSE</code>.
                              </p>
                           </li>
                           <li>
                              <p>TCB includes PL/SQL package spec by default, but not the PL/SQL package body. However, you may need to have the package body as well, for example, to invoke the PL/SQL functions, or because you have a Virtual Private Database (VPD) function defined in a package. To export a PL/SQL package body, call <a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="This procedure exports a SQL test case to a directory.">EXPORT_SQL_TESTCASE Procedures</a> with <code class="codeph">exportPkgbody=&gt;TRUE</code>. To import a PL/SQL package body, call <code class="codeph">IMPORT_SQL_TESTCASE</code> Procedures with i<code class="codeph">mportPkgbody=&gt;TRUE</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">capture</code> value used when invoking the <a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="This procedure exports a SQL test case to a directory.">EXPORT_SQL_TESTCASE Procedures</a> must be used when calling this procedure.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68329"></a><a id="ARPLS68330"></a><a id="ARPLS68330"></a><a id="ARPLS68329"></a><div class="props_rev_3"><a id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39" name="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39"></a><h4 id="ARPLS-GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39" class="sect4"><span class="enumeration_section">157.5.17 </span>INCIDENTID_2_SQL Procedure
                  </h4>
                  <div>
                     <p>This procedure initializes a <code class="codeph">sql_setrow</code> from an incident ID.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39__GUID-63CEB2C4-0FA6-4447-A59D-8F2758194A86">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.INCIDENTID_2_SQL (
    incident_id   IN     VARCHAR2,
    sql_stmt      OUT    SQLSET_ROW,
    problem_type  OUT    NUMBER, 
    err_code      OUT    BINARY_INTEGER,
    err_mesg      OUT    VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39__GUID-A8FF7B40-C47A-4CA7-AD0E-F69977454CC8">Parameters</p>
                        <div class="tblformal" id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39__GUID-0C0657FE-5555-4B03-AF00-D16DCD2063D6">
                           <p class="titleintable">Table 157-26 INCIDENTID_2_SQL Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INCIDENTID_2_SQL Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.INCIDENTID_2_SQL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e5488">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e5491">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5496" headers="d896326e5488 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5496 d896326e5491 ">
                                       <p>Identifier of the incident</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5504" headers="d896326e5488 ">
                                       <p><code class="codeph">sql_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5504 d896326e5491 ">
                                       <p>Resulting SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5512" headers="d896326e5488 ">
                                       <p><code class="codeph">problem_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5512 d896326e5491 ">
                                       <p>Tentative type of SQL problem (currently among <code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code> and <code class="codeph">PROBLEM_TYPE_EXECUTION_ERROR</code>) 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5526" headers="d896326e5488 ">
                                       <p><code class="codeph">err_code</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5526 d896326e5491 ">
                                       <p>Error code if any otherwise it is set to <code class="codeph">NULL</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5536" headers="d896326e5488 ">
                                       <p><code class="codeph">err_msg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5536 d896326e5491 ">
                                       <p>Error message if any otherwise it is set to <code class="codeph">NULL</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68331"></a><a id="ARPLS68332"></a><a id="ARPLS68332"></a><a id="ARPLS68331"></a><div class="props_rev_3"><a id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817" name="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817"></a><h4 id="ARPLS-GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817" class="sect4"><span class="enumeration_section">157.5.18 </span>INTERRUPT_DIAGNOSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure interrupts a diagnostic task.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817__GUID-7DB65F3D-4171-4DE8-B01D-345E7530B554">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.INTERRUPT_DIAGNOSIS_TASK (
    taskname        IN   VARCHAR2); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817__GUID-78B852B1-B099-4D58-ABB1-54BCF9E54B52">Parameters</p>
                        <div class="tblformal" id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817__GUID-147E02E6-7524-4011-B14F-DA8242E74538">
                           <p class="titleintable">Table 157-27 INTERRUPT_DIAGNOSIS_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INTERRUPT_DIAGNOSIS_TASK Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.INTERRUPT_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e5655">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e5658">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5663" headers="d896326e5655 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5663 d896326e5658 ">
                                       <p>Name of task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72883"></a><a id="ARPLS72884"></a><a id="ARPLS72884"></a><a id="ARPLS72883"></a><div class="props_rev_3"><a id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6" name="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6"></a><h4 id="ARPLS-GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6" class="sect4"><span class="enumeration_section">157.5.19 </span>LOAD_SQLSET_FROM_TCB Function
                  </h4>
                  <div>
                     <p>This function loads a <code class="codeph">SQLSET</code> from a Test Case Builder file.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6__GUID-43E2A292-C6BA-45EE-9F59-30501A07035A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.LOAD_SQLSET_FROM_TCB (
    directory        IN     VARCHAR2,
    filename         IN     VARCHAR2,
    sqlset_name      IN     VARCHAR2 DEFAULT NULL)
  RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6__GUID-47BD360E-E21D-4039-A5C3-452390752A3E">Parameters</p>
                        <div class="tblformal" id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6__GUID-BB716BD5-A523-4AC1-94F7-DEFE5286EE18">
                           <p class="titleintable">Table 157-28 LOAD_SQLSET_FROM_TCB Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOAD_SQLSET_FROM_TCB Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.LOAD_SQLSET_FROM_TCB subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e5783">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e5786">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5791" headers="d896326e5783 ">
                                       <p><code class="codeph">directory</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5791 d896326e5786 ">
                                       <p>Name of directory</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5799" headers="d896326e5783 ">
                                       <p><code class="codeph">filename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5799 d896326e5786 ">
                                       <p>Name of file</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5807" headers="d896326e5783 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5807 d896326e5786 ">
                                       <p>Name of <code class="codeph">SQLSET</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68333"></a><a id="ARPLS68334"></a><a id="ARPLS68334"></a><a id="ARPLS68333"></a><div class="props_rev_3"><a id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" name="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33"></a><h4 id="ARPLS-GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" class="sect4"><span class="enumeration_section">157.5.20 </span>PACK_STGTAB_SQLPATCH Procedure
                  </h4>
                  <div>
                     <p>This procedure packs SQL patches into the staging table created by a call to the CREATE_STGTAB_SQLPATCH Procedure.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-17D5F57A-AFF4-48A6-A1EF-89E16E0E0F33">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.UPPACK_STGTAB_SQLPATCH (
   patch_name            IN  VARCHAR2 := '%',
   patch_category        IN  VARCHAR2 := 'DEFAULT',
   staging_table_name    IN  VARCHAR2,
   staging_schema_owner  IN  VARCHAR2 := NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-0F9BEF61-3589-4639-98DF-331103091FC9">Parameters</p>
                        <div class="tblformal" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-751AFAE0-94BA-446D-8F8E-C58C545CE6A2">
                           <p class="titleintable">Table 157-29 UPPACK_STGTAB_SQLPATCH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UPPACK_STGTAB_SQLPATCH Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.UPPACK_STGTAB_SQLPATCH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e5927">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e5930">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5935" headers="d896326e5927 ">
                                       <p><code class="codeph">patch_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5935 d896326e5930 ">
                                       <p>Name of patch to pack (% wildcards acceptable, case-sensitive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5943" headers="d896326e5927 ">
                                       <p><code class="codeph">patch_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5943 d896326e5930 ">
                                       <p>Category to which to pack patches (% wildcards acceptable, case-insensitive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5951" headers="d896326e5927 ">
                                       <p><code class="codeph">staging_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5951 d896326e5930 ">
                                       <p>(Mandatory) Name of the table to use (case-sensitive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e5959" headers="d896326e5927 ">
                                       <p><code class="codeph">staging_schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e5959 d896326e5930 ">
                                       <p>Schema where the table resides, or <code class="codeph">NULL</code> for current schema (case-sensitive)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-7E0EF83D-20A7-47B0-BC36-4356331ADBC4">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Requires: <code class="codeph">ADMINISTER</code> <code class="codeph">SQL</code> <code class="codeph">PLAN MANAGEMENT</code> <code class="codeph">OBJECT</code> privilege and <code class="codeph">INSERT</code> privilege on the staging table
                              </p>
                           </li>
                           <li>
                              <p>By default, we move all SQL patches in category <code class="codeph">DEFAULT</code>. See the <a href="DBMS_SQLDIAG.html#GUID-9DF9E45B-64A4-4224-90A5-DF0271115CDC" title="Patches can be exported out of one system and imported into another by means of a staging table, provided by subprograms in this package. Like with SQL diagnosis sets, the operation of inserting into the staging table is called a "pack", and the operation of creating patches from staging table data is termed the "unpack".">Examples</a> for details. Note that the subprogram issues a <code class="codeph">COMMIT</code> after packing each SQL patch, so if an error is raised in mid-execution, some patches may be in the staging table.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="DBMS_SQLDIAG.html#GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" title="This procedure creates the staging table used for transporting SQL patches from one system to another.">CREATE_STGTAB_SQLPATCH Procedure</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS73961"></a><a id="ARPLS73962"></a><a id="ARPLS73962"></a><a id="ARPLS73961"></a><div class="props_rev_3"><a id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26" name="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26"></a><h4 id="ARPLS-GUID-66280D3C-B073-4B16-918D-8EC5EB348C26" class="sect4"><span class="enumeration_section">157.5.21 </span>REPLAY_SQL_TESTCASE Function
                  </h4>
                  <div>
                     <p>This function automates the reproduction of the SQL Test Case.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-75E5B415-0843-4514-8A0D-7B35EA997C05">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.REPLAY_SQL_TESTCASE (
   directory       IN   VARCHAR2,
   filename        IN   VARCHAR2,
   ctrlOptions     IN   VARCHAR2  := NULL,
   format          IN   VARCHAR2  := 'TEXT')
   RETURN CLOB;

DBMS_SQLDIAG.REPLAY_SQL_TESTCASE (
   directory       IN   VARCHAR2,
   sqlTestCase     IN   CLOB,
   ctrlOptions     IN   VARCHAR2  := NULL,
   format          IN   VARCHAR2  := 'TEXT')
   RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-D01F281A-4708-48FA-BDFF-6651560F3B9A">Parameters</p>
                        <div class="tblformal" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-D3286357-8DB6-4ADE-B42D-436391ACC2F6">
                           <p class="titleintable">Table 157-30 REPLAY_SQL_TESTCASE Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPLAY_SQL_TESTCASE Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.REPLAY_SQL_TESTCASE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e6125">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e6128">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6133" headers="d896326e6125 ">
                                       <p><code class="codeph">directory</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6133 d896326e6128 ">
                                       <p>Directory containing test case files</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6141" headers="d896326e6125 ">
                                       <p><code class="codeph">filename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6141 d896326e6128 ">
                                       <p>Name of a file containing an XML document describing the SQL test case</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6149" headers="d896326e6125 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6149 d896326e6128 ">
                                       <p>Opaque control parameters. For example, to execute three times, set <code class="codeph">ctrlOptions</code> with the following string: <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code>. 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">replay</code> - <code class="codeph">EXPLAIN</code> (default), <code class="codeph">OUTLINE</code>, <code class="codeph">EXECUTION</code> or <code class="codeph">OUTLINE EXECUTION</code>. This parameter defines TCB replay functionality.
                                             </p>
                                             <p><code class="codeph">EXPLAIN</code>: Replay explains the statement without using outlines
                                             </p>
                                             <p><code class="codeph">OUTLINE</code>: Replay uses outlines mode and explains the statement using outlines
                                             </p>
                                             <p><code class="codeph">EXECUTION</code>: Replay executes the statement without using outlines
                                             </p>
                                             <p><code class="codeph">OUTLINE EXECUTION</code>: Replay executes the statement using outlines
                                             </p>
                                             <p>Note that if the user gives an incorrect parameter value, then the <code class="codeph">replay</code> runs in default mode and no error is thrown.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=mexec_count</code> - Value is any positive number (<code class="codeph">N</code>). This parameter tells TCB to execute the statement for <code class="codeph">N</code> time and capture runtime info at end of each execution.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6213" headers="d896326e6125 ">
                                       <p><code class="codeph">sqlTestCase</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6213 d896326e6128 ">
                                       <p>SQL test case</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6221" headers="d896326e6125 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6221 d896326e6128 ">
                                       <p>Format of the replay report. Possible formats are: <code class="codeph">TEXT</code>, <code class="codeph">XML</code> and <code class="codeph">HTML</code>..
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-FA64327E-DE3D-4DD5-A91D-CF0ACE9ABB59">Examples</p><pre class="oac_no_warn" dir="ltr">TCB Replay Mode: Execute
 SELECT /* tcbdynpl_1 */ /*+ gather_plan_statistics */ * FROM (SELECT * FROM emp where emp.sal &gt; 100) emp, dept WHERE emp.deptno = dept.deptno And emp.sal &gt; 1000 /* tcbdynpl_1 */
 
Explain Plan
 Plan Hash Value  : 2219294842
 
-----------------------------------------------------------------
| Id  | Operation                       | Name           | Rows |
-----------------------------------------------------------------
|   0 | SELECT STATEMENT                |                |   13 |
| * 1 |   HASH JOIN                     |                |   13 |
|   2 |    NESTED LOOPS                 |                |      |
|   3 |     NESTED LOOPS                |                |   13 |
|   4 |      STATISTICS COLLECTOR       |                |      |
|   5 |       TABLE ACCESS FULL         | DEPT           |    4 |
| * 6 |      INDEX RANGE SCAN           | EMP_IDX_DEPTNO |      |
| * 7 |     TABLE ACCESS BY INDEX ROWID | EMP            |    3 |
| * 8 |    TABLE ACCESS FULL            | EMP            |   13 |
-----------------------------------------------------------------
 
Predicate Information (identified by operation id):
------------------------------------------
* 1 - access("EMP"."DEPTNO"="DEPT"."DEPTNO")
* 6 - access("EMP"."DEPTNO"="DEPT"."DEPTNO")
* 7 - filter("EMP"."SAL"&gt;1000)
* 8 - filter("EMP"."SAL"&gt;1000)

Runtime Plan
 Plan Hash Value  : 2219294842
 
-------------------------------------------------------
| Id  | Operation            | Name | E-Card | A-Card |
-------------------------------------------------------
|   0 | SELECT STATEMENT     |      |        |      0 |
| * 1 |   HASH JOIN          |      |     13 |      0 |
|   2 |    TABLE ACCESS FULL | DEPT |      4 |      0 |
| * 3 |    TABLE ACCESS FULL | EMP  |     13 |      0 |
-------------------------------------------------------
 
Predicate Information (identified by operation id):
------------------------------------------
* 1 - access("EMP"."DEPTNO"="DEPT"."DEPTNO")
* 3 - filter("EMP"."SAL"&gt;1000)
 
REPLAY Note:
-----------
- Replay used dynamic sampling
- Replay forced Dynamic plan</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68335"></a><a id="ARPLS68336"></a><a id="ARPLS68336"></a><a id="ARPLS68335"></a><div class="props_rev_3"><a id="GUID-605CE778-744A-437F-97D9-EA942939C697" name="GUID-605CE778-744A-437F-97D9-EA942939C697"></a><h4 id="ARPLS-GUID-605CE778-744A-437F-97D9-EA942939C697" class="sect4"><span class="enumeration_section">157.5.22 </span>REPORT_DIAGNOSIS_TASK Function
                  </h4>
                  <div>
                     <p>This function reports on a diagnostic task. It returns a <code class="codeph">CLOB</code> containing the desired report.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-605CE778-744A-437F-97D9-EA942939C697__GUID-3958363C-7266-4B51-8AD3-C040B47F3AFB">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.REPORT_DIAGNOSIS_TASK (
    taskname           IN   VARCHAR2,
    type               IN   VARCHAR2  := TYPE_TEXT,
    level              IN   VARCHAR2  := LEVEL_TYPICAL,
    section            IN   VARCHAR2  := SECTION_ALL,
    object_id          IN   NUMBER    := NULL,
    result_limit       IN   NUMBER    := NULL,
    owner_name         IN   VARCHAR2  := NULL)
  RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-605CE778-744A-437F-97D9-EA942939C697__GUID-610275F5-B267-4FDB-B691-108A2B20FE21">Parameters</p>
                        <div class="tblformal" id="GUID-605CE778-744A-437F-97D9-EA942939C697__GUID-F792199F-B619-483C-A69F-DCA197465E08">
                           <p class="titleintable">Table 157-31 REPORT_DIAGNOSIS_TASK Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_DIAGNOSIS_TASK Function Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.RESUME_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e6355">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e6358">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6363" headers="d896326e6355 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6363 d896326e6358 ">
                                       <p>Name of task to report</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6371" headers="d896326e6355 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6371 d896326e6358 ">
                                       <p>Type of the report. Possible values are: TEXT, HTML, XML (see <a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGIIAJH" title="This table describes Constants (Report Type (possible values) Constants) used by DBMS_SQLDIAG subprograms.">Table 157-4</a>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6384" headers="d896326e6355 ">
                                       <p><code class="codeph">level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6384 d896326e6358 ">
                                       <p>Format of the recommendations. Possible values are TYPICAL, BASIC, ALL (<a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHJADG" title="This table describes Constants (Report Level (possible values) Constants) used by DBMS_SQLDIAG subprograms.">Table 157-5</a>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6397" headers="d896326e6355 ">
                                       <p><code class="codeph">section</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6397 d896326e6358 ">
                                       <p>Particular section in the report. Possible values are: SUMMARY, FINDINGS, PLAN, INFORMATION, ERROR, ALL (<a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGDCJGI" title="This table describes Constants (Report Section (possible values) Constants) used by DBMS_SQLDIAG subprograms.">Table 157-6</a>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6410" headers="d896326e6355 ">
                                       <p><code class="codeph">object_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6410 d896326e6358 ">
                                       <p>Identifier of the advisor framework object that represents a given statement in a SQL Tuning Set (STS).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6418" headers="d896326e6355 ">
                                       <p><code class="codeph">result_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6418 d896326e6358 ">
                                       <p>Number of statements in a STS for which the report is generated</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6426" headers="d896326e6355 ">
                                       <p><code class="codeph">owner_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6426 d896326e6358 ">
                                       <p>Name of the task execution to use. If <code class="codeph">NULL</code>, the report will be generated for the last task execution.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68337"></a><a id="ARPLS68338"></a><a id="ARPLS68338"></a><a id="ARPLS68337"></a><div class="props_rev_3"><a id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E" name="GUID-FD120209-62E6-488C-9CE1-547408A3B81E"></a><h4 id="ARPLS-GUID-FD120209-62E6-488C-9CE1-547408A3B81E" class="sect4"><span class="enumeration_section">157.5.23 </span>RESET_DIAGNOSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure resets a diagnostic task.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E__GUID-FFFE7221-0172-4952-BAF5-8F0FDDE91B3D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.RESET_DIAGNOSIS_TASK (
    taskname        IN   VARCHAR2); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E__GUID-80061C26-48C2-4339-A882-E2BCF6F8D52E">Parameters</p>
                        <div class="tblformal" id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E__GUID-8482BA12-2747-460A-A89B-6106580AFC7B">
                           <p class="titleintable">Table 157-32 RESET_DIAGNOSIS_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESET_DIAGNOSIS_TASK Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.RESET_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e6547">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e6550">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6555" headers="d896326e6547 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6555 d896326e6550 ">
                                       <p>Name of task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68339"></a><a id="ARPLS68340"></a><a id="ARPLS68340"></a><a id="ARPLS68339"></a><div class="props_rev_3"><a id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F" name="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F"></a><h4 id="ARPLS-GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F" class="sect4"><span class="enumeration_section">157.5.24 </span>RESUME_DIAGNOSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure resumes a diagnostic path.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F__GUID-9FA7CBCE-579B-4E7C-944E-A42BA4F8A9FB">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.RESUME_DIAGNOSIS_TASK (
    taskname        IN   VARCHAR2); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F__GUID-4F672596-F65B-4AA6-8020-89763D731210">Parameters</p>
                        <div class="tblformal" id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F__GUID-4BC24726-EFE5-4AED-A589-48FB41665A0E">
                           <p class="titleintable">Table 157-33 RESUME_DIAGNOSIS_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESUME_DIAGNOSIS_TASK Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.RESUME_DIAGNOSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e6672">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e6675">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6680" headers="d896326e6672 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6680 d896326e6675 ">
                                       <p>Name of task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68341"></a><a id="ARPLS68342"></a><a id="ARPLS68342"></a><a id="ARPLS68341"></a><div class="props_rev_3"><a id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A" name="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A"></a><h4 id="ARPLS-GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A" class="sect4"><span class="enumeration_section">157.5.25 </span>SET_DIAGNOSIS_TASK_PARAMETER Procedure
                  </h4>
                  <div>
                     <p>This procedure is called to update the value of a SQL diagnosis parameter of type <code class="codeph">VARCHAR2</code>. 
                     </p>
                     <div class="section">
                        <p>The task must be set to its initial state before calling this procedure. The diagnosis parameters that can be set by this procedure are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">MODE</code>: diag scope (comprehensive, limited)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">_SQLDIAG_FINDING_MODE</code>: findings in the report (see <span class="q">"<a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBICBE" title="This table describes Constants (Findings Filter Constants) used by DBMS_SQLDIAG subprograms.">Table 157-8</a>"</span> for possible values)
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A__GUID-51CD4028-31FC-4F73-ACBF-06E868B54326">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.SET_DIAGNOSIS_TASK_PARAMETER (
    taskname           IN   VARCHAR2,
    parameter          IN   VARCHAR2,    value              IN   NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A__GUID-6ED4B322-F1E4-4C51-AB98-69DB00416A50">Parameters</p>
                        <div class="tblformal" id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A__GUID-DE35556F-4CB2-4FF6-A5AB-56A495D04B58">
                           <p class="titleintable">Table 157-34 SET_DIAGNOSIS_TASK_PARAMETER Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_DIAGNOSIS_TASK_PARAMETER Procedure Parameters" summary="This table describes the parameters used by the DBMS_SQLDIAG.SET_DIAGNOSIS_TASK_PARAMETER subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e6820">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e6823">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6828" headers="d896326e6820 ">
                                       <p><code class="codeph">taskname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6828 d896326e6823 ">
                                       <p>Identifier of the task to execute</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6836" headers="d896326e6820 ">
                                       <p><code class="codeph">parameter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6836 d896326e6823 ">
                                       <p>Name of the parameter to set</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6844" headers="d896326e6820 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6844 d896326e6823 ">
                                       <p>New value of the specified parameter</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68343"></a><a id="ARPLS68344"></a><a id="ARPLS68344"></a><a id="ARPLS68343"></a><div class="props_rev_3"><a id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0" name="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0"></a><h4 id="ARPLS-GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0" class="sect4"><span class="enumeration_section">157.5.26 </span>UNPACK_STGTAB_SQLPATCH Procedure
                  </h4>
                  <div>
                     <p>This procedure unpacks from the staging table populated by a call to the PACK_STGTAB_SQLPATCH Procedure. It uses the patch data stored in the staging table to create patches on this system. Users can opt to replace existing patches with patch data when they exist already. In this case, note that it is only possible to replace patches referring to the same statement if the names are the same (see the ACCEPT_SQL_PATCH Function &amp; Procedure).</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-AC26EEAB-CACF-4DDB-9985-02396B3D0CC0">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.UPPACK_STGTAB_SQLPATCH (
   patch_name            IN  VARCHAR2 := '%',
   patch_category        IN  VARCHAR2 := '%',
   replace               IN  BOOLEAN,
   staging_table_name    IN  VARCHAR2,
   staging_schema_owner  IN  VARCHAR2 := NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-2010027E-D878-4EE3-BED9-871FFBF513CA">Parameters</p>
                        <div class="tblformal" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-D5173FCE-8BC3-4F28-B7F6-F59A17A60054">
                           <p class="titleintable">Table 157-35 UPPACK_STGTAB_SQLPATCH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UPPACK_STGTAB_SQLPATCH Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLDIAG.UPPACK_STGTAB_SQLPATCH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896326e6962">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896326e6965">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6970" headers="d896326e6962 ">
                                       <p><code class="codeph">patch_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6970 d896326e6965 ">
                                       <p>Name of patch to unpack (% wildcards acceptable, case-sensitive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6978" headers="d896326e6962 ">
                                       <p><code class="codeph">patch_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6978 d896326e6965 ">
                                       <p>Category from which to unpack patches (% wildcards acceptable, case-insensitive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6986" headers="d896326e6962 ">
                                       <p><code class="codeph">replace</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6986 d896326e6965 ">
                                       <p>Replace patches if they already exist. Note that patches cannot be replaced if there is one in the staging table with the same name as an active patch on different SQL. The subprogram raises an error if there an attempt to create a patch that already exists.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e6994" headers="d896326e6962 ">
                                       <p><code class="codeph">staging_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e6994 d896326e6965 ">
                                       <p>(Mandatory) Name of the table to use (case-sensitive)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896326e7002" headers="d896326e6962 ">
                                       <p><code class="codeph">staging_schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896326e7002 d896326e6965 ">
                                       <p>Schema where the table resides, or <code class="codeph">NULL</code> for current schema (case-sensitive)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-2E43C7FC-FC44-4120-B7CC-2CADCFDCE5CB">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Requires: <code class="codeph">ADMINISTER</code> <code class="codeph">SQL</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">OBJECT</code> privilege and <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privilege on the staging table
                              </p>
                           </li>
                           <li>
                              <p>By default, all SQL patches in the staging table are moved. The function commits after successfully loading each patch. If it fails in creating an individual patch, it raises an error and does not proceed to those remaining in the staging table.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="DBMS_SQLDIAG.html#GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" title="This procedure packs SQL patches into the staging table created by a call to the CREATE_STGTAB_SQLPATCH Procedure.">PACK_STGTAB_SQLPATCH Procedure</a></li>
                           <li><a href="DBMS_SQLDIAG.html#GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" title="This procedure accepts a recommended SQL patch as recommended by the specified SQL diagnosis task.">ACCEPT_SQL_PATCH Function &amp; Procedure</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>