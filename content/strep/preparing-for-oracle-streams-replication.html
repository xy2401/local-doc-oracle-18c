<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Preparing for Oracle Streams Replication</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Replication Administrator’s Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Replication Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.1.1">
      <link rel="alternate" href="streams-replication-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-01-24T23:25:23-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83780-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      <meta name="dcterms.release" content="Release 18">
      <link rel="prev" href="configuring-oracle-streams-replication.html" title="Previous" type="text/html">
      <link rel="next" href="simple-oracle-streams-replication-configuration.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Streams Replication Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="STREP">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-oracle-streams-replication.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="simple-oracle-streams-replication-configuration.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Replication Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-oracle-streams-replication.html" property="item" typeof="WebPage"><span property="name">    Configuring Oracle Streams Replication </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Preparing for Oracle Streams Replication</li>
            </ol>
            <a id="GUID-9110C1DA-8450-42A5-BA4B-2C0117DB8BFC" name="GUID-9110C1DA-8450-42A5-BA4B-2C0117DB8BFC"></a><a id="STREP011"></a>
            
            <h2 id="STREP-GUID-9110C1DA-8450-42A5-BA4B-2C0117DB8BFC" class="sect2"><span class="enumeration_chapter">1 </span> Preparing for Oracle Streams Replication
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d3226e100" class="indexterm-anchor"></a><a id="d3226e104" class="indexterm-anchor"></a><a id="d3226e108" class="indexterm-anchor"></a>This chapter contains information about preparing for an Oracle Streams replication environment. This chapter also describes best practices to follow when you are preparing for an Oracle Streams replication environment.
               </p>
               <p>This chapter contains these topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="preparing-for-oracle-streams-replication.html#GUID-B8B82178-BD45-4499-B40A-8286CFEC5840">Overview of Oracle Streams Replication</a></p>
                  </li>
                  <li>
                     <p><a href="preparing-for-oracle-streams-replication.html#GUID-C32C3F56-49EF-4964-A984-9CB220DCB5B3">Decisions to Make Before Configuring Oracle Streams Replication</a></p>
                  </li>
                  <li>
                     <p><a href="preparing-for-oracle-streams-replication.html#GUID-BB2E76CA-3645-4469-8750-4B276B8A955B">Tasks to Complete Before Configuring Oracle Streams Replication</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-9110C1DA-8450-42A5-BA4B-2C0117DB8BFC__GUID-F9BA0B8B-9E4F-418E-99D7-E70806CB3D59">
                  <p class="notep1">See Also:</p>
                  <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS"><span class="italic">Oracle Streams Concepts and Administration </span></a>for general information about Oracle Streams. This document assumes that you understand the concepts described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS"><span class="italic">Oracle Streams Concepts and Administration</span></a>.
                  </p>
               </div>
            </div><a id="STREP221"></a><a id="STREP220"></a><div class="props_rev_3"><a id="GUID-B8B82178-BD45-4499-B40A-8286CFEC5840" name="GUID-B8B82178-BD45-4499-B40A-8286CFEC5840"></a><h3 id="STREP-GUID-B8B82178-BD45-4499-B40A-8286CFEC5840" class="sect3"><span class="enumeration_section">1.1 </span>Overview of Oracle Streams Replication
               </h3>
               <div>
                  <p><span class="bold">Replication</span> is the process of sharing database objects and data at multiple databases. To maintain replicated database objects and data at multiple databases, a change to one of these database objects at a database is shared with the other databases. Through this process, the database objects and data are kept synchronized at all of the databases in the replication environment. In an Oracle Streams replication environment, the database where a change originates is called the <span class="bold">source database</span>, and a database where a change is shared is called a <span class="bold">destination database</span>.
                  </p>
                  <p>When you use Oracle Streams, replication of a data manipulation language (DML) or data definition language (DDL) change typically includes three steps:</p>
                  <ol>
                     <li id="GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__BABBFEDJ">
                        <p>A capture process, a synchronous capture, or an application creates one or more logical change records (LCRs) and enqueues them. An LCR is a message with a specific format that describes a database change. A capture process reformats changes captured from the redo log into LCRs, a synchronous capture uses an internal mechanism to reformat changes into LCRs, and an application can construct LCRs. If the change was a DML operation, then each row LCR encapsulates a row change resulting from the DML operation to a replicated table at the source database. If the change was a DDL operation, then a DDL LCR encapsulates the DDL change that was made to a replicated database object at a source database.</p>
                     </li>
                     <li id="GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__i1008108">
                        <p>A propagation propagates the staged LCRs to another queue, which usually resides in a database that is separate from the database where the LCRs were captured. An LCR can be propagated to several different queues before it arrives at a destination database.</p>
                     </li>
                     <li id="GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__i1008119">
                        <p>At a destination database, an apply process consumes the change. An apply process can dequeue the LCR and apply it directly to the replicated database object, or an apply process can dequeue the LCR and send it to an apply handler. In an Oracle Streams replication environment, an apply handler performs customized processing of an LCR. An apply handler can apply the change in the LCR to the replicated database object, or it can consume the LCR in some other way.</p>
                     </li>
                  </ol>
                  <p>Step <a href="preparing-for-oracle-streams-replication.html#GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__BABBFEDJ">1</a> and Step <a href="preparing-for-oracle-streams-replication.html#GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__i1008119">3</a> are required, but Step <a href="preparing-for-oracle-streams-replication.html#GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__i1008108">2</a> is optional because, in some cases, a capture process or a synchronous capture can enqueue a change into a queue, and an apply process can dequeue the change from the same queue. An application can also enqueue an LCR directly at a destination database. In addition, in a heterogeneous replication environment in which an Oracle database shares information with a non-Oracle database, an apply process can apply changes directly to a non-Oracle database without propagating LCRs.
                  </p>
                  <p><a href="preparing-for-oracle-streams-replication.html#GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__i1009526">Figure 1-1</a> illustrates the information flow in an Oracle Streams replication environment.
                  </p>
                  <div class="figure" id="GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__i1009526">
                     <p class="titleinfigure">Figure 1-1 Oracle Streams Information Flow</p><img width="351" src="img/strep022.gif" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows" longdesc="img_text/strep022.html"><br><a href="img_text/strep022.html">Description of "Figure 1-1 Oracle Streams Information Flow"</a></div>
                  <!-- class="figure" -->
                  <p>This document describes how to use Oracle Streams for replication and includes the following information: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Conceptual information relating to Oracle Streams replication</p>
                     </li>
                     <li>
                        <p>Instructions for configuring an Oracle Streams replication environment</p>
                     </li>
                     <li>
                        <p>Instructions for administering, monitoring, and troubleshooting an Oracle Streams replication environment</p>
                     </li>
                     <li>
                        <p>Examples that create and maintain Oracle Streams replication environments</p>
                     </li>
                  </ul>
                  <p>Replication is one form of information sharing. Oracle Streams enables replication, and it also enables other forms of information sharing, such as messaging, event management and notification, data warehouse loading, and data protection.</p>
                  <div class="infoboxnotealso" id="GUID-B8B82178-BD45-4499-B40A-8286CFEC5840__GUID-595F719F-2E4F-4B1C-884E-48F612F040BC">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS115"><span class="italic">Oracle Streams Concepts and Administration </span></a>for more information about Oracle Streams
                     </p>
                  </div>
               </div><a id="STREP591"></a><div class="props_rev_3"><a id="GUID-8476277E-1966-4815-9E5E-DBEBEFD0B86D" name="GUID-8476277E-1966-4815-9E5E-DBEBEFD0B86D"></a><h4 id="STREP-GUID-8476277E-1966-4815-9E5E-DBEBEFD0B86D" class="sect4"><span class="enumeration_section">1.1.1 </span>Common Reasons to Use Oracle Streams Replication
                  </h4>
                  <div>
                     <p>The following are some of the most common reasons for using Oracle Streams replication:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Availability:</span> Replication provides fast, local access to shared data because it balances activity over multiple sites. Some users can access one server while other users access different servers, thereby reducing the load at all servers. Also, users can access data from the replication site that has the lowest access cost, which is typically the site that is geographically closest to them.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Performance and Network Load Reduction:</span> Replication provides fast, local access to shared data because it balances activity over multiple sites. Some users can access one server while other users access different servers, thereby reducing the load at all servers. Applications can access various regional servers instead of accessing one central server. This configuration can reduce network load dramatically.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="STREP222"></a><div class="props_rev_3"><a id="GUID-9E0F6877-1EDC-42B1-B028-117393411EEE" name="GUID-9E0F6877-1EDC-42B1-B028-117393411EEE"></a><h4 id="STREP-GUID-9E0F6877-1EDC-42B1-B028-117393411EEE" class="sect4"><span class="enumeration_section">1.1.2 </span>Rules in an Oracle Streams Replication Environment
                  </h4>
                  <div>
                     <p>A <span class="bold">rule</span> is a database object that enables a client to perform an action when an event occurs and a condition is satisfied. Rules are evaluated by a <span class="bold">rules engine</span>, which is a built-in part of Oracle Database. Rules control the information flow in an Oracle Streams replication environment. Each of the following components is a client of the rules engine:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Capture process</p>
                        </li>
                        <li>
                           <p>Synchronous capture</p>
                        </li>
                        <li>
                           <p>Propagation</p>
                        </li>
                        <li>
                           <p>Apply process</p>
                        </li>
                     </ul>
                     <p>You control the behavior of each of these Oracle Streams clients using rules. A <span class="bold">rule set</span> contains a collection of rules. You can associate a positive and a negative rule set with a capture process, a propagation, and an apply process, but a synchronous capture can have only a positive rule set.
                     </p>
                     <p>In a replication environment, an Oracle Streams client performs an action if a logical change record (LCR) satisfies its rule sets. In general, an LCR satisfies the rule sets for an Oracle Streams client if <span class="italic">no rules</span> in the negative rule set evaluate to <code class="codeph">TRUE</code> for the LCR, and <span class="italic">at least one rule</span> in the positive rule set evaluates to <code class="codeph">TRUE</code> for the LCR. If an Oracle Streams client is associated with both a positive and negative rule set, then the negative rule set is always evaluated first.
                     </p>
                     <p>Specifically, you control the information flow in an Oracle Streams replication environment in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Specify the changes that a capture process captures from the redo log or discards. That is, if a change found in the redo log satisfies the rule sets for a capture process, then the capture process captures the change. If a change found in the redo log does not satisfy the rule sets for a capture process, then the capture process discards the change.</p>
                        </li>
                        <li>
                           <p>Specify the changes that a synchronous capture captures or discards. That is, if a DML change made to a table satisfies the rule set for a synchronous capture, then the synchronous capture captures the change. If a DML change made to a table does not satisfy the rule set for a synchronous capture, then the synchronous capture discards the change.</p>
                        </li>
                        <li>
                           <p>Specify the LCRs that a propagation propagates from one queue to another or discards. That is, if an LCR in a queue satisfies the rule sets for a propagation, then the propagation sends the LCR. If an LCR in a queue does not satisfy the rule sets for a propagation, then the propagation discards the LCR.</p>
                        </li>
                        <li>
                           <p>Specify the LCRs that an apply process dequeues or discards. That is, if an LCR in a queue satisfies the rule sets for an apply process, then the apply process dequeues and processes the LCR. If an LCR in a queue does not satisfy the rule sets for an apply process, then the apply process discards the&nbsp;LCR.</p>
                        </li>
                     </ul>
                     <p><a id="d3226e591" class="indexterm-anchor"></a>You can use the Oracle-supplied PL/SQL package <code class="codeph">DBMS_STREAMS_ADM</code> to create rules for an Oracle Streams replication environment. You can specify these system-created rules at the following levels:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Table level - Contains a rule condition that evaluates to <code class="codeph">TRUE</code> for changes made to a particular table
                           </p>
                        </li>
                        <li>
                           <p>Schema level - Contains a rule condition that evaluates to <code class="codeph">TRUE</code> for changes made to a particular schema and the database objects in the schema
                           </p>
                        </li>
                        <li>
                           <p>Global level - Contains a rule condition that evaluates to <code class="codeph">TRUE</code> for all changes made to a database
                           </p>
                        </li>
                     </ul>
                     <p>In addition, a single system-created rule can evaluate to <code class="codeph">TRUE</code> for DML changes or for DDL changes, but not both. So, for example, to replicate both DML and DDL changes to a particular table, you need both a table-level DML rule and a table-level DDL rule for the table.
                     </p>
                     <p>Oracle Streams also supports subsetting of table data with subset rules. If a replicated table in a database contains only a subset of the data, then you can configure Oracle Streams so that only the appropriate subset of the data is replicated. For example, a particular database might maintain data for employees in a particular department only. One or more other databases in the replication environment might contain all of the data in the employees table. In this case, you can use subset rules to replicate changes to the data for employees in that department with the subset table, but not changes to employees in other departments.</p>
                     <p>Subsetting can be done at any point in the Oracle Streams information flow. That is, a capture process or synchronous capture can use a subset rule to capture a subset of changes to a particular table, a propagation can use a subset rule to propagate a subset of changes to a particular table, and an apply process can use a subset rule to apply a subset of changes to a particular table.</p>
                     <div class="infoboxnote" id="GUID-9E0F6877-1EDC-42B1-B028-117393411EEE__GUID-4E91CB48-8BB4-4D78-873B-B7774E3CB5EF">
                        <p class="notep1">Note:</p>
                        <p>Synchronous captures only use table rules. Synchronous captures ignore schema and global rules.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9E0F6877-1EDC-42B1-B028-117393411EEE__GUID-F021BB87-5987-41D5-84F0-99652F7664FE">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS006"><span class="italic">Oracle Streams Concepts and Administration </span></a>for more information about how rules are used in Oracle Streams
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="STREP223"></a><div class="props_rev_3"><a id="GUID-C32C3F56-49EF-4964-A984-9CB220DCB5B3" name="GUID-C32C3F56-49EF-4964-A984-9CB220DCB5B3"></a><h3 id="STREP-GUID-C32C3F56-49EF-4964-A984-9CB220DCB5B3" class="sect3"><span class="enumeration_section">1.2 </span>Decisions to Make Before Configuring Oracle Streams Replication
               </h3>
               <div>
                  <p>Make the following decisions before configuring Oracle Streams replication:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-9EBD9C47-B328-4740-B1CA-3066B5A9EFD6">Decide Which Type of Replication Environment to Configure</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502">Decide Whether to Configure Local or Downstream Capture for the Source Database</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E">Decide Whether Changes Are Allowed at One Database or at Multiple Databases</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B">Decide Whether the Replication Environment Will Have Nonidentical Replicas</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-7078844B-E2BE-48F5-8117-69B4F999FA73">Decide Whether the Replication Environment Will Use Apply Handlers</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-A9E8F02F-F101-4A22-A252-C6A9DC400CE8">Decide Whether to Maintain DDL Changes</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-0C7BB255-A828-4089-B624-41201F1E18D0">Decide How to Configure the Replication Environment</a></p>
                     </li>
                  </ul>
               </div><a id="STREP224"></a><div class="props_rev_3"><a id="GUID-9EBD9C47-B328-4740-B1CA-3066B5A9EFD6" name="GUID-9EBD9C47-B328-4740-B1CA-3066B5A9EFD6"></a><h4 id="STREP-GUID-9EBD9C47-B328-4740-B1CA-3066B5A9EFD6" class="sect4"><span class="enumeration_section">1.2.1 </span>Decide Which Type of Replication Environment to Configure
                  </h4>
                  <div>
                     <p>Before configuring a replication environment, first decide how many databases will be included in the replication environment, which database objects will be replicated, and how database changes will flow through the replication environment.</p>
                     <p>The following sections describe the most common types of replication environments:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F">About Two-Database Replication Environments</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-73C17827-8380-4F88-9FA4-F0CBE866D519">About Hub-And-Spoke Replication Environments</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-A2D46E06-F150-4FED-8BAC-C4D64D1962DE">About N-Way Replication Environments</a></p>
                        </li>
                     </ul>
                     <p>If these common replication environments do not meet your requirements, then you can configure almost any type of custom replication environment with Oracle Streams. For example, a custom replication environment might send database changes through several intermediary databases before the changes are applied at a destination database.</p>
                  </div><a id="STREP648"></a><a id="STREP649"></a><a id="STREP647"></a><div class="props_rev_3"><a id="GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F" name="GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F"></a><h5 id="STREP-GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F" class="sect5"><span class="enumeration_section">1.2.1.1 </span>About Two-Database Replication Environments
                     </h5>
                     <div>
                        <p>A <span class="bold">two-database replication environment</span> is one in which only two databases share the replicated database objects. The changes made to replicated database objects at one database are captured and sent directly to the other database, where they are applied. In a two-database replication environment, only one database might allow changes to the database objects, or both databases might allow changes to them.
                        </p>
                        <p>If only one database allows changes to the replicated database objects, then the other database contains read-only replicas of these database objects. This is a <span class="bold">one-way replication environment</span> and typically has the following basic components:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The first database has a capture process or synchronous capture to capture changes to the replicated database objects.</p>
                           </li>
                           <li>
                              <p>The first database has a propagation that sends the captured changes to the other database.</p>
                           </li>
                           <li>
                              <p>The second database has an apply process to apply changes from the first database.</p>
                           </li>
                           <li>
                              <p>For the best performance, each capture process and apply process has its own queue.</p>
                           </li>
                        </ul>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F__CEGGDFBD">Figure 1-2</a> shows a two-database replication environment configured for one-way replication.
                        </p>
                        <div class="figure" id="GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F__CEGGDFBD">
                           <p class="titleinfigure">Figure 1-2 One-Way Replication in a Two-Database Replication Environment</p><img width="231" src="img/strep510.gif" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows" longdesc="img_text/strep510.html"><br><a href="img_text/strep510.html">Description of "Figure 1-2 One-Way Replication in a Two-Database Replication Environment"</a></div>
                        <!-- class="figure" -->
                        <p>In a two-database replication environment, both databases can allow changes to the replicated database objects. In this case, both databases capture changes to these database objects and send the changes to the other database, where they are applied. This is a <span class="bold">bi-directional replication environment</span> and typically has the following basic components:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Each database has a capture process or synchronous capture to capture changes to the replicated database objects.</p>
                           </li>
                           <li>
                              <p>Each database has a propagation that sends the captured changes to the other database.</p>
                           </li>
                           <li>
                              <p>Each database has an apply process to apply changes from the other database.</p>
                           </li>
                           <li>
                              <p>For the best performance, each capture process and apply process has its own queue.</p>
                           </li>
                        </ul>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F__CEGBEHCC">Figure 1-3</a> show a two-database replication environment configured for bi-directional replication.
                        </p>
                        <div class="figure" id="GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F__CEGBEHCC">
                           <p class="titleinfigure">Figure 1-3 Bi-Directional Replication in a Two-Database Replication Environment</p><img width="231" src="img/strep511.gif" alt="Description of Figure 1-3 follows" title="Description of Figure 1-3 follows" longdesc="img_text/strep511.html"><br><a href="img_text/strep511.html">Description of "Figure 1-3 Bi-Directional Replication in a Two-Database Replication Environment"</a></div>
                        <!-- class="figure" -->
                        <p>Typically, in a bi-directional replication environment, you should configure conflict resolution to keep the replicated database objects synchronized. You can configure a two-database replication environment using Setup Streams Replication Wizard in Oracle Enterprise Manager Cloud Control or the configuration procedures in the <code class="codeph">DBMS_STREAMS_ADM</code> package.
                        </p>
                        <div class="infoboxnotealso" id="GUID-8B88B2DD-BECD-4D90-8C83-E3A95DD2117F__GUID-2CF08654-9514-47B2-9CAD-77D29527F087">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-F4C7F1FC-ED63-4D01-B2AC-51F116482903">Examples That Configure Two-Database Replication with Local Capture</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-F2027D09-D92B-4975-A5CA-4E258AF7B4CC">Examples That Configure Two-Database Replication with Downstream Capture</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-DE04AAC0-800A-4F94-89C2-80560B32B6AD">Example That Configures Two-Database Replication with Synchronous Captures</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="oracle-streams-conflict-resolution.html#GUID-5D79AA72-A682-4623-8A0B-4CF84D1FFC86"> Oracle Streams Conflict Resolution</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STREP651"></a><a id="STREP652"></a><a id="STREP650"></a><div class="props_rev_3"><a id="GUID-73C17827-8380-4F88-9FA4-F0CBE866D519" name="GUID-73C17827-8380-4F88-9FA4-F0CBE866D519"></a><h5 id="STREP-GUID-73C17827-8380-4F88-9FA4-F0CBE866D519" class="sect5"><span class="enumeration_section">1.2.1.2 </span>About Hub-And-Spoke Replication Environments
                     </h5>
                     <div>
                        <p>A <span class="bold">hub-and-spoke replication environment</span> is one in which a central database, or hub, communicates with secondary databases, or spokes. The spokes do not communicate directly with each other. In a hub-and-spoke replication environment, the spokes might or might not allow changes to the replicated database objects.
                        </p>
                        <p>If the spokes do not allow changes, then they contain read-only replicas of the database objects at the hub. This type of hub-and-spoke replication environment typically has the following basic components:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The hub has a capture process or synchronous capture to capture changes to the replicated database objects.</p>
                           </li>
                           <li>
                              <p>The hub has propagations that send the captured changes to each of the spokes.</p>
                           </li>
                           <li>
                              <p>Each spoke has an apply process to apply changes from the hub.</p>
                           </li>
                           <li>
                              <p>For the best performance, each capture process and apply process has its own queue.</p>
                           </li>
                        </ul>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-73C17827-8380-4F88-9FA4-F0CBE866D519__CEGGEIIJ">Figure 1-4</a> shows a hub-and-spoke replication environment with read-only spokes.
                        </p>
                        <div class="figure" id="GUID-73C17827-8380-4F88-9FA4-F0CBE866D519__CEGGEIIJ">
                           <p class="titleinfigure">Figure 1-4 Hub-and-Spoke Replication Environment with Read-Only Spokes</p><img width="231" src="img/strep502.gif" alt="Description of Figure 1-4 follows" title="Description of Figure 1-4 follows" longdesc="img_text/strep502.html"><br><a href="img_text/strep502.html">Description of "Figure 1-4 Hub-and-Spoke Replication Environment with Read-Only Spokes"</a></div>
                        <!-- class="figure" -->
                        <p>If the spokes allow changes to the database objects, then typically the changes are captured and sent back to the hub, and the hub replicates the changes with the other spokes. This type of hub-and-spoke replication environment typically has the following basic components:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The hub has a capture process or synchronous capture to capture changes to the replicated database objects.</p>
                           </li>
                           <li>
                              <p>The hub has propagations that send the captured changes to each of the spokes.</p>
                           </li>
                           <li>
                              <p>Each spoke has a capture process or synchronous capture to capture changes to the replicated database objects.</p>
                           </li>
                           <li>
                              <p>Each spoke has a propagation that sends changes made at the spoke back to the hub.</p>
                           </li>
                           <li>
                              <p>Each spoke has an apply process to apply changes from the hub and from the other spokes.</p>
                           </li>
                           <li>
                              <p>The hub has a separate apply process to apply changes from each spoke. A different apply process must apply changes from each spoke.</p>
                           </li>
                           <li>
                              <p>For the best performance, each capture process and apply process has its own queue.</p>
                           </li>
                        </ul>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-73C17827-8380-4F88-9FA4-F0CBE866D519__CEGFHGFF">Figure 1-5</a> shows a hub-and-spoke replication environment with read/write spokes.
                        </p>
                        <div class="figure" id="GUID-73C17827-8380-4F88-9FA4-F0CBE866D519__CEGFHGFF">
                           <p class="titleinfigure">Figure 1-5 Hub-and-Spoke Replication Environment with Read/Write Spokes</p><img width="231" src="img/strep503.gif" alt="Description of Figure 1-5 follows" title="Description of Figure 1-5 follows" longdesc="img_text/strep503.html"><br><a href="img_text/strep503.html">Description of "Figure 1-5 Hub-and-Spoke Replication Environment with Read/Write Spokes"</a></div>
                        <!-- class="figure" -->
                        <p>Typically, in a hub-and-spoke replication environment that allows changes at spoke databases, you should configure conflict resolution to keep the replicated database objects synchronized. Some hub-and-spoke replication environments allow changes to the replicated database objects at some spokes but not at others.</p>
                        <p>For example, an insurance company might use this configuration to share customer data between its headquarters and local sales offices. A networked version of this configuration can be especially useful in cases of limited connectivity between the end spokes and the hub. Suppose local sales offices have direct connectivity to regional offices, which in turn connect to headquarters, but the local offices have no direct connectivity to headquarters. This type of networked routing can eliminate some complexity that results when there are direct connections between all locations. The hub-and-spoke configuration is also useful in data warehousing environments, where detailed data is maintained at each store or spoke, and higher-level data can be shared with the data warehouse or hub.</p>
                        <p>You can configure a hub-and-spoke replication environment using the Setup Streams Replication Wizard in Oracle Enterprise Manager Cloud Control or the configuration procedures in the <code class="codeph">DBMS_STREAMS_ADM</code> package.
                        </p>
                        <div class="infoboxnotealso" id="GUID-73C17827-8380-4F88-9FA4-F0CBE866D519__GUID-8A7099C5-064A-48CE-B230-EC6B59E61FFA">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-91D2F532-471A-493D-83F5-D2B0F1C34848">Example That Configures Hub-and-Spoke Replication</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="oracle-streams-conflict-resolution.html#GUID-5D79AA72-A682-4623-8A0B-4CF84D1FFC86"> Oracle Streams Conflict Resolution</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STREP654"></a><a id="STREP653"></a><div class="props_rev_3"><a id="GUID-A2D46E06-F150-4FED-8BAC-C4D64D1962DE" name="GUID-A2D46E06-F150-4FED-8BAC-C4D64D1962DE"></a><h5 id="STREP-GUID-A2D46E06-F150-4FED-8BAC-C4D64D1962DE" class="sect5"><span class="enumeration_section">1.2.1.3 </span>About N-Way Replication Environments
                     </h5>
                     <div>
                        <p>An <span class="bold">n-way replication environment</span> is one in which each database communicates directly with each other database in the environment. The changes made to replicated database objects at one database are captured and sent directly to each of the other databases in the environment, where they are applied.
                        </p>
                        <p>An n-way replication environment typically has the following basic components:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Each database has one or more capture processes or synchronous captures to capture changes to the replicated database objects.</p>
                           </li>
                           <li>
                              <p>Each database has propagations that send the captured changes to each of the other databases.</p>
                           </li>
                           <li>
                              <p>Each database has apply processes that apply changes from each of the other databases. A different apply process must apply changes from each source database.</p>
                           </li>
                           <li>
                              <p>For the best performance, each capture process and apply process has its own queue.</p>
                           </li>
                        </ul>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-A2D46E06-F150-4FED-8BAC-C4D64D1962DE__CEGEAJGI">Figure 1-6</a> shows an n-way replication environment.
                        </p>
                        <div class="figure" id="GUID-A2D46E06-F150-4FED-8BAC-C4D64D1962DE__CEGEAJGI">
                           <p class="titleinfigure">Figure 1-6 N-Way Replication Environment</p><img width="231" src="img/strep501.gif" alt="Description of Figure 1-6 follows" title="Description of Figure 1-6 follows" longdesc="img_text/strep501.html"><br><a href="img_text/strep501.html">Description of "Figure 1-6 N-Way Replication Environment"</a></div>
                        <!-- class="figure" -->
                        <p><a id="d3226e1459" class="indexterm-anchor"></a><a id="d3226e1461" class="indexterm-anchor"></a><a id="d3226e1463" class="indexterm-anchor"></a>You can configure an n-way replication environment by using the following Oracle-supplied packages:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_STREAMS_ADM</code> can perform most of the configuration actions, including setting up queues, creating capture processes or synchronous captures, creating propagations, creating apply processes, and configuring rules and rule sets for the replication environment.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_CAPTURE_ADM</code> can start any capture processes you configured in the replication environment.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_APPLY_ADM</code> can configure apply processes, configure conflict resolution, and start apply processes, as well as other configuration tasks.
                              </p>
                           </li>
                        </ul>
                        <p>An n-way configuration is frequently used by organizations that must provide scalability and availability of data. Often, these applications use a "follow the sun" model, with replicas located around the globe. For example, an organization might have call centers in the United States, Europe, and Asia, each with a complete copy of the customer data. Customer calls can be routed to the appropriate call center depending on the time of day. Each call center has fast, local access to the data. If a site becomes unavailable for any reason, then transactions can be routed to a surviving location. This type of configuration can also be used to provide load balancing between multiple locations.</p>
                        <p>Typically, in an n-way replication environment, you should configure conflict resolution to keep the replicated database objects synchronized.</p>
                        <p>Configuring an n-way replication environment is beyond the scope of this guide. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STREX004"><span class="italic">Oracle Streams Extended Examples</span></a> for a detailed example that configures an n-way replication environment.
                        </p>
                        <div class="infoboxnotealso" id="GUID-A2D46E06-F150-4FED-8BAC-C4D64D1962DE__GUID-9F4E20A4-C96F-465D-A858-2BC5BD87971B">
                           <p class="notep1">See Also:</p>
                           <p><a href="oracle-streams-conflict-resolution.html#GUID-5D79AA72-A682-4623-8A0B-4CF84D1FFC86"> Oracle Streams Conflict Resolution</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="STREP226"></a><a id="STREP225"></a><div class="props_rev_3"><a id="GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502" name="GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502"></a><h4 id="STREP-GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502" class="sect4"><span class="enumeration_section">1.2.2 </span>Decide Whether to Configure Local or Downstream Capture for the Source Database
                  </h4>
                  <div>
                     <p>Local capture means that a capture process runs on the source database. Downstream capture means that a capture process runs on a database other than the source database. The primary reason to use downstream capture is to reduce the load on the source database, thereby improving its performance.</p>
                     <p>The database that captures changes made to the source database is called the <span class="bold">capture database</span>. One of the following databases can be the capture database:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Source database (local capture)</p>
                        </li>
                        <li>
                           <p>Destination database (downstream capture)</p>
                        </li>
                        <li>
                           <p>A third database (downstream capture)</p>
                        </li>
                     </ul>
                     <p><a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502__CACEBJEH">Figure 1-7</a> shows the role of the capture database.
                     </p>
                     <div class="figure" id="GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502__CACEBJEH">
                        <p class="titleinfigure">Figure 1-7 The Capture Database</p><img width="463" src="img/strep052.gif" alt="Description of Figure 1-7 follows" title="Description of Figure 1-7 follows" longdesc="img_text/strep052.html"><br><a href="img_text/strep052.html">Description of "Figure 1-7 The Capture Database"</a></div>
                     <!-- class="figure" -->
                     <p>If the source database or a third database is the capture database, then a propagation sends changes from the capture database to the destination database. If the destination database is the capture database, then this propagation between databases is not needed because the capture process and apply process use the same queue.</p>
                     <p><a id="d3226e1653" class="indexterm-anchor"></a><a id="d3226e1657" class="indexterm-anchor"></a>If you decide to configure a downstream capture process, then you must decide which type of downstream capture process you want to configure. The following types are available:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A <span class="bold">real-time downstream capture process</span> configuration means that redo transport services at the source database sends redo data to the downstream database, and a remote file server process (RFS) at the downstream database receives the redo data over the network and stores the redo data in the standby redo log.
                           </p>
                        </li>
                        <li>
                           <p>An <span class="bold">archived-log downstream capture process</span> configuration means that archived redo log files from the source database are copied to the downstream database, and the capture process captures changes in these archived redo log files. These log files can be transferred automatically using redo transport services, or they can be transferred manually using a method such at FTP.
                           </p>
                        </li>
                     </ul>
                     <p>The advantage of real-time downstream capture over archived-log downstream capture is that real-time downstream capture reduces the amount of time required to capture changes made at the source database. The time is reduced because the real-time downstream capture process does not need to wait for the redo log file to be archived before it can capture changes from it. You can configure multiple real-time downstream capture processes that captures changes from the same source database, but you cannot configure real-time downstream capture for multiple source databases at one downstream database.</p>
                     <p>The advantage of archived-log downstream capture over real-time downstream capture is that archived-log downstream capture allows downstream capture processes from multiple source databases at a downstream database. You can copy redo log files from multiple source databases to a single downstream database and configure multiple archived-log downstream capture processes to capture changes in these redo log files.</p>
                     <p>If you decide to configure a real-time downstream capture process, then you must complete the steps in <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A">Configuring Log File Transfer to a Downstream Capture Database</a>"</span> and <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE">Adding Standby Redo Logs for Real-Time Downstream Capture</a>"</span>.
                     </p>
                     <p>If you decide to configure an archived-log downstream capture process that uses archived redo log files that were transferred to the downstream database automatically by redo transport services, then you must complete the steps in <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A">Configuring Log File Transfer to a Downstream Capture Database</a>"</span>.
                     </p>
                     <div class="infoboxnote" id="GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502__GUID-EDB6093C-F7A9-41DB-8E6F-C1928B3102A0">
                        <p class="notep1">Note:</p>
                        <p>When the RMAN <code class="codeph">DUPLICATE</code> or <code class="codeph">CONVERT</code> <code class="codeph">DATABASE</code> command is used for database instantiation with one of these procedures, the destination database cannot be the capture database.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502__GUID-69754C89-C693-469E-9003-656EE34CDB68">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS129"><span class="italic">Oracle Streams Concepts and Administration</span></a> for information about local capture and downstream capture
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E">Decide Whether Changes Are Allowed at One Database or at Multiple Databases</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="instantiation-and-oracle-streams-replication.html#GUID-34BBF85F-E48A-497E-94F4-54911224CDEC">Recovery Manager (RMAN) and Oracle Streams Instantiation</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STREP227"></a><div class="props_rev_3"><a id="GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E" name="GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E"></a><h4 id="STREP-GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E" class="sect4"><span class="enumeration_section">1.2.3 </span>Decide Whether Changes Are Allowed at One Database or at Multiple Databases
                  </h4>
                  <div>
                     <p>A replication environment can limit changes to a particular replicated database object to one database only. In this case, the replicated database object is read/write at one database and read-only at the other databases in the replication environment. Or, a replication environment can allow changes to a replicated database object at two or more databases.</p>
                     <p>When two or more databases can change a replicated database object, conflicts are possible. A conflict is a mismatch between the old values in an LCR and the expected data in a table. Conflicts can occur in an Oracle Streams replication environment that permits concurrent data manipulation language (DML) operations on the same data at multiple databases. Conflicts typically result when two or more databases make changes to the same row in a replicated table at nearly the same time. If conflicts are not resolved, then they can result in inconsistent data at replica databases.</p>
                     <p>Typically, conflicts are possible in the following common types of replication environments:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Bi-directional replication in a two database environment where the replicated database objects at both databases are read/write</p>
                        </li>
                        <li>
                           <p>Hub-and-spoke replication where the replicated database objects are read/write at the hub and at one or more spokes</p>
                        </li>
                        <li>
                           <p>N-way replication where the replicated database objects are read/write at multiple databases</p>
                        </li>
                     </ul>
                     <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-9EBD9C47-B328-4740-B1CA-3066B5A9EFD6">Decide Which Type of Replication Environment to Configure</a>"</span> describes these common types of replication environments in more detail.
                     </p>
                     <p>Oracle Streams provides prebuilt conflict handlers to resolve conflicts automatically. You can also build your own custom conflict handler to resolve data conflicts specific to your business rules. Such a conflict handler can be part of a procedure DML handler or an error handler.</p>
                     <p>If conflicts are possible in the replication environment you plan to configure, then plan to create conflict handlers to resolve these conflicts.</p>
                     <div class="infoboxnotealso" id="GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E__GUID-DE41D89C-462C-4C96-B0EB-CB5813CA20CC">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-7867112D-DAC3-4693-811E-B1B1052C7847">Configuring Network Connectivity and Database Links</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-93BE3DA2-24EC-491A-811C-E32FD80D7809">Ensuring That Each Source Database Is In ARCHIVELOG Mode</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="oracle-streams-conflict-resolution.html#GUID-5D79AA72-A682-4623-8A0B-4CF84D1FFC86"> Oracle Streams Conflict Resolution</a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502">Decide Whether to Configure Local or Downstream Capture for the Source Database</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STREP228"></a><div class="props_rev_3"><a id="GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B" name="GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B"></a><h4 id="STREP-GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B" class="sect4"><span class="enumeration_section">1.2.4 </span>Decide Whether the Replication Environment Will Have Nonidentical Replicas
                  </h4>
                  <div>
                     <p>Oracle Streams replication supports sharing database objects that are not identical at multiple databases. Different databases in the Oracle Streams environment can contain replicated database objects with different structures. In Oracle Streams replication, a <span class="bold">rule-based transformation</span> is any modification to a logical change record (LCR) that results when a rule in a positive rule set evaluates to <code class="codeph">TRUE</code>. You can configure rule-based transformations during capture, propagation, or apply to make any necessary changes to LCRs so that they can be applied at a destination database. 
                     </p>
                     <p>For example, a table at a source database can have the same data as a table at a destination database, but some column names can be different. In this case, a rule-based transformation can change the names of the columns in LCRs from the source database so that they can be applied successfully at the destination database.</p>
                     <p>There are two types of rule-based transformations: declarative and custom. <span class="bold">Declarative rule-based transformations</span> cover a set of common transformation scenarios for row LCRs, including renaming a schema, renaming a table, adding a column, renaming a column, keeping a list of columns, and deleting a column. You specify such a transformation using a procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> package. Oracle Streams performs declarative transformations internally, without invoking PL/SQL.
                     </p>
                     <p>A <span class="bold">custom rule-based transformation</span> requires a user-defined PL/SQL function to perform the transformation. Oracle Streams invokes the PL/SQL function to perform the transformation. A custom rule-based transformation can modify captured LCRs, persistent LCRs, or user messages. For example, a custom rule-based transformation can change the data type of a particular column in an LCR. A custom rule-based transformation must be defined as a PL/SQL function that takes an <code class="codeph">ANYDATA</code> object as input and returns an <code class="codeph">ANYDATA</code> object.
                     </p>
                     <p>Rule-based transformations can be done at any point in the Oracle Streams information flow. That is, a capture process or a synchronous capture can perform a rule-based transformation on a change when a rule in its positive rule set evaluates to <code class="codeph">TRUE</code> for the change. Similarly, a propagation or an apply process can perform a rule-based transformation on an LCR when a rule in its positive rule set evaluates to <code class="codeph">TRUE</code> for the LCR.
                     </p>
                     <p>If you plan to have nonidentical copies of database objects in your replication environment, then plan to create rule-based transformations that will modify LCRs so that they can be applied successfully at destination databases.</p>
                     <div class="infoboxnote" id="GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B__GUID-3EE764CE-CBF1-4A5C-8C8A-8FB9C34B2EEB">
                        <p class="notep1">Note:</p>
                        <p>Throughout this document, "rule-based transformation" is used when the text applies to both declarative and custom rule-based transformations. This document distinguishes between the two types of rule-based transformations when necessary.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B__GUID-1A085494-306E-4EEC-A85F-E48E19949151">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS106"><span class="italic">Oracle Streams Concepts and Administration </span></a>for more information about rule-based transformations
                        </p>
                     </div>
                  </div>
               </div><a id="STREP229"></a><div class="props_rev_3"><a id="GUID-7078844B-E2BE-48F5-8117-69B4F999FA73" name="GUID-7078844B-E2BE-48F5-8117-69B4F999FA73"></a><h4 id="STREP-GUID-7078844B-E2BE-48F5-8117-69B4F999FA73" class="sect4"><span class="enumeration_section">1.2.5 </span>Decide Whether the Replication Environment Will Use Apply Handlers
                  </h4>
                  <div>
                     <p>When you use an apply handler, an apply process passes a message to either a collection of SQL statements or a user-created PL/SQL procedure for processing.</p>
                     <p>The following types of apply handlers are possible:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A statement DML handler uses a collection of SQL statement to process row logical change records (row LCRs).</p>
                        </li>
                        <li>
                           <p>A procedure DML handler uses a PL/SQL procedure to process row LCRs.</p>
                        </li>
                        <li>
                           <p>A DDL handler uses a PL/SQL procedure to process DDL LCRs.</p>
                        </li>
                        <li>
                           <p>A message handler uses a PL/SQL procedure to process user messages.</p>
                        </li>
                        <li>
                           <p>A precommit handlers uses a PL/SQL procedure to process the commit information for a transaction.</p>
                        </li>
                        <li>
                           <p>An error handler uses a PL/SQL procedure to process row LCRs that have caused apply errors.</p>
                        </li>
                     </ul>
                     <p>An apply handler can process a message in a customized way. For example, a handler might audit the changes made to a table or enqueue an LCR into a queue after the change in the LCR has been applied. An application can then process the re-enqueued LCR. A handler might also be used to audit the changes made to a database.</p>
                     <p>If you must process LCRs in a customized way in your replication environment, then decide which apply handlers you should use to accomplish your goals. Next, create the PL/SQL procedures that will perform the custom processing and specify these procedures as apply handlers when your environment is configured.</p>
                     <div class="infoboxnotealso" id="GUID-7078844B-E2BE-48F5-8117-69B4F999FA73__GUID-8E920AF0-23A1-471A-BAEF-10D88D54DE81">
                        <p class="notep1">See Also:</p>
                        <p><a href="../strms/oracle-streams-information-consumption.html#STRMS175"><span class="italic">Oracle Streams Concepts and Administration</span></a></p>
                     </div>
                  </div>
               </div><a id="STREP163"></a><div class="props_rev_3"><a id="GUID-A9E8F02F-F101-4A22-A252-C6A9DC400CE8" name="GUID-A9E8F02F-F101-4A22-A252-C6A9DC400CE8"></a><h4 id="STREP-GUID-A9E8F02F-F101-4A22-A252-C6A9DC400CE8" class="sect4"><span class="enumeration_section">1.2.6 </span>Decide Whether to Maintain DDL Changes
                  </h4>
                  <div>
                     <p>Replication environments typically maintain data manipulation language (DML) changes to the replicated database objects. DML changes include <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and LOB update operations. You must decide whether you want the replication environment to maintain data definition language (DDL) changes as well. Examples of statements that result in DDL changes are <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>, <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>, <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>, and <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>.
                     </p>
                     <p>Some Oracle Streams replication environments assume that the database objects are the same at each database. In this case, maintaining DDL changes with Oracle Streams makes it easy to keep the shared database objects synchronized. However, some Oracle Streams replication environments require that shared database objects are different at different databases. For example, a table can have a different name or shape at two different databases. In these environments, rule-based transformations and apply handlers can modify changes so that they can be shared between databases, and you might not want to maintain DDL changes with Oracle Streams. In this case, you should make DDL changes manually at each database that required them.</p>
                     <p>When replicating data definition language (DDL) changes, do not allow system-generated names for constraints or indexes. Modifications to these database objects will most likely fail at the destination database because the object names at the different databases will not match. Also, storage clauses might cause problems if the destination databases are not identical. If you decide not to replicate DDL in your Oracle Streams environment, then any table structure changes must be performed manually at each database in the environment.</p>
                     <div class="infoboxnotealso" id="GUID-A9E8F02F-F101-4A22-A252-C6A9DC400CE8__GUID-72D0F88D-316A-42BA-A8B7-B209E5A406EA">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-6873B325-4D12-460E-9565-4B0B0C29DEE0">Data Definition Language (DDL) Changes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B">Decide Whether the Replication Environment Will Have Nonidentical Replicas</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../strms/advanced-apply-process-concepts.html#STRMS203"><span class="italic">Oracle Streams Concepts and Administration</span></a> for more information about rule-based transformations
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STREP231"></a><a id="STREP230"></a><div class="props_rev_3"><a id="GUID-0C7BB255-A828-4089-B624-41201F1E18D0" name="GUID-0C7BB255-A828-4089-B624-41201F1E18D0"></a><h4 id="STREP-GUID-0C7BB255-A828-4089-B624-41201F1E18D0" class="sect4"><span class="enumeration_section">1.2.7 </span>Decide How to Configure the Replication Environment
                  </h4>
                  <div>
                     <p>There are three options for configuring an Oracle Streams replication environment:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Run the Setup Streams Replication wizard to configure replication between two databases. You can run the wizard multiple times to configure a replication environment with more than two databases.</p>
                           <p>The wizard walks you through the process of configuring your replication environment, but there are some limits to the types of replication environments that can be configured with the wizard. For example, the wizard currently cannot configure synchronous capture.</p>
                           <p>See <span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-0C365820-9DCF-4234-B4F2-20DFA29E9E22">Configuring Replication Using the Setup Streams Replication Wizard</a>"</span> and the Oracle Enterprise Manager Cloud Control online help for more information about the replication configuration wizards.
                           </p>
                        </li>
                        <li>
                           <p>Run a configuration procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> supplied PL/SQL package to configure replication between two databases. You can run the procedure multiple times to configure a replication environment with more than two databases.
                           </p>
                           <p>The following procedures configure Oracle Streams replication:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS825"><code class="codeph">MAINTAIN_GLOBAL</code> procedure</a> configures an Oracle Streams environment that replicates changes at the database level between two databases.
                                 </p>
                              </li>
                              <li>
                                 <p>The <a href="../arpls/DBMS_STREAMS_ADM.html#ARPLS826"><code class="codeph">MAINTAIN_SCHEMAS</code> procedure</a> configures an Oracle Streams environment that replicates changes to specified schemas between two databases.
                                 </p>
                              </li>
                              <li>
                                 <p>The <a href="../arpls/DBMS_STREAMS_ADM.html#ARPLS863"><code class="codeph">MAINTAIN_SIMPLE_TTS</code> procedure</a> clones a simple tablespace from a source database at a destination database and uses Oracle Streams to maintain this tablespace at both databases.
                                 </p>
                              </li>
                              <li>
                                 <p>The <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS827"><code class="codeph">MAINTAIN_TABLES</code> procedure</a> configures an Oracle Streams environment that replicates changes to specified tables between two databases.
                                 </p>
                              </li>
                              <li>
                                 <p>The <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS864"><code class="codeph">MAINTAIN_TTS</code> procedure</a> clones a set of tablespaces from a source database at a destination database and uses Oracle Streams to maintain these tablespaces at both databases.
                                 </p>
                              </li>
                           </ul>
                           <p>These procedures configure multiple Oracle Streams components with a single procedure call, and they automatically follow Oracle Streams best practices. They are ideal for configuring one-way, bi-directional, and hub-and-spoke replication environments.</p>
                           <p>See <span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-8FAAAEF7-0689-4A95-8BD4-D8630CE45FD5">Configuring Replication Using the DBMS_STREAMS_ADM Package</a>"</span> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS878"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about these procedures.
                           </p>
                        </li>
                        <li>
                           <p>Configure each Oracle Streams component separately. These components include queues, capture processes, synchronous captures, propagations, and apply processes. Choose this option if you plan to configure an n-way replication environment, or if you plan to configure another type of replication environment that cannot be configured with the wizards or configuration procedures.</p>
                           <p>See <a href="flexible-oracle-streams-replication-configuration.html#GUID-3945B3B9-4EC3-47A0-A095-FB1F80CE5683"> Flexible Oracle Streams Replication Configuration</a> for information about configuring each component of a replication environment separately.
                           </p>
                        </li>
                     </ul>
                     <p>Your configuration options might be limited by the type of replication environment you want to configure. See <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-9EBD9C47-B328-4740-B1CA-3066B5A9EFD6">Decide Which Type of Replication Environment to Configure</a>"</span>.
                     </p>
                     <p><a href="preparing-for-oracle-streams-replication.html#GUID-0C7BB255-A828-4089-B624-41201F1E18D0__BABIHAFH" title="This table lists types of Oracle Streams replication environments, the configuration option for each type of environment, and more information about the configuration option.">Table 1-1</a> lists the configuration options that are available for each type of replication environment.
                     </p>
                     <div class="tblformalwide" id="GUID-0C7BB255-A828-4089-B624-41201F1E18D0__BABIHAFH">
                        <p class="titleintable">Table 1-1 Oracle Streams Replication Configuration Options</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Streams Replication Configuration Options" summary="This table lists types of Oracle Streams replication environments, the configuration option for each type of environment, and more information about the configuration option." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d3226e2620">Type of Replication Environment</th>
                                 <th align="left" valign="bottom" width="66%" id="d3226e2623">Configuration Options and Examples</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d3226e2628" headers="d3226e2620 ">
                                    <p>One-way replication in a two database replication environment<a id="d3226e2631" class="indexterm-anchor"></a><a id="d3226e2637" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d3226e2628 d3226e2623 ">
                                    <p>Setup Streams Replication Wizard in Oracle Enterprise Manager Cloud Control. Examples:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>"Tutorial: Configuring Two-Database Replication with Local Capture Processes" in the Oracle Enterprise Manager Cloud Control online help</p>
                                       </li>
                                       <li>
                                          <p>"Tutorial: Configuring Two-Database Replication with a Downstream Capture Process" in the Oracle Enterprise Manager Cloud Control online help</p>
                                       </li>
                                    </ul>
                                    <p>A configuration procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> supplied PL/SQL package. Examples:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-D5D0E352-A3B0-4E39-8788-4ED78DB954D7">Configuring Two-Database Schema Replication with Local Capture</a>"</span></p>
                                       </li>
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-8B059D8D-E68A-44C9-AEBE-597FEEB488EC">Configuring Two-Database Table Replication with Local Capture</a>"</span></p>
                                       </li>
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-000236AE-CD25-4ED8-BA07-E9D545C5A17D">Configuring Tablespace Replication with Downstream Capture at Destination</a>"</span></p>
                                       </li>
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-C871DAC3-F840-48DC-83C4-EA11CE4A220D">Configuring Schema Replication with Downstream Capture at Destination</a>"</span></p>
                                       </li>
                                    </ul>
                                    <p>Configure each Oracle Streams component individually. Examples:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="../strex/toc.htm"><span class="italic">Oracle Streams Extended Examples</span></a></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d3226e2689" headers="d3226e2620 ">
                                    <p>Bi-directional replication in a two database replication environment<a id="d3226e2692" class="indexterm-anchor"></a><a id="d3226e2698" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d3226e2689 d3226e2623 ">
                                    <p>Setup Streams Replication Wizard in Oracle Enterprise Manager Cloud Control. Example:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>"Tutorial: Configuring Two-Database Replication with Local Capture Processes" in the Oracle Enterprise Manager Cloud Control online help</p>
                                       </li>
                                    </ul>
                                    <p>A configuration procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> supplied PL/SQL package. Examples:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-55241DE7-C460-4069-A75A-4B898543E3DC">Configuring Two-Database Global Replication with Local Capture</a>"</span></p>
                                       </li>
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-D5D0E352-A3B0-4E39-8788-4ED78DB954D7">Configuring Two-Database Schema Replication with Local Capture</a>"</span></p>
                                       </li>
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-59E31770-9AA5-41E1-B1EB-CA92ADA85E6C">Configuring Schema Replication with Downstream Capture at Third Database</a>"</span></p>
                                       </li>
                                    </ul>
                                    <p>Configure each Oracle Streams component individually. Example:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-DE04AAC0-800A-4F94-89C2-80560B32B6AD">Example That Configures Two-Database Replication with Synchronous Captures</a>"</span></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d3226e2741" headers="d3226e2620 ">
                                    <p>Hub-and-spoke replication with a read/write hub and read-only spokes<a id="d3226e2744" class="indexterm-anchor"></a><a id="d3226e2750" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d3226e2741 d3226e2623 ">
                                    <p>A configuration procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> supplied PL/SQL package.
                                    </p>
                                    <p>Configure each Oracle Streams component individually.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d3226e2761" headers="d3226e2620 ">
                                    <p>Hub-and-spoke replication with a read/write hub and one or more read/write spokes</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d3226e2761 d3226e2623 ">
                                    <p>Setup Streams Replication Wizard in Oracle Enterprise Manager Cloud Control. Example:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>"Tutorial: Configuring Hub-and-Spoke Replication with Local Capture Processes" in the Oracle Enterprise Manager Cloud Control online help</p>
                                       </li>
                                    </ul>
                                    <p>A configuration procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> supplied PL/SQL package. Example:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-91D2F532-471A-493D-83F5-D2B0F1C34848">Example That Configures Hub-and-Spoke Replication</a>"</span></p>
                                       </li>
                                    </ul>
                                    <p>Configure each Oracle Streams component individually.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d3226e2786" headers="d3226e2620 ">
                                    <p>N-way replication with multiple read/write databases<a id="d3226e2789" class="indexterm-anchor"></a><a id="d3226e2795" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d3226e2786 d3226e2623 ">
                                    <p>Configure each Oracle Streams component individually. Example:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STREX004"><span class="italic">Oracle Streams Extended Examples</span></a></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d3226e2808" headers="d3226e2620 ">
                                    <p>Custom replication environment</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d3226e2808 d3226e2623 ">
                                    <p>Configure each Oracle Streams component individually. See <a href="flexible-oracle-streams-replication-configuration.html#GUID-3945B3B9-4EC3-47A0-A095-FB1F80CE5683"> Flexible Oracle Streams Replication Configuration</a> for instructions. Examples:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STREX"><span class="italic">Oracle Streams Extended Examples</span></a></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Before configuring the replication environment, complete the tasks in <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-BB2E76CA-3645-4469-8750-4B276B8A955B">Tasks to Complete Before Configuring Oracle Streams Replication</a>"</span>.
                     </p>
                  </div>
               </div>
            </div><a id="STREP232"></a><div class="props_rev_3"><a id="GUID-BB2E76CA-3645-4469-8750-4B276B8A955B" name="GUID-BB2E76CA-3645-4469-8750-4B276B8A955B"></a><h3 id="STREP-GUID-BB2E76CA-3645-4469-8750-4B276B8A955B" class="sect3"><span class="enumeration_section">1.3 </span>Tasks to Complete Before Configuring Oracle Streams Replication
               </h3>
               <div>
                  <p>The following sections describe tasks to complete before configuring Oracle Streams replication:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-EF5A403D-42E5-426D-B654-456E634F53B0">Configuring an Oracle Streams Administrator on All Databases</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-7867112D-DAC3-4693-811E-B1B1052C7847">Configuring Network Connectivity and Database Links</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-93BE3DA2-24EC-491A-811C-E32FD80D7809">Ensuring That Each Source Database Is In ARCHIVELOG Mode</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-F16B954D-35E0-422C-A89F-D3E170BD4505">Setting Initialization Parameters Relevant to Oracle Streams</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-E572258F-DEB4-4B0B-B29B-D196C7336112">Configuring the Oracle Streams Pool</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-12A4DC82-EEC7-4ACC-BF8F-8D82AA1D19DE">Specifying Supplemental Logging</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A">Configuring Log File Transfer to a Downstream Capture Database</a></p>
                     </li>
                     <li>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE">Adding Standby Redo Logs for Real-Time Downstream Capture</a></p>
                     </li>
                  </ul>
               </div><a id="STREP200"></a><div class="props_rev_3"><a id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0" name="GUID-EF5A403D-42E5-426D-B654-456E634F53B0"></a><h4 id="STREP-GUID-EF5A403D-42E5-426D-B654-456E634F53B0" class="sect4"><span class="enumeration_section">1.3.1 </span>Configuring an Oracle Streams Administrator on All Databases
                  </h4>
                  <div>
                     <div class="section">
                        <p>To configure and manage an Oracle Streams environment, either create a new user with the appropriate privileges or grant these privileges to an existing user. You should not use the <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code> user as an Oracle Streams administrator, and the Oracle Streams administrator should not use the <code class="codeph">SYSTEM</code> tablespace as its default tablespace.
                        </p>
                        <p>Typically, the user name for the Oracle Streams administrator is <code class="codeph">strmadmin</code>, but any user with the proper privileges can be an Oracle Streams administrator. The examples in this section use <code class="codeph">strmadmin</code> for the Oracle Streams administrator user name.
                        </p>
                        <p>Create a separate tablespace for the Oracle Streams administrator at each participating Oracle Streams database. This tablespace stores any objects created in the Oracle Streams administrator schema, including any spillover of messages from the buffered queues owned by the schema.</p>
                        <div class="infoboxnotealso" id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0__GUID-F3A2C6AF-2D63-42CF-B7FB-E3EB3958C804">
                           <p class="notep1">See Also:</p>
                           <p>The Oracle Enterprise Manager Cloud Control online help for instructions about creating an Oracle Streams administrator using Oracle Enterprise Manager Cloud Control</p>
                        </div>
                        <p>Complete the following steps to configure an Oracle Streams administrator at each database in the environment that will use Oracle Streams:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as an administrative user who can create users, grant privileges, and create tablespaces. Remain connected as this administrative user for all subsequent steps.</p>
                              <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ADMIN00102"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about connecting to a database in SQL*Plus.
                              </p>
                           </li>
                           <li>
                              <p>Either create a tablespace for the Oracle Streams administrator or use an existing tablespace. For example, the following statement creates a new tablespace for the Oracle Streams administrator:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE streams_tbs DATAFILE '/usr/oracle/dbs/streams_tbs.dbf' 
  SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;
</pre></li>
                           <li>
                              <p>Create a new user to act as the Oracle Streams administrator or use an existing user. For example, to create a user named <code class="codeph">strmadmin</code> and specify that this user uses the <code class="codeph">streams_tbs</code> tablespace, run the following statement:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE USER strmadmin IDENTIFIED BY <span class="italic">password</span> 
   DEFAULT TABLESPACE streams_tbs
   QUOTA UNLIMITED ON streams_tbs;
</pre><div class="infoboxnote" id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0__GUID-3A74A626-F1D6-4650-9151-DB53A81D1480">
                                 <p class="notep1">Note:</p>
                                 <p>Enter an appropriate password for the administrative user.</p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0__GUID-D47330EE-8C81-43F2-BFA0-E88E0DC472CA">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=DBSEG33223"><span class="italic">Oracle Database Security Guide</span></a> for guidelines for choosing passwords
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Grant the Oracle Streams administrator <code class="codeph">DBA</code> role:
                              </p><pre class="oac_no_warn" dir="ltr">GRANT DBA TO strmadmin;
</pre><div class="infoboxnote" id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0__GUID-AD430CC3-4C47-4594-B4E4-135D66B9EDD9">
                                 <p class="notep1">Note:</p>
                                 <p>The <code class="codeph">DBA</code> role is required for a user to create or alter capture processes, synchronous captures, and apply processes. When the user does not need to perform these tasks, <code class="codeph">DBA</code> role can be revoked from the user.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">GRANT_ADMIN_PRIVILEGE</code> procedure in the <code class="codeph">DBMS_STREAMS_AUTH</code> package.
                              </p>
                              <p>A user must have explicit <code class="codeph">EXECUTE</code> privilege on a package to execute a subprogram in the package inside of a user-created subprogram, and a user must have explicit <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on a data dictionary view to query the view inside of a user-created subprogram. These privileges cannot be through a role. You can run the <code class="codeph">GRANT_ADMIN_PRIVILEGE</code> procedure to grant such privileges to the Oracle Streams administrator, or you can grant them directly.
                              </p>
                              <p>Depending on the parameter settings for the <code class="codeph">GRANT_ADMIN_PRIVILEGE</code> procedure, it either grants the privileges for an Oracle Streams administrator directly, or it generates a script that you can edit and then run to grant these privileges.
                              </p>
                              <div class="infoboxnotealso" id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0__GUID-F0337515-6F47-46CB-9428-45F1C28F5185">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS515"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information about this procedure
                                 </p>
                              </div>
                              <p><span class="bold">Use the </span><span class="bold">GRANT_ADMIN_PRIVILEGE</span><span class="bold"> procedure to grant privileges directly:</span></p>
                              <p>Run the following procedure:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_STREAMS_AUTH.GRANT_ADMIN_PRIVILEGE(
    grantee          =&gt; 'strmadmin',    
    grant_privileges =&gt; TRUE);
END;
/
</pre><p><span class="bold">Use the </span><span class="bold">GRANT_ADMIN_PRIVILEGE</span><span class="bold"> procedure to generate a script:</span></p>
                              <p>Complete the following steps:</p>
                              <ol type="a">
                                 <li id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0__BABIJJBA">
                                    <p>Use the SQL statement <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> to create a directory object for the directory into which you want to generate the script. A directory object is similar to an alias for the directory. For example, to create a directory object called <code class="codeph">strms_dir</code> for the <code class="codeph">/usr/admin</code> directory on your computer system, run the following procedure:
                                    </p><pre class="oac_no_warn" dir="ltr">CREATE DIRECTORY strms_dir AS '/usr/admin';
</pre></li>
                                 <li>
                                    <p>Run the <code class="codeph">GRANT_ADMIN_PRIVILEGE</code> procedure to generate a script named <code class="codeph">grant_strms_privs.sql</code> and place this script in the <code class="codeph">/usr/admin</code> directory on your computer system:
                                    </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_STREAMS_AUTH.GRANT_ADMIN_PRIVILEGE(
    grantee          =&gt; 'strmadmin',    
    grant_privileges =&gt; FALSE,
    file_name        =&gt; 'grant_strms_privs.sql',
    directory_name   =&gt; 'strms_dir');
END;
/
</pre><p>Notice that the <code class="codeph">grant_privileges</code> parameter is set to <code class="codeph">FALSE</code> so that the procedure does not grant the privileges directly. Also, notice that the directory object created in Step <a href="preparing-for-oracle-streams-replication.html#GUID-EF5A403D-42E5-426D-B654-456E634F53B0__BABIJJBA">5.a</a> is specified for the <code class="codeph">directory_name</code> parameter.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Edit the generated script if necessary and save your changes.</p>
                                 </li>
                                 <li>
                                    <p>Execute the script in SQL*Plus:</p><pre class="oac_no_warn" dir="ltr">SET ECHO ON
SPOOL grant_strms_privs.out
@/usr/admin/grant_strms_privs.sql
SPOOL OFF
</pre></li>
                                 <li>
                                    <p>Check the spool file to ensure that all of the grants executed successfully. If there are errors, then edit the script to correct the errors and rerun it.</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>If necessary, grant the following additional privileges:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you plan to use Oracle Enterprise Manager Cloud Control to manage databases with Oracle Streams components, then configure the Oracle Streams administrator to be an Oracle Enterprise Manager administrative user. Doing so grants additional privileges required by Oracle Enterprise Manager Cloud Control, such as the privileges required to run Oracle Enterprise Manager Cloud Control jobs. See the Oracle Enterprise Manager Cloud Control online help for information about creating Oracle Enterprise Manager administrative users.</p>
                                 </li>
                                 <li>
                                    <p>Grant the privileges for a remote Oracle Streams administrator to perform actions in the local database. Grant these privileges using the <code class="codeph">GRANT_REMOTE_ADMIN_ACCESS</code> procedure in the <code class="codeph">DBMS_STREAMS_AUTH</code> package. Grant this privilege if a remote Oracle Streams administrator will use a database link that connects to the local Oracle Streams administrator to perform administrative actions. Specifically, grant these privileges if either of the following conditions are true:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>You plan to configure a downstream capture process at a remote downstream database that captures changes originating at the local source database, and the downstream capture process will use a database link to perform administrative actions at the source database.</p>
                                       </li>
                                       <li>
                                          <p>You plan to configure an apply process at the local database and use a remote Oracle Streams administrator to set the instantiation SCN values for replicated database objects at the local database.</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>If no apply user is specified for an apply process, then grant the Oracle Streams administrator the necessary privileges to perform DML and DDL changes on the apply objects owned by other users. If an apply user is specified, then the apply user must have these privileges. These privileges can be granted directly or through a role.</p>
                                 </li>
                                 <li>
                                    <p>If no apply user is specified for an apply process, then grant the Oracle Streams administrator <code class="codeph">EXECUTE</code> privilege on any PL/SQL subprogram owned by another user that is executed by an Oracle Streams apply process. These subprograms can be used in apply handlers or error handlers. If an apply user is specified, then the apply user must have these privileges. These privileges must be granted directly. They cannot be granted through a role.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Grant the Oracle Streams administrator <code class="codeph">EXECUTE</code> privilege on any PL/SQL function owned by another user that is specified in a custom rule-based transformation for a rule used by an Oracle Streams capture process, synchronous capture, propagation, apply process, or messaging client. For a capture process or synchronous capture, if a capture user is specified, then the capture user must have these privileges. For an apply process, if an apply user is specified, then the apply user must have these privileges. These privileges must be granted directly. They cannot be granted through a role.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Grant the Oracle Streams administrator privileges to alter database objects where appropriate. For example, if the Oracle Streams administrator must create a supplemental log group for a table in another schema, then the Oracle Streams administrator must have the necessary privileges to alter the table. These privileges can be granted directly or through a role.</p>
                                 </li>
                                 <li>
                                    <p>If the Oracle Streams administrator does not own the queue used by an Oracle Streams capture process, synchronous capture, propagation, apply process, or messaging client, and is not specified as the queue user for the queue when the queue is created, then the Oracle Streams administrator must be configured as a secure queue user of the queue if you want the Oracle Streams administrator to be able to enqueue messages into or dequeue messages from the queue. The Oracle Streams administrator might also need <code class="codeph">ENQUEUE</code> or <code class="codeph">DEQUEUE</code> privileges on the queue, or both. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS101"><span class="italic">Oracle Streams Concepts and Administration</span></a> for information about managing queues.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Grant the Oracle Streams administrator <code class="codeph">EXECUTE</code> privilege on any object types that the Oracle Streams administrator might need to access. These privileges can be granted directly or through a role.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the Oracle Streams administrator will use Data Pump to perform export and import operations on database objects in other schemas during an Oracle Streams instantiation, then grant the <code class="codeph">EXP_FULL_DATABASE</code> and <code class="codeph">IMP_FULL_DATABASE</code> roles to the Oracle Streams administrator.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If Oracle Database Vault is installed, then the user who performs the following actions must be granted the <code class="codeph">BECOME</code> <code class="codeph">USER</code> system privilege:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Creates or alters a capture process</p>
                                       </li>
                                       <li>
                                          <p>Creates or alters an apply process</p>
                                       </li>
                                    </ul>
                                    <p>Granting the <code class="codeph">BECOME</code> <code class="codeph">USER</code> system privilege to the user who performs these actions is not required if Oracle Database Vault is not installed. You can revoke the <code class="codeph">BECOME</code> <code class="codeph">USER</code> system privilege from the user after the completing one of these actions, if necessary.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Repeat all of the previous steps at each database in the environment that will use Oracle Streams.</p>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-EF5A403D-42E5-426D-B654-456E634F53B0__GUID-EF886B8D-6F5D-453E-831A-1BFEC620EC76">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="best-practices-for-capture.html#GUID-18E1385D-DB6F-4A85-BC35-4535D2DD94FC">Grant the Required Privileges to the Capture User</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="best-practices-for-apply.html#GUID-9E5C73DF-C902-436A-BC9F-002799BF4862">Grant Required Privileges to the Apply User</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STREP203"></a><div class="props_rev_3"><a id="GUID-7867112D-DAC3-4693-811E-B1B1052C7847" name="GUID-7867112D-DAC3-4693-811E-B1B1052C7847"></a><h4 id="STREP-GUID-7867112D-DAC3-4693-811E-B1B1052C7847" class="sect4"><span class="enumeration_section">1.3.2 </span>Configuring Network Connectivity and Database Links
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you plan to use Oracle Streams to share information between databases, then configure network connectivity and database links between these databases:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For Oracle databases, configure your network and Oracle Net so that the databases can communicate with each other.</p>
                           </li>
                           <li>
                              <p>For non-Oracle databases, configure an Oracle Database Gateway for communication between the Oracle database and the non-Oracle database.</p>
                           </li>
                           <li>
                              <p>If you plan to propagate messages from a source queue at a database to a destination queue at another database, then create a private database link between the database containing the source queue and the database containing the destination queue. Each database link should use a <code class="codeph">CONNECT</code> <code class="codeph">TO</code> clause for the user propagating messages between databases.
                              </p>
                           </li>
                        </ul>
                        <p>A database link from the source database to the destination database is always required. The name of the database link must match the global name of the destination database.</p>
                        <p>A database link from the destination database to the source database is required in any of the following cases:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The Oracle Streams replication environment will be bi-directional.</p>
                           </li>
                           <li>
                              <p>A Data Pump network import will be performed during instantiation.</p>
                           </li>
                           <li>
                              <p>The destination database is the capture database for downstream capture of source database changes.</p>
                           </li>
                           <li>
                              <p>The RMAN <code class="codeph">DUPLICATE</code> or <code class="codeph">CONVERT</code> <code class="codeph">DATABASE</code> command will be used for database instantiation.
                              </p>
                              <p>This database link is required because the <code class="codeph">POST_INSTANTIATION_SETUP</code> procedure with a non-<code class="codeph">NULL</code> setting for the <code class="codeph">instantiation_scn</code> parameter runs the <code class="codeph">SET_GLOBAL_INSTANTIATION_SCN</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package at the destination database. The <code class="codeph">SET_GLOBAL_INSTANTIATION_SCN</code> procedure requires the database link. This database link must be created after the RMAN instantiation and before running the <code class="codeph">POST_INSTANTIATION_SETUP</code> procedure.
                              </p>
                           </li>
                        </ul>
                        <p>In each of these cases, the name of the database link must match the global name of the source database.</p>
                        <p>If a third database is the capture database for downstream capture of source database changes, then the following database links are also required:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A database link is required from the third database to the source database. The name of the database link must match the global name of the source database. </p>
                           </li>
                           <li>
                              <p>A database link is required from the third database to the destination database. The name of the database link must match the global name of the destination database.</p>
                           </li>
                        </ul>
                        <p>Each database link should be created in the Oracle Streams administrator's schema. For example, if the global name of the source database is <code class="codeph">dbs1.example.com</code>, the global name of the destination database is <code class="codeph">dbs2.example.com</code>, and the Oracle Streams administrator is <code class="codeph">strmadmin</code> at each database, then the following statement creates the database link from the source database to the destination database:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT strmadmin@dbs1.example.com
Enter password: <span class="italic">password</span>

CREATE DATABASE LINK dbs2.example.com CONNECT TO strmadmin 
   IDENTIFIED BY <span class="italic">password</span> USING 'dbs2.example.com';
</pre><p>If a database link is required from the destination database to the source database, then the following statement creates this database link:</p><pre class="oac_no_warn" dir="ltr">CONNECT strmadmin@dbs2.example.com
Enter password: <span class="italic">password</span>

CREATE DATABASE LINK dbs1.example.com CONNECT TO strmadmin 
   IDENTIFIED BY <span class="italic">password</span> USING 'dbs1.example.com';
</pre><p>If a third database is the capture database, then a database link is required from the third database to the source and destination databases. For example, if the third database is <code class="codeph">dbs3.example.com</code>, then the following statements create the database links from the third database to the source and destination databases:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT strmadmin@dbs3.example.com
Enter password: <span class="italic">password</span>

CREATE DATABASE LINK dbs1.example.com CONNECT TO strmadmin 
   IDENTIFIED BY <span class="italic">password</span> USING 'dbs1.example.com';

CREATE DATABASE LINK dbs2.example.com CONNECT TO strmadmin 
   IDENTIFIED BY <span class="italic">password</span> USING 'dbs2.example.com';
</pre><p>If an RMAN database instantiation is performed, then the database link at the source database is copied to the destination database during instantiation. This copied database link should be dropped at the destination database. In this case, if the replication is bi-directional, and a database link from the destination database to the source database is required, then this database link should be created after the instantiation.</p>
                        <div class="infoboxnotealso" id="GUID-7867112D-DAC3-4693-811E-B1B1052C7847__GUID-4F3EEFF4-17A4-4C46-BB66-D3B311209BE3">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../admin/managing-a-distributed-database.html#ADMIN029"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about database links
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=HETER"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for information about communication between an Oracle database and a non-Oracle database
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E">Decide Whether Changes Are Allowed at One Database or at Multiple Databases</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502">Decide Whether to Configure Local or Downstream Capture for the Source Database</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STREP233"></a><div class="props_rev_3"><a id="GUID-93BE3DA2-24EC-491A-811C-E32FD80D7809" name="GUID-93BE3DA2-24EC-491A-811C-E32FD80D7809"></a><h4 id="STREP-GUID-93BE3DA2-24EC-491A-811C-E32FD80D7809" class="sect4"><span class="enumeration_section">1.3.3 </span>Ensuring That Each Source Database Is In ARCHIVELOG Mode
                  </h4>
                  <div>
                     <div class="section">
                        <p>In an Oracle Streams replication environment, each source database that generates changes that will be captured by a capture process must be in <code class="codeph">ARCHIVELOG</code> mode. For downstream capture processes, the downstream database also must run in <code class="codeph">ARCHIVELOG</code> mode if you plan to configure a real-time downstream capture process. The downstream database does not need to run in <code class="codeph">ARCHIVELOG</code> mode if you plan to run only archived-log downstream capture processes on it.
                        </p>
                        <p>If you are configuring Oracle Streams in an Oracle Real Application Clusters (Oracle RAC) environment, then the archive log files of all threads from all instances must be available to any instance running a capture process. This requirement pertains to both local and downstream capture processes.</p>
                        <div class="infoboxnote" id="GUID-93BE3DA2-24EC-491A-811C-E32FD80D7809__GUID-90076AA2-C851-4CD9-8EEF-EF7AEC53935F">
                           <p class="notep1">Note:</p>
                           <p>Synchronous capture does not require <code class="codeph">ARCHIVELOG</code> mode.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-93BE3DA2-24EC-491A-811C-E32FD80D7809__GUID-6B410B3F-DD77-4C63-9FF4-487C875365C8">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ADMIN008"><span class="italic">Oracle Database Administrator's Guide </span></a>for instructions about running a database in <code class="codeph">ARCHIVELOG</code> mode
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-F691796A-514C-4821-8B7B-BAB0FA45C04E">Decide Whether Changes Are Allowed at One Database or at Multiple Databases</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502">Decide Whether to Configure Local or Downstream Capture for the Source Database</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STREP234"></a><a id="STREP201"></a><div class="props_rev_3"><a id="GUID-F16B954D-35E0-422C-A89F-D3E170BD4505" name="GUID-F16B954D-35E0-422C-A89F-D3E170BD4505"></a><h4 id="STREP-GUID-F16B954D-35E0-422C-A89F-D3E170BD4505" class="sect4"><span class="enumeration_section">1.3.4 </span>Setting Initialization Parameters Relevant to Oracle Streams
                  </h4>
                  <div>
                     <div class="section">
                        <p>Some initialization parameters are important for the configuration, operation, reliability, and performance of an Oracle Streams environment. Set these parameters appropriately for your Oracle Streams environment.</p>
                        <p><a href="preparing-for-oracle-streams-replication.html#GUID-F16B954D-35E0-422C-A89F-D3E170BD4505__g1013089" title="This table lists the initialization parameters that are relevant to Streams. For each parameter, the table lists the possible values and a description.">Table 1-2</a> describes the initialization parameters that are relevant to Oracle Streams. This table specifies whether each parameter is modifiable. A modifiable initialization parameter can be modified using the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement while an instance is running. Some modifiable parameters can also be modified for a single session using the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement.
                        </p>
                        <div class="tblformalwide" id="GUID-F16B954D-35E0-422C-A89F-D3E170BD4505__g1013089">
                           <p class="titleintable">Table 1-2 Initialization Parameters Relevant to Oracle Streams </p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Initialization Parameters Relevant to Oracle Streams " summary="This table lists the initialization parameters that are relevant to Streams. For each parameter, the table lists the possible values and a description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d3226e3961">Parameter</th>
                                    <th align="left" valign="bottom" width="31%" id="d3226e3964">Values</th>
                                    <th align="left" valign="bottom" width="36%" id="d3226e3967">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e3972" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10065"><code class="codeph">GLOBAL_NAMES</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e3972 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">false</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">true</code> or <code class="codeph">false</code></p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e3972 d3226e3967 ">
                                       <p>Specifies whether a database link is required to have the same name as the database to which it connects.</p>
                                       <p>To use Oracle Streams to share information between databases, set this parameter to <code class="codeph">true</code> at each database that is participating in your Oracle Streams environment.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4007" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10237"><code class="codeph">LOG_ARCHIVE_CONFIG</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4007 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">'SEND, RECEIVE, NODG_CONFIG'</code></p>
                                       <p><span class="bold">Range</span>: Values:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SEND</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NOSEND</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RECEIVE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NORECEIVE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DG_CONFIG</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NODG_CONFIG</code></p>
                                          </li>
                                       </ul>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4007 d3226e3967 ">
                                       <p>Enables or disables the sending of redo logs to remote destinations and the receipt of remote redo logs, and specifies the unique database names (<code class="codeph">DB_UNIQUE_NAME</code>) for each database in the Data Guard configuration
                                       </p>
                                       <p>To use downstream capture and copy the redo data to the downstream database using redo transport services, specify the <code class="codeph">DB_UNIQUE_NAME</code> of the source database and the downstream database using the <code class="codeph">DG_CONFIG</code> attribute. This parameter must be set at both the source database and the downstream database.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4068" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10086"><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span></a><a id="d3226e4077" class="indexterm-anchor"></a><a id="d3226e4082" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4068 d3226e3964 ">
                                       <p><span class="bold">Default:</span> None
                                       </p>
                                       <p><span class="bold">Range</span>: None
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4068 d3226e3967 ">
                                       <p>Defines up to 31 log archive destinations, where <span class="italic"><code class="codeph">n</code></span> is <code class="codeph">1</code>, <code class="codeph">2</code>, <code class="codeph">3</code>, ... <code class="codeph">31</code>. 
                                       </p>
                                       <p>To use downstream capture and copy the redo data to the downstream database using redo transport services, at least one log archive destination must be set at the site running the downstream capture process.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4123" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10087"><code class="codeph">LOG_ARCHIVE_DEST_STATE_</code><span class="italic"><code class="codeph">n</code></span></a><a id="d3226e4132" class="indexterm-anchor"></a><a id="d3226e4137" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4123 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">enable</code></p>
                                       <p><span class="bold">Range</span>: One of the following:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">alternate</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">defer</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">enable</code></p>
                                          </li>
                                       </ul>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4123 d3226e3967 ">
                                       <p>Specifies the availability state of the corresponding destination. The parameter suffix (<code class="codeph">1</code> through <code class="codeph">31</code>) specifies one of the corresponding <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> destination parameters.
                                       </p>
                                       <p>To use downstream capture and copy the redo data to the downstream database using redo transport services, ensure that the destination that corresponds to the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> destination for the downstream database is set to <code class="codeph">enable</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4198" headers="d3226e3961 ">
                                       <p><a href="../refrn/LOG_BUFFER.html#REFRN10094"><code class="codeph">LOG_BUFFER</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4198 d3226e3964 ">
                                       <p><span class="bold">Default: </span><code class="codeph">5</code> <code class="codeph">MB</code> to <code class="codeph">32</code> <code class="codeph">MB</code> depending on configuration
                                       </p>
                                       <p><span class="bold">Range:</span> Operating system-dependent
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> No
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4198 d3226e3967 ">
                                       <p>Specifies the amount of memory (in bytes) that Oracle uses when buffering redo entries to a redo log file. Redo log entries contain a record of the changes that have been made to the database block buffers.</p>
                                       <p>If an Oracle Streams capture process is running on the database, then set this parameter properly so that the capture process reads redo log records from the redo log buffer rather than from the hard disk.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4234" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10284"><code class="codeph">MEMORY_MAX_TARGET</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4234 d3226e3964 ">
                                       <p><span class="bold">Default: </span><code class="codeph">0</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">0</code> to the physical memory size available to Oracle Database
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> No
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4234 d3226e3967 ">
                                       <p>Specifies the maximum systemwide usable memory for an Oracle database.</p>
                                       <p>If the <code class="codeph">MEMORY_TARGET</code> parameter is set to a nonzero value, then set this parameter to a large nonzero value if you must specify the maximum memory usage of the Oracle database.
                                       </p>
                                       <p><span class="bold">See Also:</span> <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-E572258F-DEB4-4B0B-B29B-D196C7336112">Configuring the Oracle Streams Pool</a>"</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4274" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10285"><code class="codeph">MEMORY_TARGET</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4274 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">0</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">152</code> <code class="codeph">MB</code> to <code class="codeph">MEMORY_MAX_TARGET</code> setting
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4274 d3226e3967 ">
                                       <p>Specifies the systemwide usable memory for an Oracle database.</p>
                                       <p>Oracle recommends enabling the autotuning of the memory usage of an Oracle database by setting <code class="codeph">MEMORY_TARGET</code> to a large nonzero value (if this parameter is supported on your platform).
                                       </p>
                                       <p><span class="bold">See Also:</span> <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-E572258F-DEB4-4B0B-B29B-D196C7336112">Configuring the Oracle Streams Pool</a>"</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4321" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10138"><code class="codeph">OPEN_LINKS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4321 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">4</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">0</code> to <code class="codeph">255</code></p>
                                       <p><span class="bold">Modifiable?:</span> No
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4321 d3226e3967 ">
                                       <p>Specifies the maximum number of concurrent open connections to remote databases in one session. These connections include database links, plus external procedures and cartridges, each of which uses a separate process.</p>
                                       <p>In an Oracle Streams environment, ensure that this parameter is set to the default value of <code class="codeph">4</code> or higher.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4356" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10175"><code class="codeph">PROCESSES</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4356 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">100</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">6</code> to operating system-dependent 
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> No
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4356 d3226e3967 ">
                                       <p>Specifies the maximum number of operating system user processes that can simultaneously connect to Oracle.</p>
                                       <p>Ensure that the value of this parameter allows for all background processes, such as locks and slave processes. In Oracle Streams, capture processes, apply processes, XStream inbound servers, and XStream outbound servers use background processes. Propagations use background processes in combined capture and apply configurations. Propagations use Oracle Scheduler slave processes in configurations that do not use combined capture and apply.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4386" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10197"><code class="codeph">SESSIONS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4386 d3226e3964 ">
                                       <p><span class="bold">Default:</span> Derived from:
                                       </p>
                                       <p> <code class="codeph">(1.5 * PROCESSES) + 22</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">1</code> to <code class="codeph">2</code><sup>31</sup></p>
                                       <p><span class="bold">Modifiable?:</span> No
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4386 d3226e3967 ">
                                       <p>Specifies the maximum number of sessions that can be created in the system.</p>
                                       <p>To run one or more capture processes, apply processes, XStream outbound servers, or XStream inbound servers in a database, you might need to increase the size of this parameter. Each background process in a database requires a session.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4422" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10198"><code class="codeph">SGA_MAX_SIZE</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4422 d3226e3964 ">
                                       <p><span class="bold">Default: </span>Initial size of SGA at startup
                                       </p>
                                       <p><span class="bold">Range:</span> <code class="codeph">0</code> to operating system-dependent
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> No
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4422 d3226e3967 ">
                                       <p>Specifies the maximum size of System Global Area (SGA) for the lifetime of a database instance.</p>
                                       <p>If the <code class="codeph">SGA_TARGET</code> parameter is set to a nonzero value, then set this parameter to a large nonzero value if you must specify the SGA size.
                                       </p>
                                       <p><span class="bold">See Also:</span> <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-E572258F-DEB4-4B0B-B29B-D196C7336112">Configuring the Oracle Streams Pool</a>"</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4462" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10256"><code class="codeph">SGA_TARGET</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4462 d3226e3964 ">
                                       <p><span class="bold">Default: </span><code class="codeph">0</code> (SGA autotuning is disabled)
                                       </p>
                                       <p><span class="bold">Range:</span> <code class="codeph">64</code> <code class="codeph">MB</code> to operating system-dependent
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4462 d3226e3967 ">
                                       <p>Specifies the total size of all System Global Area (SGA) components.</p>
                                       <p>If <code class="codeph">MEMORY_MAX_TARGET</code> and <code class="codeph">MEMORY_TARGET</code> are set to <code class="codeph">0</code> (zero), then Oracle recommends enabling the autotuning of SGA memory by setting <code class="codeph">SGA_TARGET</code> to a large nonzero value.
                                       </p>
                                       <p>If this parameter is set to a nonzero value, then the size of the Oracle Streams pool is managed by Automatic Shared Memory Management.</p>
                                       <p><span class="bold">See Also:</span> <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-E572258F-DEB4-4B0B-B29B-D196C7336112">Configuring the Oracle Streams Pool</a>"</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4517" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10202"><code class="codeph">SHARED_POOL_SIZE</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4517 d3226e3964 ">
                                       <p><span class="bold">Default:</span></p>
                                       <p>When <code class="codeph">SGA_TARGET</code> is set to a nonzero value: If the parameter is not specified, then the default is <code class="codeph">0</code> (internally determined by Oracle Database). If the parameter is specified, then the user-specified value indicates a minimum value for the shared memory pool.
                                       </p>
                                       <p>When <code class="codeph">SGA_TARGET</code> is not set (32-bit platforms): 64 MB, rounded up to the nearest granule size. When <code class="codeph">SGA_TARGET</code> is not set (64-bit platforms): 128 MB, rounded up to the nearest granule size.
                                       </p>
                                       <p><span class="bold">Range:</span> The granule size to operating system-dependent
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4517 d3226e3967 ">
                                       <p>Specifies (in bytes) the size of the shared pool. The shared pool contains shared cursors, stored procedures, control structures, and other structures.</p>
                                       <p>If the <code class="codeph">MEMORY_MAX_TARGET</code>, <code class="codeph">MEMORY_TARGET</code>, <code class="codeph">SGA_TARGET</code>, and <code class="codeph">STREAMS_POOL_SIZE</code> initialization parameters are set to zero, then Oracle Streams transfers an amount equal to 10% of the shared pool from the buffer cache to the Oracle Streams pool.
                                       </p>
                                       <p><span class="bold">See Also:</span><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-E572258F-DEB4-4B0B-B29B-D196C7336112">Configuring the Oracle Streams Pool</a>"</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4576" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10243"><code class="codeph">STREAMS_POOL_SIZE</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4576 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">0</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">0</code> to operating system-dependent limit
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4576 d3226e3967 ">
                                       <p>Specifies (in bytes) the size of the Oracle Streams pool. The Oracle Streams pool contains buffered queue messages. In addition, the Oracle Streams pool is used for internal communications during parallel capture and apply.</p>
                                       <p>If the <code class="codeph">MEMORY_TARGET</code> or <code class="codeph">MEMORY_MAX_TARGET</code> initialization parameter is set to a nonzero value, then the Oracle Streams pool size is set by Automatic Memory Management, and <code class="codeph">STREAMS_POOL_SIZE</code> specifies the minimum size.
                                       </p>
                                       <p>If the <code class="codeph">SGA_TARGET</code> initialization parameter is set to a nonzero value, then the Oracle Streams pool size is set by Automatic Shared Memory Management, and <code class="codeph">STREAMS_POOL_SIZE</code> specifies the minimum size.
                                       </p>
                                       <p>This parameter is modifiable. If this parameter is reduced to zero when an instance is running, then Oracle Streams processes and jobs might not run.</p>
                                       <p>Ensure that there is enough memory to accommodate the Oracle Streams components. The following are the minimum requirements:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>15 MB for each capture process parallelism</p>
                                          </li>
                                          <li>
                                             <p>250 MB or more for each buffered queue. The buffered queue is where the buffered messages are stored.</p>
                                          </li>
                                          <li>
                                             <p>1 MB for each apply process parallelism</p>
                                          </li>
                                          <li>
                                             <p>1 MB for each XStream outbound server</p>
                                          </li>
                                          <li>
                                             <p>1 MB for each XStream inbound server parallelism</p>
                                          </li>
                                       </ul>
                                       <p>For example, if parallelism is set to 3 for a capture process, then at least 45 MB is required for the capture process. If a database has two buffered queues, then at least 20 MB is required for the buffered queues. If parallelism is set to 4 for an apply process, then at least 4 MB is required for the apply process.</p>
                                       <p>You can use the <code class="codeph">V$STREAMS_POOL_ADVICE</code> dynamic performance view to determine an appropriate setting for this parameter.
                                       </p>
                                       <p><span class="bold">See Also:</span> <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-E572258F-DEB4-4B0B-B29B-D196C7336112">Configuring the Oracle Streams Pool</a>"</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4658" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10218"><code class="codeph">TIMED_STATISTICS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4658 d3226e3964 ">
                                       <p><span class="bold">Default: </span></p>
                                       <p>If <code class="codeph">STATISTICS_LEVEL</code> is set to <code class="codeph">TYPICAL</code> or <code class="codeph">ALL</code>, then <code class="codeph">true</code> 
                                       </p>
                                       <p>If <code class="codeph">STATISTICS_LEVEL</code> is set to <code class="codeph">BASIC</code>, then <code class="codeph">false</code></p>
                                       <p>The default for <code class="codeph">STATISTICS_LEVEL</code> is <code class="codeph">TYPICAL</code>.
                                       </p>
                                       <p><span class="bold">Range:</span> <code class="codeph">true</code> or <code class="codeph">false</code></p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4658 d3226e3967 ">
                                       <p>Specifies whether statistics related to time are collected.</p>
                                       <p>To collect elapsed time statistics in the dynamic performance views related to Oracle Streams, set this parameter to <code class="codeph">true</code>. The views that include elapsed time statistics include: <code class="codeph">V$STREAMS_CAPTURE</code>, <code class="codeph">V$STREAMS_APPLY_COORDINATOR</code>, <code class="codeph">V$STREAMS_APPLY_READER</code>, <code class="codeph">V$STREAMS_APPLY_SERVER</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d3226e4734" headers="d3226e3961 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10225"><code class="codeph">UNDO_RETENTION</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d3226e4734 d3226e3964 ">
                                       <p><span class="bold">Default:</span> <code class="codeph">900</code></p>
                                       <p><span class="bold">Range:</span> <code class="codeph">0</code> to 2<sup>31</sup> - 1
                                       </p>
                                       <p><span class="bold">Modifiable?:</span> Yes
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d3226e4734 d3226e3967 ">
                                       <p>Specifies (in seconds) the amount of committed undo information to retain in the database.</p>
                                       <p>For a database running one or more capture processes, ensure that this parameter is set to specify an adequate undo retention period.</p>
                                       <p>If you run one or more capture processes and you are unsure about the proper setting, then try setting this parameter to at least <code class="codeph">3600</code>. If you encounter "snapshot too old" errors, then increase the setting for this parameter until these errors cease. Ensure that the undo tablespace has enough space to accommodate the <code class="codeph">UNDO_RETENTION</code> setting.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-F16B954D-35E0-422C-A89F-D3E170BD4505__GUID-E837531C-D6EA-4745-8109-0873256D4D4C">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN"><span class="italic">Oracle Database Reference</span></a> for more information about these initialization parameters
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=SBYDB"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ADMIN013"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about the <code class="codeph">UNDO_RETENTION</code> parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=XSTRM"><span class="italic">Oracle Database XStream Guide</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STREP202"></a><div class="props_rev_3"><a id="GUID-E572258F-DEB4-4B0B-B29B-D196C7336112" name="GUID-E572258F-DEB4-4B0B-B29B-D196C7336112"></a><h4 id="STREP-GUID-E572258F-DEB4-4B0B-B29B-D196C7336112" class="sect4"><span class="enumeration_section">1.3.5 </span>Configuring the Oracle Streams Pool
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <span class="bold">Oracle Streams pool</span> is a portion of memory in the System Global Area (SGA) that is used by Oracle Streams. The Oracle Streams pool stores buffered queue messages in memory, and it provides memory for capture processes, apply processes, XStream outbound servers, and XStream inbound servers. The Oracle Streams pool always stores LCRs captured by a capture process, and it stores LCRs and messages that are enqueued into a buffered queue by applications.
                        </p>
                        <p>The Oracle Streams pool is initialized the first time any one of the following actions occurs in a database:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Messages are enqueued into a buffered queue. </p>
                              <p>Oracle Streams components manipulate messages in a buffered queue. These components include capture processes, propagations, apply processes, XStream outbound servers, and XStream inbound servers. Also, Data Pump export and import operations initialize the Oracle Streams pool because these operations use buffered queues.</p>
                           </li>
                           <li>
                              <p>Messages are dequeued from a persistent queue in a configuration that does not use Oracle Real Application Clusters (Oracle RAC).</p>
                              <p>The Oracle Streams pool is used to optimize dequeue operations from persistent queues. The Oracle Streams pool is not used to optimize dequeue operations from persistent queues in an Oracle RAC configuration.</p>
                           </li>
                           <li>
                              <p>A capture process is started.</p>
                           </li>
                           <li>
                              <p>A propagation is created.</p>
                           </li>
                           <li>
                              <p>An apply process is started.</p>
                           </li>
                           <li>
                              <p>An XStream outbound server is started.</p>
                           </li>
                           <li>
                              <p>An XStream inbound server is started.</p>
                           </li>
                        </ul>
                        <p>The size of the Oracle Streams pool is determined in one of the following ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-0071A887-A334-4CE9-AA4F-3F730E117297">Using Automatic Memory Management to Set the Oracle Streams Pool Size</a></p>
                           </li>
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-E65D47CB-DA8C-46FC-8AB9-9E0975C0105F">Using Automatic Shared Memory Management to Set the Oracle Streams Pool Size</a></p>
                           </li>
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-6A752003-766E-405C-BC9E-B3109F57D117">Setting the Oracle Streams Pool Size Manually</a></p>
                           </li>
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-CCB97B57-4CF2-4CF5-B01B-5E0702F4FE96">Using the Default Setting for the Oracle Streams Pool Size</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-E572258F-DEB4-4B0B-B29B-D196C7336112__GUID-12894F7C-AC77-477B-B088-39B9DAC48C4A">
                           <p class="notep1">Note:</p>
                           <p>If the Oracle Streams pool cannot be initialized, then an <code class="codeph">ORA-00832</code> error is returned. If this happens, then first ensure that there is enough space in the SGA for the Oracle Streams pool. If necessary, reset the <code class="codeph">SGA_MAX_SIZE</code> initialization parameter to increase the SGA size. Next, set one or more of the following initialization parameters: <code class="codeph">MEMORY_TARGET</code>, <code class="codeph">MEMORY_MAX_TARGET</code>, <code class="codeph">SGA_TARGET</code>, and <code class="codeph">STREAMS_POOL_SIZE</code>.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-E572258F-DEB4-4B0B-B29B-D196C7336112__GUID-F3F5CE9C-73E2-4743-AEA5-F4DD3A890A50">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-F16B954D-35E0-422C-A89F-D3E170BD4505">Setting Initialization Parameters Relevant to Oracle Streams</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS"><span class="italic">Oracle Streams Concepts and Administration</span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=XSTRM"><span class="italic">Oracle Database XStream Guide</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="STREP235"></a><div class="props_rev_3"><a id="GUID-0071A887-A334-4CE9-AA4F-3F730E117297" name="GUID-0071A887-A334-4CE9-AA4F-3F730E117297"></a><h5 id="STREP-GUID-0071A887-A334-4CE9-AA4F-3F730E117297" class="sect5"><span class="enumeration_section">1.3.5.1 </span>Using Automatic Memory Management to Set the Oracle Streams Pool Size
                     </h5>
                     <div>
                        <div class="section">
                           <p>The Automatic Memory Management feature automatically manages the size of the Oracle Streams pool when the <code class="codeph">MEMORY_TARGET</code> or <code class="codeph">MEMORY_MAX_TARGET</code> initialization parameter is set to a nonzero value. When you use Automatic Memory Management, you can still set the following initialization parameters:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If the <code class="codeph">SGA_TARGET</code> initialization parameter also is set to a nonzero value, then Automatic Memory Management uses this value as a minimum for the system global area (SGA).
                                 </p>
                              </li>
                              <li>
                                 <p>If the <code class="codeph">STREAMS_POOL_SIZE</code> initialization parameter also is set to a nonzero value, then Automatic Memory Management uses this value as a minimum for the Oracle Streams pool. 
                                 </p>
                              </li>
                           </ul>
                           <p>The current memory allocated to Oracle Streams pool by Automatic Memory Management can be viewed by querying the <code class="codeph">V$MEMORY_DYNAMIC_COMPONENTS</code> view.
                           </p>
                           <div class="infoboxnote" id="GUID-0071A887-A334-4CE9-AA4F-3F730E117297__GUID-DD1C0879-9688-42AF-8004-095236A0E231">
                              <p class="notep1">Note:</p>
                              <p>Currently, the <code class="codeph">MEMORY_TARGET</code> and <code class="codeph">MEMORY_MAX_TARGET</code> initialization parameters are not supported on some platforms.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-0071A887-A334-4CE9-AA4F-3F730E117297__GUID-D486E4AF-4294-46B4-AA61-D2B9A9FC0CD4">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ADMIN00207"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN"><span class="italic">Oracle Database Reference</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STREP236"></a><div class="props_rev_3"><a id="GUID-E65D47CB-DA8C-46FC-8AB9-9E0975C0105F" name="GUID-E65D47CB-DA8C-46FC-8AB9-9E0975C0105F"></a><h5 id="STREP-GUID-E65D47CB-DA8C-46FC-8AB9-9E0975C0105F" class="sect5"><span class="enumeration_section">1.3.5.2 </span>Using Automatic Shared Memory Management to Set the Oracle Streams Pool Size
                     </h5>
                     <div>
                        <div class="section">
                           <p>The Automatic Shared Memory Management feature automatically manages the size of the Oracle Streams pool when the following conditions are met:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">MEMORY_TARGET</code> and <code class="codeph">MEMORY_MAX_TARGET</code> initialization parameters are both set to <code class="codeph">0</code> (zero).
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SGA_TARGET</code> initialization parameter is set to a nonzero value.
                                 </p>
                              </li>
                           </ul>
                           <p>If you are using Automatic Shared Memory Management and the <code class="codeph">STREAMS_POOL_SIZE</code> initialization parameter also is set to a nonzero value, then Automatic Shared Memory Management uses this value as a minimum for the Oracle Streams pool. You can set a minimum size if your environment needs a minimum amount of memory in the Oracle Streams pool to function properly. The current memory allocated to Oracle Streams pool by Automatic Shared Memory Management can be viewed by querying the <code class="codeph">V$SGA_DYNAMIC_COMPONENTS</code> view.
                           </p>
                           <div class="infoboxnotealso" id="GUID-E65D47CB-DA8C-46FC-8AB9-9E0975C0105F__GUID-16395618-87C2-496C-96A7-A6628E7791EA">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ADMIN00207"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN10256"><span class="italic">Oracle Database Reference</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STREP237"></a><div class="props_rev_3"><a id="GUID-6A752003-766E-405C-BC9E-B3109F57D117" name="GUID-6A752003-766E-405C-BC9E-B3109F57D117"></a><h5 id="STREP-GUID-6A752003-766E-405C-BC9E-B3109F57D117" class="sect5"><span class="enumeration_section">1.3.5.3 </span>Setting the Oracle Streams Pool Size Manually
                     </h5>
                     <div>
                        <div class="section">
                           <p>The Oracle Streams pool size is the value specified by the <code class="codeph">STREAMS_POOL_SIZE</code> parameter, in bytes, if the following conditions are met.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">MEMORY_TARGET</code>, <code class="codeph">MEMORY_MAX_TARGET</code>, and <code class="codeph">SGA_TARGET</code> initialization parameters are all set to <code class="codeph">0</code> (zero).
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">STREAMS_POOL_SIZE</code> initialization parameter is set to a nonzero value.
                                 </p>
                              </li>
                           </ul>
                           <p>If you plan to set the Oracle Streams pool size manually, then you can use the <code class="codeph">V$STREAMS_POOL_ADVICE</code> dynamic performance view to determine an appropriate setting for the <code class="codeph">STREAMS_POOL_SIZE</code> initialization parameter.
                           </p>
                           <div class="infoboxnotealso" id="GUID-6A752003-766E-405C-BC9E-B3109F57D117__GUID-0E5CB133-B2DC-4A62-B632-69470BBB162A">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=STRMS147"><span class="italic">Oracle Streams Concepts and Administration</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STREP238"></a><div class="props_rev_3"><a id="GUID-CCB97B57-4CF2-4CF5-B01B-5E0702F4FE96" name="GUID-CCB97B57-4CF2-4CF5-B01B-5E0702F4FE96"></a><h5 id="STREP-GUID-CCB97B57-4CF2-4CF5-B01B-5E0702F4FE96" class="sect5"><span class="enumeration_section">1.3.5.4 </span>Using the Default Setting for the Oracle Streams Pool Size
                     </h5>
                     <div>
                        <div class="section">
                           <p>The Oracle Streams pool size is set by default if all of the following parameters are set to <code class="codeph">0</code> (zero): <code class="codeph">MEMORY_TARGET</code>, <code class="codeph">MEMORY_MAX_TARGET</code>, <code class="codeph">SGA_TARGET</code>, and <code class="codeph">STREAMS_POOL_SIZE</code>. When the Oracle Streams pool size is set by default, the first use of Oracle Streams in a database transfers an amount of memory equal to 10% of the shared pool from the buffer cache to the Oracle Streams pool. The buffer cache is set by the <code class="codeph">DB_CACHE_SIZE</code> initialization parameter, and the shared pool size is set by the <code class="codeph">SHARED_POOL_SIZE</code> initialization parameter.
                           </p>
                           <p>For example, consider the following configuration in a database before Oracle Streams is used for the first time:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DB_CACHE_SIZE</code> is set to 100 MB.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SHARED_POOL_SIZE</code> is set to 80 MB.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">MEMORY_TARGET</code>, <code class="codeph">MEMORY_MAX_TARGET</code>, <code class="codeph">SGA_TARGET</code>, and <code class="codeph">STREAMS_POOL_SIZE</code> are all set to zero.
                                 </p>
                              </li>
                           </ul>
                           <p>Given this configuration, the amount of memory allocated after Oracle Streams is used for the first time is the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The buffer cache has 92 MB.</p>
                              </li>
                              <li>
                                 <p>The shared pool has 80 MB.</p>
                              </li>
                              <li>
                                 <p>The Oracle Streams pool has 8 MB.</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-CCB97B57-4CF2-4CF5-B01B-5E0702F4FE96__GUID-C12B3629-43FC-42CA-8125-6BCBF1A36EB3">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-F16B954D-35E0-422C-A89F-D3E170BD4505">Setting Initialization Parameters Relevant to Oracle Streams</a>"</span> for more information about the <code class="codeph">STREAMS_POOL_SIZE</code> initialization parameter
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="STREP107"></a><div class="props_rev_3"><a id="GUID-12A4DC82-EEC7-4ACC-BF8F-8D82AA1D19DE" name="GUID-12A4DC82-EEC7-4ACC-BF8F-8D82AA1D19DE"></a><h4 id="STREP-GUID-12A4DC82-EEC7-4ACC-BF8F-8D82AA1D19DE" class="sect4"><span class="enumeration_section">1.3.6 </span>Specifying Supplemental Logging
                  </h4>
                  <div>
                     <p>When you use a capture process to capture changes, supplemental logging must be specified for certain columns at a source database for changes to the columns to be applied successfully at a destination database. Supplemental logging places additional information in the redo log for these columns. A capture process captures this additional information and places it in logical change records (LCRs), and an apply process might need this additional information to apply changes properly.</p>
                     <p>This section contains these topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-0CCB5C86-41A8-4575-B4E6-66658D9E2DAA">Required Supplemental Logging in an Oracle Streams Replication Environment</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-D0218F0D-4000-4E07-8873-4101913F7F63">Specifying Table Supplemental Logging Using Unconditional Log Groups</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-98BE22A4-3DC0-42ED-971A-1591E999EF19">Specifying Table Supplemental Logging Using Conditional Log Groups</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-DA2860FB-322B-41AA-B318-13F4DB2EB992">Dropping a Supplemental Log Group</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-739603CA-A024-4391-A1AA-A3C58CAF4AFA">Specifying Database Supplemental Logging of Key Columns</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-83808654-387F-46C7-A811-07C12EDB4171">Dropping Database Supplemental Logging of Key Columns</a></p>
                        </li>
                        <li>
                           <p><a href="preparing-for-oracle-streams-replication.html#GUID-C448DF14-14D0-45FE-9D29-ECBFFF4FB255">Procedures That Automatically Specify Supplemental Logging</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-12A4DC82-EEC7-4ACC-BF8F-8D82AA1D19DE__GUID-9798928C-3AD0-41A0-A582-A9387C980AE5">
                        <p class="notep1">Note:</p>
                        <p>Supplemental logging is not required when synchronous capture is used to capture changes to database objects.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-12A4DC82-EEC7-4ACC-BF8F-8D82AA1D19DE__GUID-C24C0C9A-1353-4A2C-B1AA-15A3E3963187">
                        <p class="notep1">See Also:</p>
                        <p><a href="../strms/monitoring-oracle-streams-implicit-capture.html#STRMS208"><span class="italic">Oracle Streams Concepts and Administration</span></a> for queries that show supplemental logging specifications
                        </p>
                     </div>
                  </div><a id="STREP239"></a><div class="props_rev_3"><a id="GUID-0CCB5C86-41A8-4575-B4E6-66658D9E2DAA" name="GUID-0CCB5C86-41A8-4575-B4E6-66658D9E2DAA"></a><h5 id="STREP-GUID-0CCB5C86-41A8-4575-B4E6-66658D9E2DAA" class="sect5"><span class="enumeration_section">1.3.6.1 </span>Required Supplemental Logging in an Oracle Streams Replication Environment
                     </h5>
                     <div>
                        <p>There are two types of supplemental logging: <span class="bold">database supplemental logging</span> and <span class="bold">table supplemental logging</span>. Database supplemental logging specifies supplemental logging for an entire database, while table supplemental logging enables you to specify log groups for supplemental logging of a particular table. If you use table supplemental logging, then you can choose between two types of log groups: unconditional log groups and conditional log groups.
                        </p>
                        <p><span class="bold">Unconditional log groups</span> log the before images of specified columns when the table is changed, regardless of whether the change affected any of the specified columns. Unconditional log groups are sometimes referred to as "always log groups." <span class="bold">Conditional log groups</span> log the before images of all specified columns only if at least one of the columns in the log group is changed.
                        </p>
                        <p>Supplementing logging at the database level, unconditional log groups at the table level, and conditional log groups at the table level determine which old values are logged for a change.</p>
                        <p>If you plan to use one or more apply processes to apply LCRs captured by a capture process, then you must enable supplemental logging <span class="italic">at the source database</span> for the following types of columns in tables <span class="italic">at the destination database</span>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Any columns at the source database that are used in a primary key in tables for which changes are applied at a destination database must be unconditionally logged in a log group or by database supplemental logging of primary key columns.</p>
                           </li>
                           <li>
                              <p>If the parallelism of any apply process that will apply the changes is greater than&nbsp;1, then any unique constraint column at a destination database that comes from multiple columns at the source database must be conditionally logged. Supplemental logging does not need to be specified if a unique constraint column comes from a single column at the source database.</p>
                           </li>
                           <li>
                              <p>If the parallelism of any apply process that will apply the changes is greater than&nbsp;1, then any foreign key column at a destination database that comes from multiple columns at the source database must be conditionally logged. Supplemental logging does not need to be specified if the foreign key column comes from a single column at the source database.</p>
                           </li>
                           <li>
                              <p>If the parallelism of any apply process that will apply the changes is greater than&nbsp;1, then any bitmap index column at a destination database that comes from multiple columns at the source database must be conditionally logged. Supplemental logging does not need to be specified if the bitmap index column comes from a single column at the source database.</p>
                           </li>
                           <li>
                              <p>Any columns at the source database that are used as substitute key columns for an apply process at a destination database must be unconditionally logged. You specify substitute key columns for a table using the <code class="codeph">SET_KEY_COLUMNS</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package.
                              </p>
                           </li>
                           <li>
                              <p>The columns specified in a column list for conflict resolution during apply must be conditionally logged if multiple columns at the source database are used in the column list at the destination database.</p>
                           </li>
                           <li>
                              <p>Any columns at the source database that are used by a statement DML handler, change handler, procedure DML handler, or error handler at a destination database must be unconditionally logged.</p>
                           </li>
                           <li>
                              <p>Any columns at the source database that are used by a rule or a rule-based transformation must be unconditionally logged.</p>
                           </li>
                           <li>
                              <p>Any columns at the source database that are specified in a value dependency virtual dependency definition at a destination database must be unconditionally logged.</p>
                           </li>
                           <li>
                              <p>If you specify row subsetting for a table at a destination database, then any columns at the source database that are in the destination table or columns at the source database that are in the subset condition must be unconditionally logged. You specify a row subsetting condition for an apply process using the <code class="codeph">dml_condition</code> parameter in the <code class="codeph">ADD_SUBSET_RULES</code> procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> package.
                              </p>
                           </li>
                        </ul>
                        <p>If you do not use supplemental logging for these types of columns at a source database, then changes involving these columns might not apply properly at a destination database.</p>
                        <div class="infoboxnote" id="GUID-0CCB5C86-41A8-4575-B4E6-66658D9E2DAA__GUID-23F3261C-7B30-4065-9E1C-C2989B059A69">
                           <p class="notep1">Note:</p>
                           <p>Columns of the following data types cannot be part of a supplemental log group: LOB, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, user-defined types (including object types, <code class="codeph">REF</code>s, varrays, nested tables), and Oracle-supplied types (including <code class="codeph">Any</code> types, XML types, spatial types, and media types).
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-0CCB5C86-41A8-4575-B4E6-66658D9E2DAA__GUID-A28A833E-221A-4229-90CE-EB0558677322">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-conflict-resolution.html#GUID-F03634B1-C4A5-4416-B17E-033815CFA4CA">Column Lists</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-B51FFB8D-AB92-4B36-9648-F58262282F9B">Decide Whether the Replication Environment Will Have Nonidentical Replicas</a>"</span> for information about rule-based transformations
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-7078844B-E2BE-48F5-8117-69B4F999FA73">Decide Whether the Replication Environment Will Use Apply Handlers</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=SQLRF0021"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about data types
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STREP240"></a><div class="props_rev_3"><a id="GUID-D0218F0D-4000-4E07-8873-4101913F7F63" name="GUID-D0218F0D-4000-4E07-8873-4101913F7F63"></a><h5 id="STREP-GUID-D0218F0D-4000-4E07-8873-4101913F7F63" class="sect5"><span class="enumeration_section">1.3.6.2 </span>Specifying Table Supplemental Logging Using Unconditional Log Groups
                     </h5>
                     <div>
                        <p>The following sections describe creating an unconditional supplemental log group:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-5D0D75DD-1538-4BF3-830B-065808656AC4">Specifying an Unconditional Supplemental Log Group for Primary Key Column(s)</a></p>
                           </li>
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-78C196CA-9D20-4BD8-A7EA-7FFB216AA2B2">Specifying an Unconditional Supplemental Log Group for All Table Columns</a></p>
                           </li>
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-AE36033C-A250-433A-9A49-30FCAEA075FB">Specifying an Unconditional Supplemental Log Group that Includes Selected Columns</a></p>
                           </li>
                        </ul>
                     </div><a id="STREP241"></a><div class="props_rev_3"><a id="GUID-5D0D75DD-1538-4BF3-830B-065808656AC4" name="GUID-5D0D75DD-1538-4BF3-830B-065808656AC4"></a><h6 id="STREP-GUID-5D0D75DD-1538-4BF3-830B-065808656AC4" class="sect6"><span class="enumeration_section">1.3.6.2.1 </span>Specifying an Unconditional Supplemental Log Group for Primary Key Column(s)
                        </h6>
                        <div>
                           <div class="section">
                              <p>To specify an unconditional supplemental log group that only includes the primary key column(s) for a table, use an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement with the <code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> option in the <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA</code> clause.
                              </p>
                              <p>For example, the following statement adds the primary key column of the <code class="codeph">hr.regions</code> table to an unconditional log group:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.regions ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;
</pre><p>The log group has a system-generated name.</p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="STREP242"></a><div class="props_rev_3"><a id="GUID-78C196CA-9D20-4BD8-A7EA-7FFB216AA2B2" name="GUID-78C196CA-9D20-4BD8-A7EA-7FFB216AA2B2"></a><h6 id="STREP-GUID-78C196CA-9D20-4BD8-A7EA-7FFB216AA2B2" class="sect6"><span class="enumeration_section">1.3.6.2.2 </span>Specifying an Unconditional Supplemental Log Group for All Table Columns
                        </h6>
                        <div>
                           <div class="section">
                              <p>To specify an unconditional supplemental log group that includes all of the columns in a table, use an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement with the <code class="codeph">ALL</code> option in the <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA</code> clause.
                              </p>
                              <p>For example, the following statement adds all of the columns in the <code class="codeph">hr.regions</code> table to an unconditional log group:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.regions ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
</pre><p>The log group has a system-generated name.</p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="STREP243"></a><div class="props_rev_3"><a id="GUID-AE36033C-A250-433A-9A49-30FCAEA075FB" name="GUID-AE36033C-A250-433A-9A49-30FCAEA075FB"></a><h6 id="STREP-GUID-AE36033C-A250-433A-9A49-30FCAEA075FB" class="sect6"><span class="enumeration_section">1.3.6.2.3 </span>Specifying an Unconditional Supplemental Log Group that Includes Selected Columns
                        </h6>
                        <div>
                           <div class="section">
                              <p>To specify an unconditional supplemental log group that contains columns that you select, use an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement with the <code class="codeph">ALWAYS</code> specification for the <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">GROUP</code> clause.These log groups can include key columns, if&nbsp;necessary.
                              </p>
                              <p>For example, the following statement adds the <code class="codeph">department_id</code> column and the <code class="codeph">manager_id</code> column of the <code class="codeph">hr.departments</code> table to an unconditional log group named <code class="codeph">log_group_dep_pk</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.departments ADD SUPPLEMENTAL LOG GROUP log_group_dep_pk
  (department_id, manager_id) ALWAYS;
</pre><p>The <code class="codeph">ALWAYS</code> specification makes this log group an unconditional log group.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="STREP244"></a><div class="props_rev_3"><a id="GUID-98BE22A4-3DC0-42ED-971A-1591E999EF19" name="GUID-98BE22A4-3DC0-42ED-971A-1591E999EF19"></a><h5 id="STREP-GUID-98BE22A4-3DC0-42ED-971A-1591E999EF19" class="sect5"><span class="enumeration_section">1.3.6.3 </span>Specifying Table Supplemental Logging Using Conditional Log Groups
                     </h5>
                     <div>
                        <p>The following sections describe creating a conditional log group:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-BF1A7FA1-A778-4D76-8405-0D04C298FF65">Specifying a Conditional Log Group Using the ADD SUPPLEMENTAL LOG DATA Clause</a></p>
                           </li>
                           <li>
                              <p><a href="preparing-for-oracle-streams-replication.html#GUID-1939F15B-87BE-456E-AAA7-66D3C2714C08">Specifying a Conditional Log Group Using the ADD SUPPLEMENTAL LOG GROUP Clause</a></p>
                           </li>
                        </ul>
                     </div><a id="STREP245"></a><div class="props_rev_3"><a id="GUID-BF1A7FA1-A778-4D76-8405-0D04C298FF65" name="GUID-BF1A7FA1-A778-4D76-8405-0D04C298FF65"></a><h6 id="STREP-GUID-BF1A7FA1-A778-4D76-8405-0D04C298FF65" class="sect6"><span class="enumeration_section">1.3.6.3.1 </span>Specifying a Conditional Log Group Using the ADD SUPPLEMENTAL LOG DATA Clause
                        </h6>
                        <div>
                           <div class="section">
                              <p>You can use the following options in the <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA</code> clause of an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement:
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> option creates a conditional log group that includes the foreign key column(s) in the table.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">UNIQUE</code> option creates a conditional log group that includes the unique key column(s) and bitmap index column(s) in the table.
                                    </p>
                                 </li>
                              </ul>
                              <p>If you specify multiple options in a single <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement, then a separate conditional log group is created for each option.
                              </p>
                              <p>For example, the following statement creates two conditional log groups:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.employees ADD SUPPLEMENTAL LOG DATA 
  (UNIQUE, FOREIGN KEY) COLUMNS;
</pre><p>One conditional log group includes the unique key columns and bitmap index columns for the table, and the other conditional log group includes the foreign key columns for the table. Both log groups have a system-generated name.</p>
                              <div class="infoboxnote" id="GUID-BF1A7FA1-A778-4D76-8405-0D04C298FF65__GUID-AC871BA0-A678-4FB6-8578-6C541B84ABA8">
                                 <p class="notep1">Note:</p>
                                 <p>Specifying the <code class="codeph">UNIQUE</code> option does not enable supplemental logging of bitmap join index columns.
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="STREP246"></a><div class="props_rev_3"><a id="GUID-1939F15B-87BE-456E-AAA7-66D3C2714C08" name="GUID-1939F15B-87BE-456E-AAA7-66D3C2714C08"></a><h6 id="STREP-GUID-1939F15B-87BE-456E-AAA7-66D3C2714C08" class="sect6"><span class="enumeration_section">1.3.6.3.2 </span>Specifying a Conditional Log Group Using the ADD SUPPLEMENTAL LOG GROUP Clause
                        </h6>
                        <div>
                           <div class="section">
                              <p>To specify a conditional supplemental log group that includes any columns you choose to add, you can use the <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">GROUP</code> clause in the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement. To make the log group conditional, do not include the <code class="codeph">ALWAYS</code> specification.
                              </p>
                              <p>For example, suppose the <code class="codeph">min_salary</code> and <code class="codeph">max_salary</code> columns in the <code class="codeph">hr.jobs</code> table are included in a column list for conflict resolution at a destination database. The following statement adds the <code class="codeph">min_salary</code> and <code class="codeph">max_salary</code> columns to a conditional log group named <code class="codeph">log_group_jobs_cr</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.jobs ADD SUPPLEMENTAL LOG GROUP log_group_jobs_cr 
  (min_salary, max_salary);</pre></div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="STREP247"></a><div class="props_rev_3"><a id="GUID-DA2860FB-322B-41AA-B318-13F4DB2EB992" name="GUID-DA2860FB-322B-41AA-B318-13F4DB2EB992"></a><h5 id="STREP-GUID-DA2860FB-322B-41AA-B318-13F4DB2EB992" class="sect5"><span class="enumeration_section">1.3.6.4 </span>Dropping a Supplemental Log Group
                     </h5>
                     <div>
                        <div class="section">
                           <p>To drop a conditional or unconditional supplemental log group, use the <code class="codeph">DROP</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">GROUP</code> clause in the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement. For example, to drop a supplemental log group named <code class="codeph">log_group_jobs_cr</code>, run the following statement:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.jobs DROP SUPPLEMENTAL LOG GROUP log_group_jobs_cr;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STREP248"></a><div class="props_rev_3"><a id="GUID-739603CA-A024-4391-A1AA-A3C58CAF4AFA" name="GUID-739603CA-A024-4391-A1AA-A3C58CAF4AFA"></a><h5 id="STREP-GUID-739603CA-A024-4391-A1AA-A3C58CAF4AFA" class="sect5"><span class="enumeration_section">1.3.6.5 </span>Specifying Database Supplemental Logging of Key Columns
                     </h5>
                     <div>
                        <div class="section">
                           <p>You have the option of specifying supplemental logging for all primary key, unique key, bitmap index, and foreign key columns in a source database. You might choose this option if you configure a capture process to capture changes to an entire database. To specify supplemental logging for all primary key, unique key, bitmap index, and foreign key columns in a source database, issue the following SQL statement:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD SUPPLEMENTAL LOG DATA 
   (PRIMARY KEY, UNIQUE, FOREIGN KEY) COLUMNS;
</pre><p>If your primary key, unique key, bitmap index, and foreign key columns are the same at all source and destination databases, then running this command at the source database provides the supplemental logging needed for primary key, unique key, bitmap index, and foreign key columns at all destination databases. When you specify the <code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> option, all columns of a row's primary key are placed in the redo log file any time the table is modified (unconditional logging). When you specify the <code class="codeph">UNIQUE</code> option, any columns in a row's unique key and bitmap index are placed in the redo log file if any column belonging to the unique key or bitmap index is modified (conditional logging). When you specify the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> option, all columns of a row's foreign key are placed in the redo log file if any column belonging to the foreign key is modified (conditional logging).
                           </p>
                           <p>You can omit one or more of these options. For example, if you do not want to supplementally log all of the foreign key columns in the database, then you can omit the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> option, as in the following example:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD SUPPLEMENTAL LOG DATA 
   (PRIMARY KEY, UNIQUE) COLUMNS;
</pre><p>In addition to <code class="codeph">PRIMARY</code> <code class="codeph">KEY</code>, <code class="codeph">UNIQUE</code>, and <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code>, you can also use the <code class="codeph">ALL</code> option. The <code class="codeph">ALL</code> option specifies that, when a row is changed, all the columns of that row (except for LOB, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, user-defined type, and Oracle-supplied type columns) are placed in the redo log file (unconditional logging).
                           </p>
                           <p>Supplemental logging statements are cumulative. If you issue two consecutive <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA</code> statements, each with a different identification key, then both keys are supplementally logged.
                           </p>
                           <div class="infoboxnote" id="GUID-739603CA-A024-4391-A1AA-A3C58CAF4AFA__GUID-28A005DB-F1DD-41D2-998A-B73A528534F5">
                              <p class="notep1">Note:</p>
                              <p>Specifying the <code class="codeph">UNIQUE</code> option does not enable supplemental logging of bitmap join index columns.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-739603CA-A024-4391-A1AA-A3C58CAF4AFA__GUID-D36E667F-F1E0-464A-9170-A6B947C5E450">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=SQLRF0021"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about data types
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STREP249"></a><div class="props_rev_3"><a id="GUID-83808654-387F-46C7-A811-07C12EDB4171" name="GUID-83808654-387F-46C7-A811-07C12EDB4171"></a><h5 id="STREP-GUID-83808654-387F-46C7-A811-07C12EDB4171" class="sect5"><span class="enumeration_section">1.3.6.6 </span>Dropping Database Supplemental Logging of Key Columns
                     </h5>
                     <div>
                        <div class="section">
                           <p>To drop supplemental logging for all primary key, unique key, bitmap index, and foreign key columns in a source database, issue the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">DROP</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA</code> statement. To drop database supplemental logging for all primary key, unique key, bitmap index, and foreign key columns, issue the following SQL statement:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DROP SUPPLEMENTAL LOG DATA 
  (PRIMARY KEY, UNIQUE, FOREIGN KEY) COLUMNS;
</pre><div class="infoboxnote" id="GUID-83808654-387F-46C7-A811-07C12EDB4171__GUID-47BE7EFC-D728-4AFE-982F-916219F9703F">
                              <p class="notep1">Note:</p>
                              <p>Dropping database supplemental logging of key columns does not affect any existing table-level supplemental log groups.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STREP250"></a><div class="props_rev_3"><a id="GUID-C448DF14-14D0-45FE-9D29-ECBFFF4FB255" name="GUID-C448DF14-14D0-45FE-9D29-ECBFFF4FB255"></a><h5 id="STREP-GUID-C448DF14-14D0-45FE-9D29-ECBFFF4FB255" class="sect5"><span class="enumeration_section">1.3.6.7 </span>Procedures That Automatically Specify Supplemental Logging
                     </h5>
                     <div>
                        <p>The following procedures in the <code class="codeph">DBMS_CAPTURE_ADM</code> package automatically specify supplemental logging:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS590"><code class="codeph">BUILD</code></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS544"><code class="codeph">PREPARE_GLOBAL_INSTANTIATION</code></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS545"><code class="codeph">PREPARE_SCHEMA_INSTANTIATION</code></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS546"><code class="codeph">PREPARE_TABLE_INSTANTIATION</code></a></p>
                           </li>
                        </ul>
                        <p>The <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS590"><code class="codeph">BUILD</code></a> procedure automatically specifies database supplemental logging by running the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA</code> statement. In most cases, the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS590"><code class="codeph">BUILD</code></a> procedure is run automatically when a capture process is created.
                        </p>
                        <p>The <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS544"><code class="codeph">PREPARE_GLOBAL_INSTANTIATION</code></a>, <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS545"><code class="codeph">PREPARE_SCHEMA_INSTANTIATION</code></a>, and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS546"><code class="codeph">PREPARE_TABLE_INSTANTIATION</code></a> procedures automatically specify supplemental logging of the primary key, unique key, bitmap index, and foreign key columns in the tables prepared for instantiation.
                        </p>
                        <p>Certain procedures in the <code class="codeph">DBMS_STREAMS_ADM</code> package automatically run a procedure listed previously. See <span class="q">"<a href="instantiation-and-oracle-streams-replication.html#GUID-A067A70F-CAAD-4942-80A6-BDD6C66BD2EB">DBMS_STREAMS_ADM Package Procedures Automatically Prepare Objects</a>"</span> for information.
                        </p>
                        <div class="infoboxnotealso" id="GUID-C448DF14-14D0-45FE-9D29-ECBFFF4FB255__GUID-15A153BF-4C28-486F-8076-ABA29A362883">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ARPLS73643"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about these procedures
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="STREP211"></a><div class="props_rev_3"><a id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A" name="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A"></a><h4 id="STREP-GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A" class="sect4"><span class="enumeration_section">1.3.7 </span>Configuring Log File Transfer to a Downstream Capture Database
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you decided to use a local capture process at the source database, then log file transfer is not required. However, if you decided to use downstream capture that uses redo transport services to transfer archived redo log files to the downstream database automatically, then configure log file transfer from the source database to the capture database before configuring the replication environment. See <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502">Decide Whether to Configure Local or Downstream Capture for the Source Database</a>"</span> for information about the decision.
                        </p>
                        <p>You must complete the steps in this section if you plan to configure downstream capture using either of the following methods:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Running a configuration procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> supplied PL/SQL package to configure replication between two databases
                              </p>
                           </li>
                           <li>
                              <p>Configuring each Oracle Streams component separately</p>
                           </li>
                        </ul>
                        <p>See <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-0C7BB255-A828-4089-B624-41201F1E18D0">Decide How to Configure the Replication Environment</a>"</span> for information about these methods.
                        </p>
                        <div class="infoboxnotealso" id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__GUID-FB0DB963-277B-44C7-B8A5-F28A20FE9859">
                           <p class="notep1">Tip:</p>
                           <p>You can use Oracle Enterprise Manager Cloud Control to configure log file transfer and a downstream capture process. See the Oracle Enterprise Manager Cloud Control online help for instructions.</p>
                        </div>
                        <p>Complete the following steps to prepare the source database to transfer its redo log files to the capture database, and to prepare the capture database to accept these redo log files:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Configure Oracle Net so that the source database can communicate with the downstream database.</span><div>
                              <div class="infoboxnotealso" id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__GUID-064845E4-4AAB-4807-BD6B-4CD0EF8C7066">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=NETAG"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Configure authentication at both databases to support the transfer of redo data.</span><div>
                              <p>Redo transport sessions are authenticated using either the Secure Sockets Layer (SSL) protocol or a remote login password file. If the source database has a remote login password file, then copy it to the appropriate directory on the downstream capture database system. The password file must be the same at the source database and the downstream capture database.</p>
                              <div class="infoboxnotealso" id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__GUID-45047C1E-B827-4B2F-89D5-82F2F71DD3D3">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=SBYDB00424"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for detailed information about authentication requirements for redo transport
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__BEHGCCHI"><span>At the source database, set the following initialization parameters to configure redo transport services to transmit redo data from the source database to the downstream database:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> - Configure at least one <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter to transmit redo data to the downstream database. Set the following attributes of this parameter in the following way:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">SERVICE</code> - Specify the network service name of the downstream database.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ASYNC</code> or <code class="codeph">SYNC</code> - Specify a redo transport mode.
                                          </p>
                                          <p>The advantage of specifying <code class="codeph">ASYNC</code> is that it results in little or no effect on the performance of the source database. <code class="codeph">ASYNC</code> is recommended to avoid affecting source database performance if the downstream database or network is performing poorly.
                                          </p>
                                          <p>The advantage of specifying <code class="codeph">SYNC</code> is that redo data is sent to the downstream database faster then when <code class="codeph">ASYNC</code> is specified. Also, specifying <code class="codeph">SYNC</code> <code class="codeph">AFFIRM</code> results in behavior that is similar to <code class="codeph">MAXIMUM</code> <code class="codeph">AVAILABILITY</code> standby protection mode. Note that specifying an <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">STANDBY</code> <code class="codeph">DATABASE</code> <code class="codeph">TO</code> <code class="codeph">MAXIMIZE</code> <code class="codeph">AVAILABILITY</code> SQL statement has no effect on an Oracle Streams capture process.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NOREGISTER</code> - Specify this attribute so that the location of the archived redo log files is not recorded in the downstream database control file.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">VALID_FOR</code> - Specify either <code class="codeph">(ONLINE_LOGFILE,PRIMARY_ROLE)</code> or <code class="codeph">(ONLINE_LOGFILE,ALL_ROLES)</code>.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">TEMPLATE</code> - If you are configuring an archived-log downstream capture process, then specify a directory and format template for archived redo logs at the downstream database. The <code class="codeph">TEMPLATE</code> attribute overrides the <code class="codeph">LOG_ARCHIVE_FORMAT</code> initialization parameter settings at the downstream database. The <code class="codeph">TEMPLATE</code> attribute is valid only with remote destinations. Ensure that the format uses all of the following variables at each source database: <code class="codeph">%t</code>, <code class="codeph">%s</code>, and <code class="codeph">%r</code>.
                                          </p>
                                          <p>Do not specify the <code class="codeph">TEMPLATE</code> attribute if you are configuring a real-time downstream capture process.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DB_UNIQUE_NAME</code> - The unique name of the downstream database. Use the name specified for the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter at the downstream database.
                                          </p>
                                       </li>
                                    </ul>
                                    <p>The following example is a <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> setting that specifies the downstream database <code class="codeph">dbs2</code> for a real-time downstream capture process:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_2='SERVICE=DBS2.EXAMPLE.COM ASYNC NOREGISTER
   VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE)
   DB_UNIQUE_NAME=dbs2'
</pre><p>The following example is a <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> setting that specifies the downstream database <code class="codeph">dbs2</code> for an archived-log downstream capture process:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_2='SERVICE=DBS2.EXAMPLE.COM ASYNC NOREGISTER
   VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE)
   TEMPLATE=/usr/oracle/log_for_dbs1/dbs1_arch_%t_%s_%r.log
   DB_UNIQUE_NAME=dbs2'
</pre><p>See <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502">Decide Whether to Configure Local or Downstream Capture for the Source Database</a>"</span> for information about the differences between real-time and archived-log downstream capture.
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__GUID-7D89585E-69C5-407B-9149-6A8070A2A332">
                                       <p class="notep1">Tip:</p>
                                       <p>If you are configuring an archived-log downstream capture process, then specify a value for the <code class="codeph">TEMPLATE</code> attribute that keeps log files from a remote source database separate from local database log files. In addition, if the downstream database contains log files from multiple source databases, then the log files from each source database should be kept separate from each other.
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LOG_ARCHIVE_DEST_STATE_</code><span class="italic"><code class="codeph">n</code></span> - Set this initialization parameter that corresponds with the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> parameter for the downstream database to <code class="codeph">ENABLE</code>.
                                    </p>
                                    <p>For example, if the <code class="codeph">LOG_ARCHIVE_DEST_2</code> initialization parameter is set for the downstream database, then set the <code class="codeph">LOG_ARCHIVE_DEST_STATE_2</code> parameter in the following way:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_STATE_2=ENABLE 
</pre></li>
                                 <li>
                                    <p><code class="codeph">LOG_ARCHIVE_CONFIG</code> - Set the <code class="codeph">DG_CONFIG</code> attribute in this initialization parameter to include the <code class="codeph">DB_UNIQUE_NAME</code> of the source database and the downstream database.
                                    </p>
                                    <p>For example, if the <code class="codeph">DB_UNIQUE_NAME</code> of the source database is <code class="codeph">dbs1</code>, and the <code class="codeph">DB_UNIQUE_NAME</code> of the downstream database is <code class="codeph">dbs2</code>, then specify the following parameter:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_CONFIG='DG_CONFIG=(dbs1,dbs2)'
</pre><p>By default, the <code class="codeph">LOG_ARCHIVE_CONFIG</code> parameter enables a database to both send and receive redo.
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnotealso" id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__GUID-1543077F-7D3F-49D6-82A8-63BA101B0A7C">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN"><span class="italic">Oracle Database Reference </span></a>and<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=SBYDB01100"><span class="italic"> Oracle Data Guard Concepts and Administration </span></a>for more information about these initialization parameters
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__BEHJEDAG"><span>At the downstream database, set the <code class="codeph">DG_CONFIG</code> attribute in the <code class="codeph">LOG_ARCHIVE_CONFIG</code> initialization parameter to include the <code class="codeph">DB_UNIQUE_NAME</code> of the source database and the downstream database.</span><div>
                              <p>For example, if the <code class="codeph">DB_UNIQUE_NAME</code> of the source database is <code class="codeph">dbs1</code>, and the <code class="codeph">DB_UNIQUE_NAME</code> of the downstream database is <code class="codeph">dbs2</code>, then specify the following parameter:
                              </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_CONFIG='DG_CONFIG=(dbs1,dbs2)'
</pre><p>By default, the <code class="codeph">LOG_ARCHIVE_CONFIG</code> parameter enables a database to both send and receive redo.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If you reset any initialization parameters while the instance was running at a database in Step <a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__BEHGCCHI">3</a> or Step <a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__BEHJEDAG">4</a>, then you might want to reset them in the initialization parameter file as well, so that the new values are retained when the database is restarted.</span><div>
                              <p>If you did not reset the initialization parameters while the instance was running, but instead reset them in the initialization parameter file in Step <a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__BEHGCCHI">3</a> or Step <a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A__BEHJEDAG">4</a>, then restart the database. The source database must be open when it sends redo log files to the downstream database, because the global name of the source database is sent to the downstream database only if the source database is open.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>When these steps are complete, you are ready to perform one of the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Configure an archived-log downstream capture process. In this case, see the instructions in the following sections:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-8FAAAEF7-0689-4A95-8BD4-D8630CE45FD5">Configuring Replication Using the DBMS_STREAMS_ADM Package</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="configuring-implicit-capture.html#GUID-B3AC0900-A3B1-42A1-BE6F-A623F223835F">Configuring an Archived-Log Downstream Capture Process</a>"</span></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Add standby redo logs files at the downstream database for a real-time downstream capture process. In this case, see the instructions in <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE">Adding Standby Redo Logs for Real-Time Downstream Capture</a>"</span>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STREP251"></a><div class="props_rev_3"><a id="GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE" name="GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE"></a><h4 id="STREP-GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE" class="sect4"><span class="enumeration_section">1.3.8 </span>Adding Standby Redo Logs for Real-Time Downstream Capture
                  </h4>
                  <div>
                     <div class="section">
                        <p>The example in this section adds standby redo logs at a downstream database. Standby redo logs are required to configure a real-time downstream capture process. In the example, the source database is <code class="codeph">dbs1.example.com</code> and the downstream database is <code class="codeph">dbs2.example.com</code></p>
                        <p>See <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-413B5DE9-FB2A-48BE-B5A0-815DE614E502">Decide Whether to Configure Local or Downstream Capture for the Source Database</a>"</span> for information about the differences between real-time and archived-log downstream capture. The steps in this section are required only if you are configuring real-time downstream capture. If you are configuring archived-log downstream capture, then do not complete the steps in this section.
                        </p>
                        <div class="infoboxnotealso" id="GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__GUID-B8D7E816-11CC-4A9C-AEBF-DBFC963373CD">
                           <p class="notep1">Tip:</p>
                           <p>You can use Oracle Enterprise Manager Cloud Control to configure real-time downstream capture. See the Oracle Enterprise Manager Cloud Control online help for instructions.</p>
                        </div>
                        <p>Complete the following steps to add a standby redo log at the downstream database:</p>
                        <ol>
                           <li>
                              <p>Complete the steps in <span class="q">"<a href="preparing-for-oracle-streams-replication.html#GUID-CD6DB455-4D52-4CEF-B680-5A324E36BC5A">Configuring Log File Transfer to a Downstream Capture Database</a>"</span>.
                              </p>
                           </li>
                           <li id="GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__BABDJDGB">
                              <p>At the downstream database, set the following initialization parameters to configure archiving of the redo data generated locally:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Set at least one archive log destination in the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter either to a directory or to the fast recovery area on the computer system running the downstream database. Set the following attributes of this parameter in the following way:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">LOCATION</code> - Specify either a valid path name for a disk directory or, to use a fast recovery area, specify <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code>. This location is the local destination for archived redo log files written from the standby redo logs. Log files from a remote source database should be kept separate from local database log files. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=BRADV8183"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about configuring a fast recovery area.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">VALID_FOR</code> - Specify either <code class="codeph">(ONLINE_LOGFILE,PRIMARY_ROLE)</code> or <code class="codeph">(ONLINE_LOGFILE,ALL_ROLES)</code>.
                                          </p>
                                       </li>
                                    </ul>
                                    <p>The following example is a <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> setting for the locally generated redo data at the real-time downstream capture database:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_1='LOCATION=/home/arc_dest/local_rl_dbs2
   VALID_FOR=(ONLINE_LOGFILE,PRIMARY_ROLE)'
</pre><p>A real-time downstream capture configuration should keep archived standby redo log files separate from archived online redo log files generated by the downstream database. Specify <code class="codeph">ONLINE_LOGFILE</code> instead of <code class="codeph">ALL_LOGFILES</code> for the redo log type in the <code class="codeph">VALID_FOR</code> attribute to accomplish this.
                                    </p>
                                    <p>You can specify other attributes in the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter if necessary.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Set the <code class="codeph">LOG_ARCHIVE_DEST_STATE_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter that corresponds with the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> parameter previously set in this step to <code class="codeph">ENABLE</code>.
                                    </p>
                                    <p>For example, if the <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameter is set, then set the <code class="codeph">LOG_ARCHIVE_DEST_STATE_1</code> parameter in the following way:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_STATE_1=ENABLE 
</pre></li>
                              </ul>
                           </li>
                           <li id="GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__BEHJHIBA">
                              <p>At the downstream database, set the following initialization parameters to configure the downstream database to receive redo data from the source database and write the redo data to the standby redo log at the downstream database:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Set at least one archive log destination in the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter either to a directory or to the fast recovery area on the computer system running the downstream database. Set the following attributes of this parameter in the following way:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">LOCATION</code> - Specify either a valid path name for a disk directory or, to use a fast recovery area, specify <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code>. This location is the local destination for archived redo log files written from the standby redo logs. Log files from a remote source database should be kept separate from local database log files. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=BRADV8183"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about configuring a fast recovery area.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">VALID_FOR</code> - Specify either <code class="codeph">(STANDBY_LOGFILE,PRIMARY_ROLE)</code> or <code class="codeph">(STANDBY_LOGFILE,ALL_ROLES)</code>.
                                          </p>
                                       </li>
                                    </ul>
                                    <p>The following example is a <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> setting for the redo data received from the source database at the real-time downstream capture database:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_2='LOCATION=/home/arc_dest/srl_dbs1
   VALID_FOR=(STANDBY_LOGFILE,PRIMARY_ROLE)'
</pre><p>You can specify other attributes in the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter if necessary.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Set the <code class="codeph">LOG_ARCHIVE_DEST_STATE_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter that corresponds with the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> parameter previously set in this step to <code class="codeph">ENABLE</code>.
                                    </p>
                                    <p>For example, if the <code class="codeph">LOG_ARCHIVE_DEST_2</code> initialization parameter is set for the downstream database, then set the <code class="codeph">LOG_ARCHIVE_DEST_STATE_2</code> parameter in the following way:
                                    </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_STATE_2=ENABLE 
</pre></li>
                              </ul>
                              <div class="infoboxnotealso" id="GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__GUID-8C43C9CD-C8FF-41C1-ACC3-6CEB55B87B18">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=REFRN"><span class="italic">Oracle Database Reference </span></a>and<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=SBYDB"><span class="italic"> Oracle Data Guard Concepts and Administration </span></a>for more information about these initialization parameters
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>If you reset any initialization parameters while an instance was running at a database in Step <a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__BABDJDGB">2</a> or <a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__BEHJHIBA">3</a>, then you might want to reset them in the relevant initialization parameter file as well, so that the new values are retained when the database is restarted. 
                              </p>
                              <p>If you did not reset the initialization parameters while an instance was running, but instead reset them in the initialization parameter file in Step <a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__BABDJDGB">2</a> or <a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__BEHJHIBA">3</a>, then restart the database. The source database must be open when it sends redo data to the downstream database, because the global name of the source database is sent to the downstream database only if the source database is open.
                              </p>
                           </li>
                           <li>
                              <p>Create the standby redo log files.</p>
                              <div class="infoboxnote" id="GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__GUID-94B6F466-73B4-4843-9ED8-68BF3A456D37">
                                 <p class="notep1">Note:</p>
                                 <p>The following steps outline the general procedure for adding standby redo log files to the downstream database. The specific steps and SQL statements used to add standby redo log files depend on your environment. For example, in an Oracle Real Application Clusters (Oracle RAC) environment, the steps are different. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=SBYDB00400"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for detailed instructions about adding standby redo log files to a database.
                                 </p>
                              </div>
                              <ol type="a">
                                 <li>
                                    <p>In SQL*Plus, connect to the source database <code class="codeph">dbs1.example.com</code> as an administrative user.
                                    </p>
                                    <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strep&amp;id=ADMIN00102"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about connecting to a database in SQL*Plus.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Determine the log file size used on the source database. The standby log file size must exactly match (or be larger than) the source database log file size. For example, if the source database log file size is 500 MB, then the standby log file size must be 500 MB or larger. You can determine the size of the redo log files at the source database (in bytes) by querying the <code class="codeph">V$LOG</code> view at the source database.
                                    </p>
                                    <p>For example, query the <code class="codeph">V$LOG</code> view:
                                    </p><pre class="oac_no_warn" dir="ltr">SELECT BYTES FROM V$LOG;
</pre></li>
                                 <li>
                                    <p>Determine the number of standby log file groups required on the downstream database. The number of standby log file groups must be at least one more than the number of online log file groups on the source database. For example, if the source database has two online log file groups, then the downstream database must have at least three standby log file groups. You can determine the number of source database online log file groups by querying the <code class="codeph">V$LOG</code> view at the source database.
                                    </p>
                                    <p>For example, query the <code class="codeph">V$LOG</code> view:
                                    </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(GROUP#) FROM V$LOG;
</pre></li>
                                 <li>
                                    <p>In SQL*Plus, connect to the downstream database <code class="codeph">dbs2.example.com</code> as an administrative user.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use the SQL statement <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">ADD</code> <code class="codeph">STANDBY</code> <code class="codeph">LOGFILE</code> to add the standby log file groups to the downstream database.
                                    </p>
                                    <p>For example, assume that the source database has two online redo log file groups and is using a log file size of 500 MB. In this case, use the following statements to create the appropriate standby log file groups:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD STANDBY LOGFILE GROUP 3
   ('/oracle/dbs/slog3a.rdo', '/oracle/dbs/slog3b.rdo') SIZE 500M;

ALTER DATABASE ADD STANDBY LOGFILE GROUP 4
   ('/oracle/dbs/slog4.rdo', '/oracle/dbs/slog4b.rdo') SIZE 500M;

ALTER DATABASE ADD STANDBY LOGFILE GROUP 5
   ('/oracle/dbs/slog5.rdo', '/oracle/dbs/slog5b.rdo') SIZE 500M;
</pre></li>
                                 <li>
                                    <p>Ensure that the standby log file groups were added successfully by running the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT GROUP#, THREAD#, SEQUENCE#, ARCHIVED, STATUS
   FROM V$STANDBY_LOG;
</pre><p>You output should be similar to the following:</p><pre class="oac_no_warn" dir="ltr">    GROUP#    THREAD#  SEQUENCE# ARC STATUS
---------- ---------- ---------- --- ----------
         3          0          0 YES UNASSIGNED
         4          0          0 YES UNASSIGNED
         5          0          0 YES UNASSIGNED
</pre></li>
                                 <li>
                                    <p>Ensure that log files from the source database are appearing in the location specified in the <code class="codeph">LOCATION</code> attribute in Step <a href="preparing-for-oracle-streams-replication.html#GUID-4330E6AC-490D-438C-8A9D-D49DC7321BEE__BEHJHIBA">3</a>. You might need to switch the log file at the source database to see files in the directory.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                        <p>When these steps are complete, you are ready to configure a real-time downstream capture process. See the instructions in the following sections:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="simple-oracle-streams-replication-configuration.html#GUID-8FAAAEF7-0689-4A95-8BD4-D8630CE45FD5">Configuring Replication Using the DBMS_STREAMS_ADM Package</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="configuring-implicit-capture.html#GUID-63942532-D305-4586-80FC-CC754FD37A93">Configuring a Real-Time Downstream Capture Process</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>