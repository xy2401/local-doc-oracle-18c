<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Development and Deployment with Visual&nbsp;Studio</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Extensions for .NET Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Extensions for .NET Developer's Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-extensions-net.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-08-05T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90596-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="install.html" title="Previous" type="text/html">
      <link rel="next" href="demo.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Extensions for .NET">
    <meta name="dcterms.isVersionOf" content="CLRNT">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="demo.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Extensions for .NET Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Development and Deployment with Visual&nbsp;Studio </li>
            </ol>
            <a id="GUID-9DDB7AD0-37B2-427F-9FC9-3E18493CB142" name="GUID-9DDB7AD0-37B2-427F-9FC9-3E18493CB142"></a><a id="CLRNT0003"></a>
            
            <h2 id="CLRNT-GUID-9DDB7AD0-37B2-427F-9FC9-3E18493CB142" class="sect2"><span class="enumeration_chapter">3 </span> Development and Deployment with Visual&nbsp;Studio 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>These topics describe the steps that are required to develop and deploy a .NET stored procedure or function into an Oracle Database.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="devdeploy.html#GUID-91A507F1-2EDE-494B-ADCC-D57D6E620195">Step 1: Develop the Stored Procedure or Function and Build it into an Assembly</a></p>
                  </li>
                  <li>
                     <p><a href="devdeploy.html#GUID-CE781CBC-E85D-4171-9EB7-28B72A6B3FA3">Step 2: Run the Oracle Deployment Wizard for .NET</a></p>
                  </li>
                  <li>
                     <p><a href="devdeploy.html#GUID-371835EA-C025-441B-8BFB-75C4DFB4B737">Step 3: Choose the Procedure or Function to Deploy and Security Level</a></p>
                  </li>
                  <li>
                     <p><a href="devdeploy.html#GUID-4CA17A8C-737D-4003-853F-4094D3467577">Step 4: Determine the Appropriate Parameter Type Mappings</a></p>
                  </li>
                  <li>
                     <p><a href="devdeploy.html#GUID-FC283793-04E6-4CE1-AC1F-BEC0E0621DDE">Step 5: Deploy the Procedure or Function</a></p>
                  </li>
                  <li>
                     <p><a href="devdeploy.html#GUID-38903E5F-BA9E-4B3A-A389-92393CE45DBE">Step 6: Test the Procedure or Function</a></p>
                  </li>
                  <li>
                     <p><a href="devdeploy.html#GUID-DA5CCECF-B14D-45F5-876C-5398402DBB44">Step 7: Debug the Procedure or Function</a></p>
                  </li>
               </ul>
            </div><a id="CLRNT146"></a><div class="props_rev_3"><a id="GUID-91A507F1-2EDE-494B-ADCC-D57D6E620195" name="GUID-91A507F1-2EDE-494B-ADCC-D57D6E620195"></a><h3 id="CLRNT-GUID-91A507F1-2EDE-494B-ADCC-D57D6E620195" class="sect3"><span class="enumeration_section">3.1 </span>Step 1: Develop the Stored Procedure or Function and Build it into an Assembly
               </h3>
               <div>
                  <div class="section">
                     <p>Write the stored procedure or function using Microsoft Visual Studio with an appropriate .NET language. </p>
                     <p>Use Oracle Data Provider for .NET (<code class="codeph">Oracle.DataAccess.Client</code> and <code class="codeph">Oracle.DataAccess.Types</code>) in a .NET stored procedure or function to provide data access. 
                     </p>
                     <p>Build the stored procedure or function into an assembly as a DLL, and not as an EXE. This is typically accomplished using a Class Library project. </p>
                     <p>Keep in mind the Oracle Data Provider for .NET limitations and restrictions, especially concerning connections and transactional semantics, when designing and developing a .NET procedure or function that uses data access.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CLRNT147"></a><div class="props_rev_3"><a id="GUID-CE781CBC-E85D-4171-9EB7-28B72A6B3FA3" name="GUID-CE781CBC-E85D-4171-9EB7-28B72A6B3FA3"></a><h3 id="CLRNT-GUID-CE781CBC-E85D-4171-9EB7-28B72A6B3FA3" class="sect3"><span class="enumeration_section">3.2 </span>Step 2: Run the Oracle Deployment Wizard for .NET
               </h3>
               <div>
                  <div class="section">
                     <p>Run Oracle Deployment Wizard for .NET from Microsoft Visual Studio. Oracle Deployment Wizard for .NET is installed as part of the Oracle Developer Tools for Visual Studio. This wizard requires <code class="codeph">SYSDBA</code> credentials, the name of the assembly to be deployed, and the database it is being deployed to.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CLRNT148"></a><div class="props_rev_3"><a id="GUID-371835EA-C025-441B-8BFB-75C4DFB4B737" name="GUID-371835EA-C025-441B-8BFB-75C4DFB4B737"></a><h3 id="CLRNT-GUID-371835EA-C025-441B-8BFB-75C4DFB4B737" class="sect3"><span class="enumeration_section">3.3 </span>Step 3: Choose the Procedure or Function to Deploy and Security Level
               </h3>
               <div>
                  <div class="section">
                     <p>Choose the procedure or function to be deployed when the Oracle Deployment Wizard for .NET displays the list of methods for that assembly. </p>
                     <p>Also, choose the security level.</p>
                     <p>Oracle Database Extensions for .NET executes .NET stored procedures or functions at a specific security level. The security level dictates the Code Access Permissions granted to a .NET stored procedure or function. By default, .NET stored procedures or functions are executed with the SAFE security level. </p>
                     <p>The security levels are:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Safe</p>
                           <p>In Safe level, the .NET stored procedure or function is allowed to access only database resources. Access to any external resources such as local files, networks, and so on, is not allowed. </p>
                        </li>
                        <li>
                           <p>External</p>
                           <p>In External level, the .NET stored procedure or function is allowed to read or write to local files, and to access network resources such as sockets and internet nodes, and so on.</p>
                        </li>
                        <li>
                           <p>Unsafe</p>
                           <p>In Unsafe level, the .NET stored procedure or function is allowed unrestricted execution including execution of unmanaged code. It is a superset of all other security levels.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-371835EA-C025-441B-8BFB-75C4DFB4B737__GUID-9C9ED2BD-B6DD-4FDB-8552-22F9E59FCC00">
                        <p class="notep1">Note:</p>
                        <p>If ODP.NET is installed with non-machine wide configuration, then .NET stored procedures will need to be deployed and configured with the 'Unsafe' security level.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-371835EA-C025-441B-8BFB-75C4DFB4B737__GUID-EEE5DC48-0130-4770-8553-63423F5C9814">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="demo.html#GUID-85910CF7-EA77-42A6-A51D-6F313BAD61ED">Step 3: Choose the Function to Deploy</a>"</span> for the process of entering security level
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CLRNT149"></a><div class="props_rev_3"><a id="GUID-4CA17A8C-737D-4003-853F-4094D3467577" name="GUID-4CA17A8C-737D-4003-853F-4094D3467577"></a><h3 id="CLRNT-GUID-4CA17A8C-737D-4003-853F-4094D3467577" class="sect3"><span class="enumeration_section">3.4 </span>Step 4: Determine the Appropriate Parameter Type Mappings
               </h3>
               <div>
                  <div class="section">
                     <p>Determine the correct mapping between .NET and Oracle data types for creating a PL/SQL wrapper for the .NET stored procedure or function. The Oracle Deployment Wizard for .NET provides default mappings, but they can be overridden. </p>
                     <p>In case of overloaded .NET stored procedures or functions, you need to provide distinct names for the PL/SQL wrappers. </p>
                     <p>Tables in Appendix A provides conversion information.</p>
                     <div class="infoboxnotealso" id="GUID-4CA17A8C-737D-4003-853F-4094D3467577__GUID-0DD50B06-6406-4FFB-B4E0-9925E9ADB556">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="datatype-conversion.html#GUID-70A2F34D-AB7F-4E0C-89C9-452A45FF1CAC">Data Type Conversion</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CLRNT150"></a><div class="props_rev_3"><a id="GUID-FC283793-04E6-4CE1-AC1F-BEC0E0621DDE" name="GUID-FC283793-04E6-4CE1-AC1F-BEC0E0621DDE"></a><h3 id="CLRNT-GUID-FC283793-04E6-4CE1-AC1F-BEC0E0621DDE" class="sect3"><span class="enumeration_section">3.5 </span>Step 5: Deploy the Procedure or Function
               </h3>
               <div>
                  <div class="section">
                     <p>Deploy the procedure or function in the database. The wizard performs the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Connects as <code class="codeph">SYSDBA</code>.</span></li>
                     <li class="stepexpand"><span>Copies the user assembly to the <span class="italic"><code class="codeph">ORACLE_BASE\\ORACLE_HOME</code></span><code class="codeph">\bin\CLR</code> directory or its subdirectory.</span></li>
                     <li class="stepexpand"><span>Creates an Oracle library object and grants execute privilege on this library object to the database user:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE LIBRARY CLRLIBRARY1_DLL AS '$ORACLE_HOME\
    bin\clr\CLRLibrary1_dll;
GRANT EXECUTE ON CLRLIBRARY1_DLL TO SCOTT;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Creates a PL/SQL wrapper in the user's database schema for each procedure or function, according to the parameter type mappings defined by the user.</span></li>
                  </ol>
               </div>
            </div><a id="CLRNT151"></a><div class="props_rev_3"><a id="GUID-38903E5F-BA9E-4B3A-A389-92393CE45DBE" name="GUID-38903E5F-BA9E-4B3A-A389-92393CE45DBE"></a><h3 id="CLRNT-GUID-38903E5F-BA9E-4B3A-A389-92393CE45DBE" class="sect3"><span class="enumeration_section">3.6 </span>Step 6: Test the Procedure or Function
               </h3>
               <div>
                  <div class="section">
                     <p>Test the .NET stored procedure or function by calling the PL/SQL wrapper.</p>
                     <p>The PL/SQL wrapper can be located and executed easily using Oracle Developer Tools for Visual Studio, or from a tool like SQL*Plus.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CLRNT152"></a><div class="props_rev_3"><a id="GUID-DA5CCECF-B14D-45F5-876C-5398402DBB44" name="GUID-DA5CCECF-B14D-45F5-876C-5398402DBB44"></a><h3 id="CLRNT-GUID-DA5CCECF-B14D-45F5-876C-5398402DBB44" class="sect3"><span class="enumeration_section">3.7 </span>Step 7: Debug the Procedure or Function
               </h3>
               <div>
                  <div class="section">
                     <p>Whenever a .NET stored procedure or function is invoked, the Oracle database listener redirects the request to a multithreaded CLR external procedure agent, <code class="codeph">extproc.exe</code>. Each .NET stored procedure or function is executed in the context of the <code class="codeph">extproc.exe</code> process.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Ensure that the debug versions of the .NET assembly representing the .NET stored procedure or function and its <code class="codeph">pdb</code> file and dependency DLLs, and their respective <code class="codeph">pdb</code> files are copied to the <span class="italic"><code class="codeph">ORACLE_BASE\\ORACLE_HOME</code></span><code class="codeph">\bin\clr</code> directory or one of its subdirectories, based on the path provided while creating the library.</span></li>
                     <li class="stepexpand"><span>Attach the debugger to the <code class="codeph">extproc.exe</code> process. Note that the debugger should be capable of debugging .NET code. If Visual Studio is used for debugging, select the Native and Common Language Runtime options in the Attach to Process dialog box. The Native option can be deselected if any .NET stored procedure has already been run in the context of the same <code class="codeph">extproc.exe</code> process.</span><div></div>
                     </li>
                     <li class="stepexpand"><span>When the debugger is attached, open the .NET stored procedure or function source code and set any breakpoints that are needed, at the required locations.</span></li>
                     <li class="stepexpand"><span>Debug the .NET stored procedure.</span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-DA5CCECF-B14D-45F5-876C-5398402DBB44__GUID-9B725021-C831-4C78-9FBA-EE298286C2BF">
                        <p class="notep1">Note:</p>
                        <p>You can use Oracle Data Provider for .NET tracing mechanism to troubleshoot application issues. Please see Debug Tracing section in<a href="../odpnt/features.html#ODPNT0007" target="_blank"><span class="italic"> Oracle Data Provider for .NET Developer's Guide for Microsoft Windows</span></a>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>