<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Monitoring Rules</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.1.1">
      <link rel="alternate" href="streams-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-01-25T21:40:57-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83781-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      <meta name="dcterms.release" content="Release 18">
      <link rel="prev" href="monitoring-oracle-streams-apply-processes.html" title="Previous" type="text/html">
      <link rel="next" href="monitoring-rule-based-transformations.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Streams Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="STRMS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-oracle-streams-apply-processes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="monitoring-rule-based-transformations.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="monitoring-oracle-streams.html" property="item" typeof="WebPage"><span property="name">    Monitoring Oracle Streams </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Monitoring Rules</li>
            </ol>
            <a id="GUID-8D031A97-43B4-4575-9931-FF4491058194" name="GUID-8D031A97-43B4-4575-9931-FF4491058194"></a><a id="STRMS975"></a>
            
            <h2 id="STRMS-GUID-8D031A97-43B4-4575-9931-FF4491058194" class="sect2"><span class="enumeration_chapter">27 </span> Monitoring Rules
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d125960e125" class="indexterm-anchor"></a><a id="d125960e129" class="indexterm-anchor"></a>The following topics describe monitoring <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s, <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>s, and <a href="strms_glossary.html#GUID-F9C11C62-21FB-44BC-B128-3AE8BAD093EE"><span class="xrefglossterm">evaluation context</span></a>s:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="monitoring-rules.html#GUID-17E3E635-621B-4EE9-AC42-8CEA8F3540DD">Displaying All Rules Used by All Oracle Streams Clients</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-8348078C-1D8A-4BC2-8B25-A9A759FD4634">Displaying the Oracle Streams Rules Used by a Specific Oracle Streams Client</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-BA2BAF0A-CC60-4E72-A571-A7B239F6405A">Displaying the Current Condition for a Rule</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-96522796-6272-473F-8C19-48B73FCA2738">Displaying Modified Rule Conditions for Oracle Streams Rules</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-23A8799F-D7B3-4A1E-9D2D-B68C7D83E05E">Displaying the Evaluation Context for Each Rule Set</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-EF942A14-2009-418A-A93B-22DFFFCA94B5">Displaying Information About the Tables Used by an Evaluation Context</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-6F282C03-EC24-4C57-B812-7E786809F7C2">Displaying Information About the Variables Used in an Evaluation Context</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-1ADA0C19-CA37-4581-9327-7AEAAA377931">Displaying All of the Rules in a Rule Set</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-F8D4505A-DF69-4086-A3B5-3D17783C8440">Displaying the Condition for Each Rule in a Rule Set</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-CCFA4FEC-F34D-4C90-ABCE-A0B11A70BD5C">Listing Each Rule that Contains a Specified Pattern in Its Condition</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-0CF2DB4A-FAE8-44A4-86CD-6BAA151F04A1">Displaying Aggregate Statistics for All Rule Set Evaluations</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-CE3DE171-7861-411B-A1F7-4A28C507C09A">Displaying Information About Evaluations for Each Rule Set</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-1453BCE6-58EA-4804-BAFF-28144A6309B4">Determining the Resources Used by Evaluation of Each Rule Set</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-rules.html#GUID-4ED288EB-94B2-4D80-B0E0-DBC3A8C59CFA">Displaying Evaluation Statistics for a Rule</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-8D031A97-43B4-4575-9931-FF4491058194__GUID-01B5422A-44E5-4D0B-B9AB-99298989DB33">
                  <p class="notep1">Note:</p>
                  <p>The Oracle Streams tool in Oracle Enterprise Manager Cloud Control is also an excellent way to monitor an Oracle Streams environment. See the online Help for the Oracle Streams tool for more information.</p>
               </div>
               <div class="infoboxnotealso" id="GUID-8D031A97-43B4-4575-9931-FF4491058194__GUID-2712593B-F4C3-4814-B803-49DA54223A4B">
                  <p class="notep1">See Also:</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="how-rules-are-used-in-oracle-streams.html#GUID-FBC295B1-E3CD-428C-A3BF-69F74214DA14"> How Rules Are Used in Oracle Streams</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-rule-concepts.html#GUID-5E6F0B16-C959-46EC-984E-1B5FC642A16D"> Advanced Rule Concepts</a></p>
                     </li>
                     <li>
                        <p><a href="managing-rules.html#GUID-AB9D9589-CD21-4EED-959B-72CA569334F3"> Managing Rules</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-rules-and-rule-based-transformations.html#GUID-AEF9C9AE-9735-4688-925B-5C967BAC783F"> Troubleshooting Rules and Rule-Based Transformations</a></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="managing-rules.html#GUID-BFFC3F83-6F27-445E-B5F5-DD17C7ED0FC2">Modifying a Name-Value Pair in a Rule Action Context</a>"</span> for information about viewing a rule <a href="strms_glossary.html#GUID-1F2E6C1D-EA5A-4E0C-BC0F-E4CAEE6F2E5C"><span class="xrefglossterm">action context</span></a></p>
                     </li>
                     <li>
                        <p><a href="../refrn/index.html"><span class="italic">Oracle Database Reference </span></a>for information about the data dictionary views described in this chapter
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="STRMS976"></a><div class="props_rev_3"><a id="GUID-17E3E635-621B-4EE9-AC42-8CEA8F3540DD" name="GUID-17E3E635-621B-4EE9-AC42-8CEA8F3540DD"></a><h3 id="STRMS-GUID-17E3E635-621B-4EE9-AC42-8CEA8F3540DD" class="sect3"><span class="enumeration_section">27.1 </span>Displaying All Rules Used by All Oracle Streams Clients
               </h3>
               <div>
                  <div class="section">
                     <p>Oracle Streams <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s are created using the <code class="codeph">DBMS_STREAMS_ADM</code> package or the Oracle Streams tool in Oracle Enterprise Manager Cloud Control. Oracle Streams rules in the <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>s for an <a href="strms_glossary.html#GUID-1ADE5718-8C94-4762-85E9-6B032F124365"><span class="xrefglossterm">Oracle Streams client</span></a> determine the behavior of the Oracle Streams client. Oracle Streams clients include <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a>es, <a href="strms_glossary.html#GUID-13E35632-96B9-4A58-8990-EF95ECE9746E"><span class="xrefglossterm">propagation</span></a>s, <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es, and <a href="strms_glossary.html#GUID-9EAF35D2-24C0-4E0B-ACC4-9EDC22A169C1"><span class="xrefglossterm">messaging client</span></a>s. The rule sets for an Oracle Streams client can also contain rules created using the <code class="codeph">DBMS_RULE_ADM</code> package, and these rules also determine the behavior of the Oracle Streams client.
                     </p>
                     <p>For example, if a rule in the <a href="strms_glossary.html#GUID-A810B839-61A2-4DEB-85C9-8F2F09455268"><span class="xrefglossterm">positive rule set</span></a> for a capture process evaluates to <code class="codeph">TRUE</code> for DML changes to the <code class="codeph">hr.employees</code> table, then the capture process captures DML changes to this table. However, if a rule in the <a href="strms_glossary.html#GUID-F44D0886-397B-4E00-A666-A19F96F3C242"><span class="xrefglossterm">negative rule set</span></a> for a capture process evaluates to <code class="codeph">TRUE</code> for DML changes to the <code class="codeph">hr.employees</code> table, then the capture process discards DML changes to this table.
                     </p>
                     <p>You query the following data dictionary views to display all rules in the rule sets for Oracle Streams clients, including Oracle Streams rules and rules created using the <code class="codeph">DBMS_RULE_ADM</code> package:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALL_STREAMS_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_STREAMS_RULES</code></p>
                        </li>
                     </ul>
                     <p>In addition, these two views display the current <a href="strms_glossary.html#GUID-103148AB-F5B0-47DC-B803-90919571C800"><span class="xrefglossterm">rule condition</span></a> for each rule and whether the rule condition has been modified.
                     </p>
                     <p>The query in this section displays the following information about all of the rules used by Oracle Streams clients in a database:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The name of each Oracle Streams client that uses the rule</p>
                        </li>
                        <li>
                           <p>The type of each Oracle Streams client that uses the rule, either <code class="codeph">CAPTURE</code> for a capture process, <code class="codeph">SYNCHRONOUS</code> <code class="codeph">CAPTURE</code> for a synchronous capture, <code class="codeph">PROPAGATION</code> for a propagation, <code class="codeph">APPLY</code> for an apply process, or <code class="codeph">DEQUEUE</code> for a messaging client
                           </p>
                        </li>
                        <li>
                           <p>The name of the rule</p>
                        </li>
                        <li>
                           <p>The type of rule set that contains the rule for the Oracle Streams client, either <code class="codeph">POSITIVE</code> or <code class="codeph">NEGATIVE</code></p>
                        </li>
                        <li>
                           <p>For Oracle Streams rules, the Oracle Streams rule level, either <code class="codeph">GLOBAL</code>, <code class="codeph">SCHEMA</code>, or <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p>For Oracle Streams rules, the name of the schema for <a href="strms_glossary.html#GUID-59A77572-3B32-483A-A816-5938ACA78220"><span class="xrefglossterm">schema rule</span></a>s and <a href="strms_glossary.html#GUID-4A72ABEB-7CC1-4A46-A4B9-41F722D872A4"><span class="xrefglossterm">table rule</span></a>s
                           </p>
                        </li>
                        <li>
                           <p>For Oracle Streams rules, the name of the table for table rules</p>
                        </li>
                        <li>
                           <p>For Oracle Streams rules, the rule type, either <code class="codeph">DML</code> or <code class="codeph">DDL</code></p>
                        </li>
                     </ul>
                     <p>Run the following query to display this information:</p><pre class="oac_no_warn" dir="ltr">COLUMN STREAMS_NAME HEADING 'Oracle|Streams|Name' FORMAT A14
COLUMN STREAMS_TYPE HEADING 'Oracle|Streams|Type' FORMAT A11
COLUMN RULE_NAME HEADING 'Rule|Name' FORMAT A12
COLUMN RULE_SET_TYPE HEADING 'Rule Set|Type' FORMAT A8
COLUMN STREAMS_RULE_TYPE HEADING 'Oracle|Streams|Rule|Level' FORMAT A7
COLUMN SCHEMA_NAME HEADING 'Schema|Name' FORMAT A6
COLUMN OBJECT_NAME HEADING 'Object|Name' FORMAT A11
COLUMN RULE_TYPE HEADING 'Rule|Type' FORMAT A4

SELECT STREAMS_NAME, 
       STREAMS_TYPE,
       RULE_NAME,
       RULE_SET_TYPE,
       STREAMS_RULE_TYPE,
       SCHEMA_NAME,
       OBJECT_NAME,
       RULE_TYPE
  FROM DBA_STREAMS_RULES;
</pre><p>Your output looks similar to the following:        </p><pre class="oac_no_warn" dir="ltr">                                                 Oracle
Oracle         Oracle                            Streams
Streams        Streams     Rule         Rule Set Rule    Schema Object      Rule
Name           Type        Name         Type     Level   Name   Name        Type
-------------- ----------- ------------ -------- ------- ------ ----------- ----
STRM01_CAPTURE CAPTURE     JOBS4        POSITIVE TABLE   HR     JOBS        DML
STRM01_CAPTURE CAPTURE     JOBS5        POSITIVE TABLE   HR     JOBS        DDL
DBS1_TO_DBS2   PROPAGATION HR18         POSITIVE SCHEMA  HR                 DDL
DBS1_TO_DBS2   PROPAGATION HR17         POSITIVE SCHEMA  HR                 DML
APPLY          APPLY       HR20         POSITIVE SCHEMA  HR                 DML
APPLY          APPLY       JOB_HISTORY2 NEGATIVE TABLE   HR     JOB_HISTORY DML
OE             DEQUEUE     RULE$_28     POSITIVE
</pre><p>This output provides the following information about the rules used by Oracle Streams clients in the database:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The DML rule <code class="codeph">jobs4</code> and the DDL rule <code class="codeph">jobs5</code> are both table rules for the <code class="codeph">hr.jobs</code> table in the positive rule set for the capture process <code class="codeph">strm01_capture</code>.
                           </p>
                        </li>
                        <li>
                           <p>The DML rule <code class="codeph">hr17</code> and the DDL rule <code class="codeph">hr18</code> are both <a href="strms_glossary.html#GUID-59A77572-3B32-483A-A816-5938ACA78220"><span class="xrefglossterm">schema rule</span></a>s for the <code class="codeph">hr</code> schema in the positive rule set for the propagation <code class="codeph">dbs1_to_dbs2</code>.
                           </p>
                        </li>
                        <li>
                           <p>The DML rule <code class="codeph">hr20</code> is a schema rule for the <code class="codeph">hr</code> schema in the positive rule set for the apply process <code class="codeph">apply</code>.
                           </p>
                        </li>
                        <li>
                           <p>The DML rule <code class="codeph">job_history2</code> is a table rule for the <code class="codeph">hr</code> schema in the negative rule set for the apply process <code class="codeph">apply</code>.
                           </p>
                        </li>
                        <li>
                           <p>The rule <code class="codeph">rule$_28</code> is a messaging rule in the positive rule set for the messaging client <code class="codeph">oe</code>.
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">ALL_STREAMS_RULES</code> and <code class="codeph">DBA_STREAMS_RULES</code> views also contain information about the rule sets used by an Oracle Streams client, the current and original rule condition for Oracle Streams rules, whether the rule condition has been changed, the subsetting operation and DML condition for each Oracle Streams <a href="strms_glossary.html#GUID-98C794CB-0AAB-4020-AC81-3A96FC02235A"><span class="xrefglossterm">subset rule</span></a>, the <a href="strms_glossary.html#GUID-B5BB35D0-9179-4301-BA50-5B9CE22E362D"><span class="xrefglossterm">source database</span></a> specified for each Oracle Streams rule, and information about the <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a> type and message variable for Oracle Streams messaging rules.
                     </p>
                     <p>The following data dictionary views also display Oracle Streams rules:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALL_STREAMS_GLOBAL_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_STREAMS_GLOBAL_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_STREAMS_MESSAGE_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_STREAMS_MESSAGE_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_STREAMS_SCHEMA_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_STREAMS_SCHEMA_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_STREAMS_TABLE_RULES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_STREAMS_TABLE_RULES</code></p>
                        </li>
                     </ul>
                     <p>These views display Oracle Streams rules only. They do not display any manual modifications to these rules made by the <code class="codeph">DBMS_RULE_ADM</code> package, and they do not display rules created using the <code class="codeph">DBMS_RULE_ADM</code> package. These views can display the original rule condition for each rule only. They do not display the current rule condition for a rule if the rule condition was modified after the rule was created.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS977"></a><div class="props_rev_3"><a id="GUID-8348078C-1D8A-4BC2-8B25-A9A759FD4634" name="GUID-8348078C-1D8A-4BC2-8B25-A9A759FD4634"></a><h3 id="STRMS-GUID-8348078C-1D8A-4BC2-8B25-A9A759FD4634" class="sect3"><span class="enumeration_section">27.2 </span>Displaying the Oracle Streams Rules Used by a Specific Oracle Streams Client
               </h3>
               <div>
                  <p>To determine which <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s are in a <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a> used by a particular <a href="strms_glossary.html#GUID-1ADE5718-8C94-4762-85E9-6B032F124365"><span class="xrefglossterm">Oracle Streams client</span></a>, you can query the <code class="codeph">DBA_STREAMS_RULES</code> data dictionary view. For example, suppose a database is running an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> named <code class="codeph">strm01_apply</code>. The following sections describe how to determine the rules in the <a href="strms_glossary.html#GUID-A810B839-61A2-4DEB-85C9-8F2F09455268"><span class="xrefglossterm">positive rule set</span></a> and <a href="strms_glossary.html#GUID-F44D0886-397B-4E00-A666-A19F96F3C242"><span class="xrefglossterm">negative rule set</span></a> for this apply process.
                  </p>
                  <p>The following sections describe how to determine which rules are in a rule set used by a particular Oracle Streams client:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-rules.html#GUID-0B13C614-89F3-43C7-8B96-CDAEA1ED6063">Displaying the Rules in the Positive Rule Set for an Oracle Streams Client</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-rules.html#GUID-10656B8B-256B-4335-A488-265D5404EE48">Displaying the Rules in the Negative Rule Set for an Oracle Streams Client</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-8348078C-1D8A-4BC2-8B25-A9A759FD4634__GUID-8831A6AC-C155-4795-95B3-F8608B509154">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="how-rules-are-used-in-oracle-streams.html#GUID-979FB5C9-7EE7-4E0B-9D28-15696A78DC89">System-Created Rules</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="STRMS978"></a><div class="props_rev_3"><a id="GUID-0B13C614-89F3-43C7-8B96-CDAEA1ED6063" name="GUID-0B13C614-89F3-43C7-8B96-CDAEA1ED6063"></a><h4 id="STRMS-GUID-0B13C614-89F3-43C7-8B96-CDAEA1ED6063" class="sect4"><span class="enumeration_section">27.2.1 </span>Displaying the Rules in the Positive Rule Set for an Oracle Streams Client
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following query displays all of the <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s in the <a href="strms_glossary.html#GUID-A810B839-61A2-4DEB-85C9-8F2F09455268"><span class="xrefglossterm">positive rule set</span></a> for an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>s named <code class="codeph">strm01_apply</code>:
                        </p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_OWNER HEADING 'Rule Owner' FORMAT A10
COLUMN RULE_NAME HEADING 'Rule|Name' FORMAT A12
COLUMN STREAMS_RULE_TYPE HEADING 'Oracle Streams|Rule|Level' FORMAT A7
COLUMN SCHEMA_NAME HEADING 'Schema|Name' FORMAT A6
COLUMN OBJECT_NAME HEADING 'Object|Name' FORMAT A11
COLUMN RULE_TYPE HEADING 'Rule|Type' FORMAT A4
COLUMN SOURCE_DATABASE HEADING 'Source' FORMAT A10
COLUMN INCLUDE_TAGGED_LCR HEADING 'Apply|Tagged|LCRs?' FORMAT A9

SELECT RULE_OWNER,
       RULE_NAME,
       STREAMS_RULE_TYPE,
       SCHEMA_NAME,
       OBJECT_NAME,
       RULE_TYPE,
       SOURCE_DATABASE,
       INCLUDE_TAGGED_LCR
  FROM DBA_STREAMS_RULES
  WHERE STREAMS_NAME  = 'STRM01_APPLY' AND
        RULE_SET_TYPE = 'POSITIVE';
</pre><p>If this query returns any rows, then the apply process applies LCRs containing changes that evaluate to <code class="codeph">TRUE</code> for the rules. 
                        </p>
                        <p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">                           Oracle Streams                                    Apply
           Rule            Rule    Schema Object      Rule            Tagged
Rule Owner Name            Level   Name   Name        Type Source     LCRs?
---------- --------------- ------- ------ ----------- ---- ---------- ---------
STRMADMIN  HR20            SCHEMA  HR                 DML   DBS1.EXAM NO
                                                            PLE.COM
STRMADMIN  HR21            SCHEMA  HR                 DDL   DBS1.EXAM NO
                                                            PLE.COM
</pre><p>Assuming the <a href="strms_glossary.html#GUID-103148AB-F5B0-47DC-B803-90919571C800"><span class="xrefglossterm">rule condition</span></a>s for the Oracle Streams rules returned by this query have not been modified, these results show that the apply process applies LCRs containing DML changes and DDL changes to the <code class="codeph">hr</code> schema and that the LCRs originated at the <code class="codeph">dbs1.example.com</code> database. The rules in the positive rule set that instruct the apply process to apply these LCRs are owned by the <code class="codeph">strmadmin</code> user and are named <code class="codeph">hr20</code> and <code class="codeph">hr21</code>. Also, the apply process applies an LCR that satisfies one of these rules only if the <a href="strms_glossary.html#GUID-D667D798-F9C9-437F-92AB-8C04FAD19B64"><span class="xrefglossterm">tag</span></a> in the LCR is&nbsp;<code class="codeph">NULL</code>.
                        </p>
                        <p>If the rule condition for an Oracle Streams rule has been modified, then you must check the current rule condition to determine the effect of the rule on an <a href="strms_glossary.html#GUID-1ADE5718-8C94-4762-85E9-6B032F124365"><span class="xrefglossterm">Oracle Streams client</span></a>. Oracle Streams rules whose rule condition has been modified have <code class="codeph">NO</code> for the <code class="codeph">SAME_RULE_CONDITION</code> column.
                        </p>
                        <div class="infoboxnotealso" id="GUID-0B13C614-89F3-43C7-8B96-CDAEA1ED6063__GUID-1F972928-0514-478B-BF9B-3156AA085287">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-rules.html#GUID-96522796-6272-473F-8C19-48B73FCA2738">Displaying Modified Rule Conditions for Oracle Streams Rules</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STRMS980"></a><div class="props_rev_3"><a id="GUID-10656B8B-256B-4335-A488-265D5404EE48" name="GUID-10656B8B-256B-4335-A488-265D5404EE48"></a><h4 id="STRMS-GUID-10656B8B-256B-4335-A488-265D5404EE48" class="sect4"><span class="enumeration_section">27.2.2 </span>Displaying the Rules in the Negative Rule Set for an Oracle Streams Client
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following query displays all of the <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s in the <a href="strms_glossary.html#GUID-F44D0886-397B-4E00-A666-A19F96F3C242"><span class="xrefglossterm">negative rule set</span></a> for an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> named <code class="codeph">strm01_apply</code>:
                        </p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_OWNER HEADING 'Rule Owner' FORMAT A10
COLUMN RULE_NAME HEADING 'Rule|Name' FORMAT A15
COLUMN STREAMS_RULE_TYPE HEADING 'Oracle Streams|Rule|Level' FORMAT A7
COLUMN SCHEMA_NAME HEADING 'Schema|Name' FORMAT A6
COLUMN OBJECT_NAME HEADING 'Object|Name' FORMAT A11
COLUMN RULE_TYPE HEADING 'Rule|Type' FORMAT A4
COLUMN SOURCE_DATABASE HEADING 'Source' FORMAT A10
COLUMN INCLUDE_TAGGED_LCR HEADING 'Apply|Tagged|LCRs?' FORMAT A9

SELECT RULE_OWNER,
       RULE_NAME,
       STREAMS_RULE_TYPE,
       SCHEMA_NAME,
       OBJECT_NAME,
       RULE_TYPE,
       SOURCE_DATABASE,
       INCLUDE_TAGGED_LCR
  FROM DBA_STREAMS_RULES
  WHERE STREAMS_NAME  = 'APPLY' AND
        RULE_SET_TYPE = 'NEGATIVE';
</pre><p>If this query returns any rows, then the apply process discards LCRs containing changes that evaluate to <code class="codeph">TRUE</code> for the rules. 
                        </p>
                        <p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">                           Oracle Streams                                    Apply
           Rule            Rule    Schema Object      Rule            Tagged
Rule Owner Name            Level   Name   Name        Type Source     LCRs?
---------- --------------- ------- ------ ----------- ---- ---------- ---------
STRMADMIN  JOB_HISTORY22   TABLE   HR     JOB_HISTORY DML  DBS1.EXAMP YES
                                                           LE.COM
STRMADMIN  JOB_HISTORY23   TABLE   HR     JOB_HISTORY DDL  DBS1.EXAMP YES
                                                           LE.COM
</pre><p>Assuming the <a href="strms_glossary.html#GUID-103148AB-F5B0-47DC-B803-90919571C800"><span class="xrefglossterm">rule condition</span></a>s for the Oracle Streams rules returned by this query have not been modified, these results show that the apply process discards LCRs containing DML changes and DDL changes to the <code class="codeph">hr.job_history</code> table and that the LCRs originated at the <code class="codeph">dbs1.example.com</code> database. The rules in the negative rule set that instruct the apply process to discard these LCRs are owned by the <code class="codeph">strmadmin</code> user and are named <code class="codeph">job_history22</code> and <code class="codeph">job_history23</code>. Also, the apply process discards an LCR that satisfies one of these rules regardless of the value of the <a href="strms_glossary.html#GUID-D667D798-F9C9-437F-92AB-8C04FAD19B64"><span class="xrefglossterm">tag</span></a> in the LCR.
                        </p>
                        <p>If the rule condition for an Oracle Streams rule has been modified, then you must check the current rule condition to determine the effect of the rule on an <a href="strms_glossary.html#GUID-1ADE5718-8C94-4762-85E9-6B032F124365"><span class="xrefglossterm">Oracle Streams client</span></a>. Oracle Streams rules whose rule condition has been modified have <code class="codeph">NO</code> for the <code class="codeph">SAME_RULE_CONDITION</code> column.
                        </p>
                        <div class="infoboxnotealso" id="GUID-10656B8B-256B-4335-A488-265D5404EE48__GUID-A0B3C8ED-FEEF-4C46-8C49-AE809A98A16D">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-rules.html#GUID-96522796-6272-473F-8C19-48B73FCA2738">Displaying Modified Rule Conditions for Oracle Streams Rules</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="STRMS982"></a><div class="props_rev_3"><a id="GUID-BA2BAF0A-CC60-4E72-A571-A7B239F6405A" name="GUID-BA2BAF0A-CC60-4E72-A571-A7B239F6405A"></a><h3 id="STRMS-GUID-BA2BAF0A-CC60-4E72-A571-A7B239F6405A" class="sect3"><span class="enumeration_section">27.3 </span>Displaying the Current Condition for a Rule
               </h3>
               <div>
                  <div class="section">
                     <p>If you know the name of a <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>, then you can display its <a href="strms_glossary.html#GUID-103148AB-F5B0-47DC-B803-90919571C800"><span class="xrefglossterm">rule condition</span></a>. For example, consider the rule returned by the query in <span class="q">"<a href="monitoring-rules.html#GUID-8348078C-1D8A-4BC2-8B25-A9A759FD4634">Displaying the Oracle Streams Rules Used by a Specific Oracle Streams Client</a>"</span>. The name of the rule is <code class="codeph">hr1</code>, and you can display its condition by running the following query:
                     </p><pre class="oac_no_warn" dir="ltr">SET LONG  8000
SET PAGES 8000
SELECT RULE_CONDITION "Current Rule Condition"
  FROM DBA_STREAMS_RULES 
  WHERE RULE_NAME  = 'HR1' AND
        RULE_OWNER = 'STRMADMIN';
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Current Rule Condition
--------------------------------------------------------------------------------
((((:dml.get_object_owner() = 'HR') and :dml.get_source_database_name() = 'DA.EX
AMPLE.COM' )) and (:dml.get_compatible() &lt;= dbms_streams.compatible_11_2))
</pre><div class="infoboxnotealso" id="GUID-BA2BAF0A-CC60-4E72-A571-A7B239F6405A__GUID-F67BFCCE-0B6B-4D05-9077-4521BCDF71EF">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="advanced-rule-concepts.html#GUID-7208236D-1EB4-40EB-90FE-1E0890725B5F">Rule Condition</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="how-rules-are-used-in-oracle-streams.html#GUID-979FB5C9-7EE7-4E0B-9D28-15696A78DC89">System-Created Rules</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS984"></a><div class="props_rev_3"><a id="GUID-96522796-6272-473F-8C19-48B73FCA2738" name="GUID-96522796-6272-473F-8C19-48B73FCA2738"></a><h3 id="STRMS-GUID-96522796-6272-473F-8C19-48B73FCA2738" class="sect3"><span class="enumeration_section">27.4 </span>Displaying Modified Rule Conditions for Oracle Streams Rules
               </h3>
               <div>
                  <div class="section">
                     <p>It is possible to modify the <a href="strms_glossary.html#GUID-103148AB-F5B0-47DC-B803-90919571C800"><span class="xrefglossterm">rule condition</span></a> of an Oracle Streams <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>. These modifications can change the behavior of the <a href="strms_glossary.html#GUID-1ADE5718-8C94-4762-85E9-6B032F124365"><span class="xrefglossterm">Oracle Streams client</span></a>s using the Oracle Streams rule. In addition, some modifications can degrade rule evaluation performance.
                     </p>
                     <p>The following query displays the rule name, the original rule condition, and the current rule condition for each Oracle Streams rule whose condition has been modified:</p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_NAME HEADING 'Rule Name' FORMAT A12
COLUMN ORIGINAL_RULE_CONDITION HEADING 'Original Rule Condition' FORMAT A33
COLUMN RULE_CONDITION HEADING 'Current Rule Condition' FORMAT A33

SET LONG  8000
SET PAGES 8000
SELECT RULE_NAME, ORIGINAL_RULE_CONDITION, RULE_CONDITION
  FROM DBA_STREAMS_RULES 
  WHERE SAME_RULE_CONDITION = 'NO';
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Rule Name    Original Rule Condition           Current Rule Condition
------------ --------------------------------- ---------------------------------
HR20         ((:dml.get_object_owner() = 'HR') ((:dml.get_object_owner() = 'HR')
              and :dml.is_null_tag() = 'Y' )    and :dml.is_null_tag() = 'Y' and
                                                :dml.get_object_name() != 'JOB_H
                                               ISTORY')
</pre><p>In this example, the output shows that the condition of the <code class="codeph">hr20</code> rule has been modified. Originally, this <a href="strms_glossary.html#GUID-59A77572-3B32-483A-A816-5938ACA78220"><span class="xrefglossterm">schema rule</span></a> evaluated to <code class="codeph">TRUE</code> for all changes to the <code class="codeph">hr</code> schema. The current modified condition for this rule evaluates to <code class="codeph">TRUE</code> for all changes to the <code class="codeph">hr</code> schema, except for DML changes to the <code class="codeph">hr.job_history</code> table.
                     </p>
                     <div class="infoboxnote" id="GUID-96522796-6272-473F-8C19-48B73FCA2738__GUID-D509DF21-CDCD-4509-9F7C-1ECE7D3B5A95">
                        <p class="notep1">Note:</p>
                        <p>The query in this section applies only to Oracle Streams rules. It does not apply to rules created using the <code class="codeph">DBMS_RULE_ADM</code> package because these rules always show <code class="codeph">NULL</code> for the <code class="codeph">ORIGINAL_RULE_CONDITION</code> column and <code class="codeph">NULL</code> for the <code class="codeph">SAME_RULE_CONDITION</code> column.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-96522796-6272-473F-8C19-48B73FCA2738__GUID-6F94F8D6-330E-41FC-9BD6-0C41F8535395">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="advanced-rule-concepts.html#GUID-7208236D-1EB4-40EB-90FE-1E0890725B5F">Rule Condition</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="how-rules-are-used-in-oracle-streams.html#GUID-979FB5C9-7EE7-4E0B-9D28-15696A78DC89">System-Created Rules</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS985"></a><div class="props_rev_3"><a id="GUID-23A8799F-D7B3-4A1E-9D2D-B68C7D83E05E" name="GUID-23A8799F-D7B3-4A1E-9D2D-B68C7D83E05E"></a><h3 id="STRMS-GUID-23A8799F-D7B3-4A1E-9D2D-B68C7D83E05E" class="sect3"><span class="enumeration_section">27.5 </span>Displaying the Evaluation Context for Each Rule Set
               </h3>
               <div>
                  <div class="section">
                     <p>The following query displays the default <a href="strms_glossary.html#GUID-F9C11C62-21FB-44BC-B128-3AE8BAD093EE"><span class="xrefglossterm">evaluation context</span></a> for each <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a> in a database:
                     </p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_SET_OWNER HEADING 'Rule Set|Owner' FORMAT A10
COLUMN RULE_SET_NAME HEADING 'Rule Set Name' FORMAT A20
COLUMN RULE_SET_EVAL_CONTEXT_OWNER HEADING 'Eval Context|Owner' FORMAT A12
COLUMN RULE_SET_EVAL_CONTEXT_NAME HEADING 'Eval Context Name' FORMAT A30

SELECT RULE_SET_OWNER, 
       RULE_SET_NAME, 
       RULE_SET_EVAL_CONTEXT_OWNER,
       RULE_SET_EVAL_CONTEXT_NAME
  FROM DBA_RULE_SETS;
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Rule Set                        Eval Context
Owner      Rule Set Name        Owner        Eval Context Name
---------- -------------------- ------------ ------------------------------
STRMADMIN  RULESET$_2           SYS          STREAMS$_EVALUATION_CONTEXT
STRMADMIN  STRM02_QUEUE_R       STRMADMIN    AQ$_STRM02_QUEUE_TABLE_V
STRMADMIN  APPLY_OE_RS          STRMADMIN    OE_EVAL_CONTEXT
STRMADMIN  OE_QUEUE_R           STRMADMIN    AQ$_OE_QUEUE_TABLE_V
STRMADMIN  AQ$_1_RE             STRMADMIN    AQ$_OE_QUEUE_TABLE_V
SUPPORT    RS                   SUPPORT      EVALCTX
OE         NOTIFICATION_QUEUE_R OE           AQ$_NOTIFICATION_QUEUE_TABLE_V
</pre><div class="infoboxnotealso" id="GUID-23A8799F-D7B3-4A1E-9D2D-B68C7D83E05E__GUID-C073872C-5344-469E-B9E9-7521AAD390BB">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="advanced-rule-concepts.html#GUID-A43CB691-03B7-4E42-8E67-3D3C49DAB5F0">Rule Evaluation Context</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="advanced-rule-concepts.html#GUID-6BEFE444-DC00-4B40-A280-40F1D4E3A66E">Evaluation Contexts Used in Oracle Streams</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS986"></a><div class="props_rev_3"><a id="GUID-EF942A14-2009-418A-A93B-22DFFFCA94B5" name="GUID-EF942A14-2009-418A-A93B-22DFFFCA94B5"></a><h3 id="STRMS-GUID-EF942A14-2009-418A-A93B-22DFFFCA94B5" class="sect3"><span class="enumeration_section">27.6 </span>Displaying Information About the Tables Used by an Evaluation Context
               </h3>
               <div>
                  <div class="section">
                     <p>The following query displays information about the tables used by an <a href="strms_glossary.html#GUID-F9C11C62-21FB-44BC-B128-3AE8BAD093EE"><span class="xrefglossterm">evaluation context</span></a> named <code class="codeph">evalctx</code>, which is owned by the <code class="codeph">support</code> user:
                     </p><pre class="oac_no_warn" dir="ltr">COLUMN TABLE_ALIAS HEADING 'Table Alias' FORMAT A20
COLUMN TABLE_NAME HEADING 'Table Name' FORMAT A40

SELECT TABLE_ALIAS,
       TABLE_NAME
  FROM DBA_EVALUATION_CONTEXT_TABLES
  WHERE EVALUATION_CONTEXT_OWNER = 'SUPPORT' AND
        EVALUATION_CONTEXT_NAME = 'EVALCTX';
</pre><p>Your output looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">Table Alias          Table Name
-------------------- ----------------------------------------
PROB                 problems
</pre><div class="infoboxnotealso" id="GUID-EF942A14-2009-418A-A93B-22DFFFCA94B5__GUID-199099D7-A5B2-419E-8AFC-E8ABCFFB323D">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="advanced-rule-concepts.html#GUID-A43CB691-03B7-4E42-8E67-3D3C49DAB5F0">Rule Evaluation Context</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS987"></a><div class="props_rev_3"><a id="GUID-6F282C03-EC24-4C57-B812-7E786809F7C2" name="GUID-6F282C03-EC24-4C57-B812-7E786809F7C2"></a><h3 id="STRMS-GUID-6F282C03-EC24-4C57-B812-7E786809F7C2" class="sect3"><span class="enumeration_section">27.7 </span>Displaying Information About the Variables Used in an Evaluation Context
               </h3>
               <div>
                  <div class="section">
                     <p>The following query displays information about the variables used by an <a href="strms_glossary.html#GUID-F9C11C62-21FB-44BC-B128-3AE8BAD093EE"><span class="xrefglossterm">evaluation context</span></a> named <code class="codeph">evalctx</code>, which is owned by the <code class="codeph">support</code> user:
                     </p><pre class="oac_no_warn" dir="ltr">COLUMN VARIABLE_NAME HEADING 'Variable Name' FORMAT A15
COLUMN VARIABLE_TYPE HEADING 'Variable Type' FORMAT A15
COLUMN VARIABLE_VALUE_FUNCTION HEADING 'Variable Value|Function' FORMAT A20
COLUMN VARIABLE_METHOD_FUNCTION HEADING 'Variable Method|Function' FORMAT A20

SELECT VARIABLE_NAME,
       VARIABLE_TYPE,
       VARIABLE_VALUE_FUNCTION,
       VARIABLE_METHOD_FUNCTION
  FROM DBA_EVALUATION_CONTEXT_VARS
  WHERE EVALUATION_CONTEXT_OWNER = 'SUPPORT' AND
        EVALUATION_CONTEXT_NAME = 'EVALCTX';
</pre><p>Your output looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">                                Variable Value       Variable Method
Variable Name   Variable Type   Function             Function
--------------- --------------- -------------------- --------------------
CURRENT_TIME    DATE            timefunc
</pre><div class="infoboxnotealso" id="GUID-6F282C03-EC24-4C57-B812-7E786809F7C2__GUID-5817E1C2-E498-4536-8028-092B7DA10E87">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="advanced-rule-concepts.html#GUID-A43CB691-03B7-4E42-8E67-3D3C49DAB5F0">Rule Evaluation Context</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS988"></a><div class="props_rev_3"><a id="GUID-1ADA0C19-CA37-4581-9327-7AEAAA377931" name="GUID-1ADA0C19-CA37-4581-9327-7AEAAA377931"></a><h3 id="STRMS-GUID-1ADA0C19-CA37-4581-9327-7AEAAA377931" class="sect3"><span class="enumeration_section">27.8 </span>Displaying All of the Rules in a Rule Set
               </h3>
               <div>
                  <div class="section">
                     <p>The query in this section displays the following information about all of the <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s in a <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The owner of the rule.</p>
                        </li>
                        <li>
                           <p>The name of the rule.</p>
                        </li>
                        <li>
                           <p>The <a href="strms_glossary.html#GUID-F9C11C62-21FB-44BC-B128-3AE8BAD093EE"><span class="xrefglossterm">evaluation context</span></a> for the rule, if any. If a rule does not have an evaluation context, and no evaluation context is specified in the <code class="codeph">ADD_RULE</code> procedure when the rule is added to a rule set, then it inherits the evaluation context of the rule set.
                           </p>
                        </li>
                        <li>
                           <p>The evaluation context owner, if the rule has an evaluation context.</p>
                        </li>
                     </ul>
                     <p>For example, to display this information for each rule in a rule set named <code class="codeph">oe_queue_r</code> that is owned by the user <code class="codeph">strmadmin</code>, run the following query:
                     </p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_OWNER HEADING 'Rule Owner' FORMAT A10
COLUMN RULE_NAME HEADING 'Rule Name' FORMAT A20
COLUMN RULE_EVALUATION_CONTEXT_NAME HEADING 'Eval Context Name' FORMAT A27
COLUMN RULE_EVALUATION_CONTEXT_OWNER HEADING 'Eval Context|Owner' FORMAT A11

SELECT R.RULE_OWNER, 
       R.RULE_NAME, 
       R.RULE_EVALUATION_CONTEXT_NAME,
       R.RULE_EVALUATION_CONTEXT_OWNER
  FROM DBA_RULES R, DBA_RULE_SET_RULES RS 
  WHERE RS.RULE_SET_OWNER = 'STRMADMIN' AND 
  	RS.RULE_SET_NAME = 'OE_QUEUE_R' AND 
  RS.RULE_NAME = R.RULE_NAME AND 
  RS.RULE_OWNER = R.RULE_OWNER;
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">                                                            Eval Contex
Rule Owner Rule Name            Eval Context Name           Owner
---------- -------------------- --------------------------- -----------
STRMADMIN  HR1                  STREAMS$_EVALUATION_CONTEXT SYS
STRMADMIN  APPLY_LCRS           STREAMS$_EVALUATION_CONTEXT SYS
STRMADMIN  OE_QUEUE$3
STRMADMIN  APPLY_ACTION</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS989"></a><div class="props_rev_3"><a id="GUID-F8D4505A-DF69-4086-A3B5-3D17783C8440" name="GUID-F8D4505A-DF69-4086-A3B5-3D17783C8440"></a><h3 id="STRMS-GUID-F8D4505A-DF69-4086-A3B5-3D17783C8440" class="sect3"><span class="enumeration_section">27.9 </span>Displaying the Condition for Each Rule in a Rule Set
               </h3>
               <div>
                  <div class="section">
                     <p>The following query displays the condition for each <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a> in a <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a> named <code class="codeph">hr_queue_r</code> that is owned by the user <code class="codeph">strmadmin</code>:
                     </p><pre class="oac_no_warn" dir="ltr">SET LONGCHUNKSIZE 4000
SET LONG 4000
COLUMN RULE_OWNER HEADING 'Rule Owner' FORMAT A15
COLUMN RULE_NAME HEADING 'Rule Name' FORMAT A15
COLUMN RULE_CONDITION HEADING 'Rule Condition' FORMAT A45

SELECT R.RULE_OWNER, 
       R.RULE_NAME, 
       R.RULE_CONDITION
  FROM DBA_RULES R, DBA_RULE_SET_RULES RS 
  WHERE RS.RULE_SET_OWNER = 'STRMADMIN' AND 
  	RS.RULE_SET_NAME = 'HR_QUEUE_R' AND 
  RS.RULE_NAME = R.RULE_NAME AND 
  RS.RULE_OWNER = R.RULE_OWNER;
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Rule Owner      Rule Name       Rule Condition
--------------- --------------- ---------------------------------------------
STRMADMIN       APPLY_ACTION     hr.get_hr_action(tab.user_data) = 'APPLY'
STRMADMIN       APPLY_LCRS      :dml.get_object_owner() = 'HR' AND  (:dml.get
                                _object_name() = 'DEPARTMENTS' OR 
                                :dml.get_object_name() = 'EMPLOYEES')

STRMADMIN       HR_QUEUE$3      hr.get_hr_action(tab.user_data) != 'APPLY'
</pre><div class="infoboxnotealso" id="GUID-F8D4505A-DF69-4086-A3B5-3D17783C8440__GUID-FB90B629-27CC-495B-8AA7-A6F2F90EA8F8">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="advanced-rule-concepts.html#GUID-7208236D-1EB4-40EB-90FE-1E0890725B5F">Rule Condition</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="how-rules-are-used-in-oracle-streams.html#GUID-979FB5C9-7EE7-4E0B-9D28-15696A78DC89">System-Created Rules</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS990"></a><div class="props_rev_3"><a id="GUID-CCFA4FEC-F34D-4C90-ABCE-A0B11A70BD5C" name="GUID-CCFA4FEC-F34D-4C90-ABCE-A0B11A70BD5C"></a><h3 id="STRMS-GUID-CCFA4FEC-F34D-4C90-ABCE-A0B11A70BD5C" class="sect3"><span class="enumeration_section">27.10 </span>Listing Each Rule that Contains a Specified Pattern in Its Condition
               </h3>
               <div>
                  <div class="section">
                     <p>To list each <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a> in a database that contains a specified pattern in its condition, you can query the <code class="codeph">DBMS_RULES</code> data dictionary view and use the <code class="codeph">DBMS_LOB.INSTR</code> function to search for the pattern in the <a href="strms_glossary.html#GUID-103148AB-F5B0-47DC-B803-90919571C800"><span class="xrefglossterm">rule condition</span></a>s. For example, the following query lists each rule that contains the pattern <code class="codeph">'HR'</code> in its condition:
                     </p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_OWNER HEADING 'Rule Owner' FORMAT A30
COLUMN RULE_NAME HEADING 'Rule Name' FORMAT A30

SELECT RULE_OWNER, RULE_NAME FROM DBA_RULES 
  WHERE DBMS_LOB.INSTR(RULE_CONDITION, 'HR', 1, 1) &gt; 0;
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Rule Owner                     Rule Name
------------------------------ ------------------------------
STRMADMIN                      DEPARTMENTS4
STRMADMIN                      DEPARTMENTS5
STRMADMIN                      DEPARTMENTS6</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS991"></a><div class="props_rev_3"><a id="GUID-0CF2DB4A-FAE8-44A4-86CD-6BAA151F04A1" name="GUID-0CF2DB4A-FAE8-44A4-86CD-6BAA151F04A1"></a><h3 id="STRMS-GUID-0CF2DB4A-FAE8-44A4-86CD-6BAA151F04A1" class="sect3"><span class="enumeration_section">27.11 </span>Displaying Aggregate Statistics for All Rule Set Evaluations
               </h3>
               <div>
                  <div class="section">
                     <p>You can query the <code class="codeph">V$RULE_SET_AGGREGATE_STATS</code> dynamic performance view to display statistics for all <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a> evaluations since the database instance last started.
                     </p>
                     <p>The query in this section contains the following information about rule set evaluations:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The number of rule set evaluations.</p>
                        </li>
                        <li>
                           <p>The number of rule set evaluations that were instructed to stop on the first hit.</p>
                        </li>
                        <li>
                           <p>The number of rule set evaluations that were instructed to evaluate only simple <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s.
                           </p>
                        </li>
                        <li>
                           <p>The number of times a rule set was evaluated without issuing any SQL. Generally, issuing SQL to evaluate rules is more expensive than evaluating rules without issuing SQL.</p>
                        </li>
                        <li>
                           <p>The number of centiseconds of CPU time used for rule set evaluation.</p>
                        </li>
                        <li>
                           <p>The number of centiseconds spent on rule set evaluation.</p>
                        </li>
                        <li>
                           <p>The number of SQL executions issued to evaluate a rule in a rule set.</p>
                        </li>
                        <li>
                           <p>The number of <a href="strms_glossary.html#GUID-103148AB-F5B0-47DC-B803-90919571C800"><span class="xrefglossterm">rule condition</span></a>s processed during rule set evaluation.
                           </p>
                        </li>
                        <li>
                           <p>The number of <code class="codeph">TRUE</code> rules returned to the <a href="strms_glossary.html#GUID-EF705142-9260-491F-92B2-553E88D604BD"><span class="xrefglossterm">rules engine</span></a> clients.
                           </p>
                        </li>
                        <li>
                           <p>The number of <code class="codeph">MAYBE</code> rules returned to the rules engine clients.
                           </p>
                        </li>
                        <li>
                           <p>The number of times the following types of functions were called during rule set evaluation: variable value function, variable method function, and evaluation function.</p>
                        </li>
                     </ul>
                     <p>Run the following query to display this information:</p><pre class="oac_no_warn" dir="ltr">COLUMN NAME HEADING 'Name of Statistic' FORMAT A55
COLUMN VALUE HEADING 'Value' FORMAT 999999999

SELECT NAME, VALUE FROM V$RULE_SET_AGGREGATE_STATS;
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Name of Statistic                                            Value
------------------------------------------------------- ----------
rule set evaluations (all)                                    5584
rule set evaluations (first_hit)                              5584
rule set evaluations (simple_rules_only)                      3675
rule set evaluations (SQL free)                               5584
rule set evaluation time (CPU)                                 179
rule set evaluation time (elapsed)                            1053
rule set SQL executions                                          0
rule set conditions processed                                11551
rule set true rules                                             10
rule set maybe rules                                           328
rule set user function calls (variable value function)         182
rule set user function calls (variable method function)      12794
rule set user function calls (evaluation function)            3857
</pre><div class="infoboxnote" id="GUID-0CF2DB4A-FAE8-44A4-86CD-6BAA151F04A1__GUID-D8FB4379-D1BA-43AE-A56D-A1DA365432AD">
                        <p class="notep1">Note:</p>
                        <p>A centisecond is one-hundredth of a second. So, for example, this output shows 1.79 seconds of CPU time and 10.53 seconds of elapsed time.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS992"></a><div class="props_rev_3"><a id="GUID-CE3DE171-7861-411B-A1F7-4A28C507C09A" name="GUID-CE3DE171-7861-411B-A1F7-4A28C507C09A"></a><h3 id="STRMS-GUID-CE3DE171-7861-411B-A1F7-4A28C507C09A" class="sect3"><span class="enumeration_section">27.12 </span>Displaying Information About Evaluations for Each Rule Set
               </h3>
               <div>
                  <div class="section">
                     <p>You can query the <code class="codeph">V$RULE_SET</code> dynamic performance view to display information about evaluations for each <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a> since the database instance last started. The query in this section contains the following information about each rule set in a database:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The owner of the rule set.</p>
                        </li>
                        <li>
                           <p>The name of the rule set.</p>
                        </li>
                        <li>
                           <p>The total number of evaluations of the rule set since the database instance last started.</p>
                        </li>
                        <li>
                           <p>The total number of times SQL was executed to evaluate <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s since the database instance last started. Generally, issuing SQL to evaluate rules is more expensive than evaluating rules without issuing SQL.
                           </p>
                        </li>
                        <li>
                           <p>The total number of evaluations on the rule set that did not issue SQL to evaluate rules since the database instance last started.</p>
                        </li>
                        <li>
                           <p>The total number of <code class="codeph">TRUE</code> rules returned to the <a href="strms_glossary.html#GUID-EF705142-9260-491F-92B2-553E88D604BD"><span class="xrefglossterm">rules engine</span></a> clients using the rule set since the database instance last started.
                           </p>
                        </li>
                        <li>
                           <p>The total number of <code class="codeph">MAYBE</code> rules returned to the rules engine clients using the rule set since the database instance last started.
                           </p>
                        </li>
                     </ul>
                     <p>Run the following query to display this information for each rule set in the database:</p><pre class="oac_no_warn" dir="ltr">COLUMN OWNER HEADING 'Rule Set|Owner' FORMAT A9
COLUMN NAME HEADING 'Rule Set|Name' FORMAT A11
COLUMN EVALUATIONS HEADING 'Total|Evaluations' FORMAT 99999999
COLUMN SQL_EXECUTIONS HEADING 'SQL|Executions' FORMAT 99999999
COLUMN SQL_FREE_EVALUATIONS HEADING 'SQL Free|Evaluations' FORMAT 99999999
COLUMN TRUE_RULES HEADING 'True|Rules' FORMAT 999999999
COLUMN MAYBE_RULES HEADING 'Maybe|Rules' FORMAT 99999999

SELECT OWNER, 
       NAME, 
       EVALUATIONS,
       SQL_EXECUTIONS,
       SQL_FREE_EVALUATIONS,
       TRUE_RULES,
       MAYBE_RULES
  FROM V$RULE_SET;
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Rule Set  Rule Set          Total        SQL    SQL Free       True     Maybe
Owner     Name        Evaluations Executions Evaluations      Rules     Rules
--------- ----------- ----------- ---------- ----------- ---------- ---------
SYS       ALERT_QUE_R           3          0           0          2         0
STRMADMIN RULESET$_4           86          0           0         43         1
STRMADMIN RULESET$_11         458          0           0         11         0
STRMADMIN RULESET$_9           87          0           0          1        42
STRMADMIN RULESET$_7           87          0           0         44         1
</pre><div class="infoboxnote" id="GUID-CE3DE171-7861-411B-A1F7-4A28C507C09A__GUID-2BA822E1-B2A0-4537-9091-AC15DEAD5B36">
                        <p class="notep1">Note:</p>
                        <p>Querying the <code class="codeph">V$RULE_SET</code> view can have a negative impact on performance if a database has a large library cache.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS993"></a><div class="props_rev_3"><a id="GUID-1453BCE6-58EA-4804-BAFF-28144A6309B4" name="GUID-1453BCE6-58EA-4804-BAFF-28144A6309B4"></a><h3 id="STRMS-GUID-1453BCE6-58EA-4804-BAFF-28144A6309B4" class="sect3"><span class="enumeration_section">27.13 </span>Determining the Resources Used by Evaluation of Each Rule Set
               </h3>
               <div>
                  <div class="section">
                     <p>You can query the <code class="codeph">V$RULE_SET</code> dynamic performance view to determine the resources used by evaluation of a <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a> since the database instance last started. If a rule set was evaluated more than one time since the database instance last started, then some statistics are cumulative, including statistics for the amount of CPU time, evaluation time, and shared memory bytes used. 
                     </p>
                     <p>The query in this section contains the following information about each rule set in a database:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The owner of the rule set</p>
                        </li>
                        <li>
                           <p>The name of the rule set</p>
                        </li>
                        <li>
                           <p>The total number of seconds of CPU time used to evaluate the rule set since the database instance last started</p>
                        </li>
                        <li>
                           <p>The total number of seconds used to evaluate the rule set since the database instance last started</p>
                        </li>
                        <li>
                           <p>The total number of shared memory bytes used to evaluate the rule set since the database instance last started</p>
                        </li>
                     </ul>
                     <p>Run the following query to display this information for each rule set in the database:</p><pre class="oac_no_warn" dir="ltr">COLUMN OWNER HEADING 'Rule Set|Owner' FORMAT A15
COLUMN NAME HEADING 'Rule Set Name' FORMAT A15
COLUMN CPU_SECONDS HEADING 'Seconds|of CPU|Time' FORMAT 999999.999
COLUMN ELAPSED_SECONDS HEADING 'Seconds of|Evaluation|Time' FORMAT 999999.999
COLUMN SHARABLE_MEM HEADING 'Bytes|of Shared|Memory' FORMAT 999999999

SELECT OWNER, 
       NAME, 
       (CPU_TIME/100) CPU_SECONDS,
       (ELAPSED_TIME/100) ELAPSED_SECONDS,
       SHARABLE_MEM
  FROM V$RULE_SET;
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">                                    Seconds  Seconds of      Bytes
Rule Set                             of CPU  Evaluation  of Shared
Owner           Rule Set Name          Time        Time     Memory
--------------- --------------- ----------- ----------- ----------
SYS             ALERT_QUE_R            .230        .490      25120
STRMADMIN       RULESET$_4             .060        .970      25097
STRMADMIN       RULESET$_11            .040        .030      25098
STRMADMIN       RULESET$_9             .220       3.040      25505
STRMADMIN       RULESET$_7             .040        .380      21313
</pre><div class="infoboxnote" id="GUID-1453BCE6-58EA-4804-BAFF-28144A6309B4__GUID-5C89A487-A645-4523-A043-09F8C8A65B8C">
                        <p class="notep1">Note:</p>
                        <p>Querying the <code class="codeph">V$RULE_SET</code> view can have a negative impact on performance if a database has a large library cache.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS994"></a><div class="props_rev_3"><a id="GUID-4ED288EB-94B2-4D80-B0E0-DBC3A8C59CFA" name="GUID-4ED288EB-94B2-4D80-B0E0-DBC3A8C59CFA"></a><h3 id="STRMS-GUID-4ED288EB-94B2-4D80-B0E0-DBC3A8C59CFA" class="sect3"><span class="enumeration_section">27.14 </span>Displaying Evaluation Statistics for a Rule
               </h3>
               <div>
                  <div class="section">
                     <p>You can query the <code class="codeph">V$RULE</code> dynamic performance view to display evaluation statistics for a particular <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a> since the database instance last started. The query in this section contains the following information about each <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a> in a database:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The total number of times the rule evaluated to <code class="codeph">TRUE</code> since the database instance last started.
                           </p>
                        </li>
                        <li>
                           <p>The total number of times the rule evaluated to <code class="codeph">MAYBE</code> since the database instance last started.
                           </p>
                        </li>
                        <li>
                           <p>The total number of evaluations on the rule that issued SQL since the database instance last started. Generally, issuing SQL to evaluate a rule is more expensive than evaluating the rule without issuing SQL.</p>
                        </li>
                     </ul>
                     <p>For example, run the following query to display this information for the <code class="codeph">locations25</code> rule in the <code class="codeph">strmadmin</code> schema:
                     </p><pre class="oac_no_warn" dir="ltr">COLUMN TRUE_HITS HEADING 'True Evaluations' FORMAT 99999999999
COLUMN MAYBE_HITS HEADING 'Maybe Evaluations' FORMAT 99999999999
COLUMN SQL_EVALUATIONS HEADING 'SQL Evaluations' FORMAT 99999999999

SELECT TRUE_HITS, MAYBE_HITS, SQL_EVALUATIONS 
  FROM V$RULE
  WHERE RULE_OWNER = 'STRMADMIN' AND
        RULE_NAME  = 'LOCATIONS25';
</pre><p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">True Evaluations Maybe Evaluations SQL Evaluations
---------------- ----------------- ---------------
            1518               154               0</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>