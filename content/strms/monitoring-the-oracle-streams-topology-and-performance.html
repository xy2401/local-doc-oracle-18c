<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Monitoring the Oracle Streams Topology and Performance</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.1.1">
      <link rel="alternate" href="streams-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-01-25T21:40:57-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83781-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      <meta name="dcterms.release" content="Release 18">
      <link rel="prev" href="monitoring-an-oracle-streams-environment.html" title="Previous" type="text/html">
      <link rel="next" href="monitoring-oracle-streams-implicit-capture.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Streams Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="STRMS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-an-oracle-streams-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="monitoring-oracle-streams-implicit-capture.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="monitoring-oracle-streams.html" property="item" typeof="WebPage"><span property="name">    Monitoring Oracle Streams </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">   Monitoring the Oracle Streams Topology and Performance</li>
            </ol>
            <a id="GUID-B82FF940-CCC3-4481-9145-ECB71D648D68" name="GUID-B82FF940-CCC3-4481-9145-ECB71D648D68"></a><a id="STRMS170"></a>
            
            <h2 id="STRMS-GUID-B82FF940-CCC3-4481-9145-ECB71D648D68" class="sect2"><span class="enumeration_chapter">23 </span>   Monitoring the Oracle Streams Topology and Performance
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The Oracle Streams Performance Advisor consists of the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> PL/SQL package and a collection of data dictionary views. The Oracle Streams Performance Advisor enables you to monitor the topology and performance of an Oracle Streams environment. The Oracle Streams topology includes information about the components in an Oracle Streams environment, the links between the components, and the way information flows from capture to consumption. The Oracle Streams Performance Advisor also provides information about how Oracle Streams components are performing.
               </p>
               <p>The following topics contain information about the Oracle Streams Performance Advisor:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-110E669C-6F57-449A-B11F-F54769A653C8">About the Oracle Streams Topology</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-3A61CDC1-CB32-45A3-A1E3-94950C7D832F">About the Oracle Streams Performance Advisor</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD">About Stream Paths in an Oracle Streams Topology</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A">About the Information Gathered by the Oracle Streams Performance Advisor</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D">Viewing the Oracle Streams Topology and Analyzing Oracle Streams Performance</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0DD0A4DC-6FF1-4455-925D-FBE387727CDC">Using the UTL_SPADV Package</a></p>
                  </li>
               </ul>
            </div><a id="STRMS850"></a><div class="props_rev_3"><a id="GUID-110E669C-6F57-449A-B11F-F54769A653C8" name="GUID-110E669C-6F57-449A-B11F-F54769A653C8"></a><h3 id="STRMS-GUID-110E669C-6F57-449A-B11F-F54769A653C8" class="sect3"><span class="enumeration_section">23.1 </span>About the Oracle Streams Topology
               </h3>
               <div>
                  <p>Oracle Streams enables you to send <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s between multiple databases. An Oracle Streams environment can send the following types of messages:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Logical change records (LCRs) that contain database changes</p>
                     </li>
                     <li>
                        <p>User messages that contain custom information based on user-defined types</p>
                     </li>
                  </ul>
                  <p>The <span class="bold">Oracle Streams topology</span> is a representation of the databases in an Oracle Streams environment, the Oracle Streams components configured in these databases, and the flow of messages between these components.
                  </p>
                  <p>The messages in the environment flow in separate stream paths. A <span class="bold">stream path</span> begins where a <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a>, a <a href="strms_glossary.html#GUID-5CA58899-A02D-422A-AE15-E8FCD004EB17"><span class="xrefglossterm">synchronous capture</span></a>, or an application generates messages and enqueues them. The messages can flow through one or more <a href="strms_glossary.html#GUID-13E35632-96B9-4A58-8990-EF95ECE9746E"><span class="xrefglossterm">propagation</span></a>s and <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a>s in its stream path. The stream path ends where the messages are dequeued by an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>, a <a href="strms_glossary.html#GUID-9EAF35D2-24C0-4E0B-ACC4-9EDC22A169C1"><span class="xrefglossterm">messaging client</span></a>, or an application.
                  </p>
                  <p>Currently, the Oracle Streams topology only gathers information about a stream path if the stream path ends with an apply process. The Oracle Streams topology does not track stream paths that end when a messaging client or an application dequeues messages.</p>
                  <div class="infoboxnotealso" id="GUID-110E669C-6F57-449A-B11F-F54769A653C8__GUID-B6AFFFF8-4899-4024-AFFB-369474B947DE">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-84DD3325-51A9-46D7-8BE0-81E48893DFAB">Implicit Capture with an Oracle Streams Capture Process</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="oracle-streams-staging-and-propagation.html#GUID-8B86A9B3-04B8-4CBF-BF61-587881F45E7F">Message Propagation Between Queues</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED">Implicit Consumption with an Apply Process</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="oracle-streams-staging-and-propagation.html#GUID-9341B7DE-2218-4290-ACC3-8D27931864B6">Queues</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-446A8A08-9D10-4951-9630-39A767F564A9">Types of Information Captured with Oracle Streams</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="STRMS851"></a><div class="props_rev_3"><a id="GUID-3A61CDC1-CB32-45A3-A1E3-94950C7D832F" name="GUID-3A61CDC1-CB32-45A3-A1E3-94950C7D832F"></a><h3 id="STRMS-GUID-3A61CDC1-CB32-45A3-A1E3-94950C7D832F" class="sect3"><span class="enumeration_section">23.2 </span>About the Oracle Streams Performance Advisor
               </h3>
               <div>
                  <p>The Oracle Streams Performance Advisor consists of the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> PL/SQL package and a collection of data dictionary views. You can use the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package to gather information about the Oracle Streams topology and about the performance of the Oracle Streams components in the topology.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-AC38A84A-C653-4A41-BE18-BC4B5126A6FB">Oracle Streams Performance Advisor Data Dictionary Views</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-051A8368-41EC-4B9E-A382-E8B736032FF3">Oracle Streams Components and Statistics</a></p>
                     </li>
                  </ul>
               </div><a id="STRMS852"></a><div class="props_rev_3"><a id="GUID-AC38A84A-C653-4A41-BE18-BC4B5126A6FB" name="GUID-AC38A84A-C653-4A41-BE18-BC4B5126A6FB"></a><h4 id="STRMS-GUID-AC38A84A-C653-4A41-BE18-BC4B5126A6FB" class="sect4"><span class="enumeration_section">23.2.1 </span>Oracle Streams Performance Advisor Data Dictionary Views
                  </h4>
                  <div>
                     <div class="section">
                        <p>After information is gathered by the Oracle Streams Performance Advisor, you can view it by querying the following data dictionary views:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/DBA_STREAMS_TP_COMPONENT.html#REFRN23611"><code class="codeph">DBA_STREAMS_TP_COMPONENT</code></a> contains information about each Oracle Streams component at each database.
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/DBA_STREAMS_TP_COMPONENT_LINK.html#REFRN23612"><code class="codeph">DBA_STREAMS_TP_COMPONENT_LINK</code></a> contains information about how messages flow between Oracle Streams components.
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=REFRN23613"><code class="codeph">DBA_STREAMS_TP_COMPONENT_STAT</code></a> contains temporary performance statistics and session statistics about each Oracle Streams component.
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/DBA_STREAMS_TP_DATABASE.html#REFRN23614"><code class="codeph">DBA_STREAMS_TP_DATABASE</code></a> contains information about each database that contains Oracle Streams components.
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/DBA_STREAMS_TP_PATH_BOTTLENECK.html#REFRN23615"><code class="codeph">DBA_STREAMS_TP_PATH_BOTTLENECK</code></a> contains temporary information about Oracle Streams components that might be slowing down the flow of messages in a stream path.
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/DBA_STREAMS_TP_PATH_STAT.html#REFRN23616"><code class="codeph">DBA_STREAMS_TP_PATH_STAT</code></a> contains temporary performance statistics about each stream path that exists in the Oracle Streams topology.
                              </p>
                           </li>
                        </ul>
                        <p>The topology information is stored permanently in the following data dictionary views: <code class="codeph">DBA_STREAMS_TP_DATABASE</code>, <code class="codeph">DBA_STREAMS_TP_COMPONENT</code>, and <code class="codeph">DBA_STREAMS_TP_COMPONENT_LINK</code>.
                        </p>
                        <p>The following views contain temporary information: <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=REFRN23613"><code class="codeph">DBA_STREAMS_TP_COMPONENT_STAT</code></a>, <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=REFRN23615"><code class="codeph">DBA_STREAMS_TP_PATH_BOTTLENECK</code></a>, and <a href="../refrn/DBA_STREAMS_TP_PATH_STAT.html#REFRN23616"><code class="codeph">DBA_STREAMS_TP_PATH_STAT</code></a>. Some of the data in these views is retained only for the user session that runs the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure. When this user session ends, this temporary information is purged.
                        </p>
                        <div class="infoboxnotealso" id="GUID-AC38A84A-C653-4A41-BE18-BC4B5126A6FB__GUID-09188D07-897A-4486-B30C-B33B2C92E419">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D">Viewing the Oracle Streams Topology and Analyzing Oracle Streams Performance</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STRMS853"></a><div class="props_rev_3"><a id="GUID-051A8368-41EC-4B9E-A382-E8B736032FF3" name="GUID-051A8368-41EC-4B9E-A382-E8B736032FF3"></a><h4 id="STRMS-GUID-051A8368-41EC-4B9E-A382-E8B736032FF3" class="sect4"><span class="enumeration_section">23.2.2 </span>Oracle Streams Components and Statistics
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package gathers information about the following Oracle Streams components:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A <code class="codeph">QUEUE</code> stores messages. The package gathers the following component-level statistics for queues:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ENQUEUE</code> <code class="codeph">RATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SPILL</code> <code class="codeph">RATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CURRENT</code> <code class="codeph">QUEUE</code> <code class="codeph">SIZE</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>A <code class="codeph">CAPTURE</code> is a capture process. A capture process captures database changes in the redo log and enqueues the changes as logical change records (LCRs). Each capture process has the following subcomponents:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">LOGMINER</code> <code class="codeph">BUILDER</code> is a builder server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LOGMINER</code> <code class="codeph">PREPARER</code> is a preparer server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LOGMINER</code> <code class="codeph">READER</code> is a reader server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CAPTURE</code> <code class="codeph">SESSION</code> is the capture process session.
                                    </p>
                                 </li>
                              </ul>
                              <p>The package gathers the following component-level statistics for each capture process (<code class="codeph">CAPTURE</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">CAPTURE</code> <code class="codeph">RATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ENQUEUE</code> <code class="codeph">RATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LATENCY</code></p>
                                 </li>
                              </ul>
                              <p>The package also gathers session-level statistics for capture process subcomponents.</p>
                           </li>
                           <li>
                              <p>A <code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code> sends messages from a <a href="strms_glossary.html#GUID-FF907FD2-BD9E-4622-A33C-A6D400ED2CAF"><span class="xrefglossterm">source queue</span></a> to a <a href="strms_glossary.html#GUID-584772DA-C868-4F6B-9B7F-9E665F2D6F85"><span class="xrefglossterm">destination queue</span></a>. The package gathers the following component-level statistics for propagation senders:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">SEND</code> <code class="codeph">RATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">BANDWIDTH</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LATENCY</code></p>
                                 </li>
                              </ul>
                              <p>The package also gathers session-level statistics for propagation senders.</p>
                           </li>
                           <li>
                              <p>A <code class="codeph">PROPAGATION</code> <code class="codeph">RECEIVER</code> enqueues messages sent by propagation senders into a destination queue. The package gathers session-level statistics for propagation receivers.
                              </p>
                           </li>
                           <li>
                              <p>An <code class="codeph">APPLY</code> is an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>. These components either apply messages directly or send messages to <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>s. This type of component has the following subcomponents:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">APPLY</code> <code class="codeph">READER</code> is a reader server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">APPLY</code> <code class="codeph">COORDINATOR</code> is a coordinator process.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">APPLY</code> <code class="codeph">SERVER</code> is an apply server.
                                    </p>
                                 </li>
                              </ul>
                              <p>The package gathers the following component-level statistics for this component (<code class="codeph">APPLY</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">MESSAGE</code> <code class="codeph">APPLY</code> <code class="codeph">RATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TRANSACTION</code> <code class="codeph">APPLY</code> <code class="codeph">RATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LATENCY</code></p>
                                 </li>
                              </ul>
                              <p>The package also gathers session-level statistics for the subcomponents.</p>
                           </li>
                        </ul>
                        <p>When the package gathers session-level statistics for a component or subcomponent, the session-level statistics include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">IDLE</code> percentage
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">FLOW</code> <code class="codeph">CONTROL</code> percentage
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EVENT</code> percentage for wait events
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-051A8368-41EC-4B9E-A382-E8B736032FF3__GUID-AF703525-9294-4838-823C-05F2AC9B2E47">
                           <p class="notep1">Note:</p>
                           <p>Currently, the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package does not gather information about <a href="strms_glossary.html#GUID-5CA58899-A02D-422A-AE15-E8FCD004EB17"><span class="xrefglossterm">synchronous capture</span></a>s or <a href="strms_glossary.html#GUID-9EAF35D2-24C0-4E0B-ACC4-9EDC22A169C1"><span class="xrefglossterm">messaging client</span></a>s.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-051A8368-41EC-4B9E-A382-E8B736032FF3__GUID-3A0C5628-BA92-4C53-9754-F63B404D040B">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-7D29C099-B819-4999-A73D-AB83D0007302">Viewing Component-Level Statistics</a>"</span> for detailed information about component-level statistics
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE">Viewing Session-Level Statistics</a>"</span> for detailed information about session-level statistics
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="STRMS855"></a><a id="STRMS854"></a><div class="props_rev_3"><a id="GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD" name="GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD"></a><h3 id="STRMS-GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD" class="sect3"><span class="enumeration_section">23.3 </span>About Stream Paths in an Oracle Streams Topology
               </h3>
               <div>
                  <p>In the Oracle Streams topology, a stream path is a flow of messages from a source to a destination. A stream path begins where a <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a>, <a href="strms_glossary.html#GUID-5CA58899-A02D-422A-AE15-E8FCD004EB17"><span class="xrefglossterm">synchronous capture</span></a>, or application enqueues <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s into a <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a>. A stream path ends where an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> dequeues the messages. The stream path might flow through multiple queues and <a href="strms_glossary.html#GUID-13E35632-96B9-4A58-8990-EF95ECE9746E"><span class="xrefglossterm">propagation</span></a>s before it reaches an apply process. Therefore, a single stream path can consist of multiple source/destination component pairs before it reaches last component.
                  </p>
                  <p>The Oracle Streams topology assigns a number to each stream path so that you can monitor each one easily. The Oracle Streams topology also assigns a number to each link between two components in a stream path. The number specifies the <span class="bold">position</span> of the link in the overall stream path. 
                  </p>
                  <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD__BIHHEDII" title="The table shows the beginning component, end component, and position of each link in a sample stream path.">Table 23-1</a> shows the position of each link in a sample stream path.
                  </p>
                  <div class="tblformal" id="GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD__BIHHEDII">
                     <p class="titleintable">Table 23-1 Position of Each Link in a Sample Stream Path</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Position of Each Link in a Sample Stream Path" summary="The table shows the beginning component, end component, and position of each link in a sample stream path." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="38%" id="d106681e1379">Start Component</th>
                              <th align="left" valign="bottom" width="38%" id="d106681e1382">End Component</th>
                              <th align="left" valign="bottom" width="23%" id="d106681e1385">Position</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d106681e1390" headers="d106681e1379 ">
                                 <p>Capture process</p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d106681e1390 d106681e1382 ">
                                 <p>Queue</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d106681e1390 d106681e1385 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d106681e1400" headers="d106681e1379 ">
                                 <p>Queue</p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d106681e1400 d106681e1382 ">
                                 <p>Propagation sender</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d106681e1400 d106681e1385 ">
                                 <p>2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d106681e1410" headers="d106681e1379 ">
                                 <p>Propagation sender</p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d106681e1410 d106681e1382 ">
                                 <p>Propagation receiver</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d106681e1410 d106681e1385 ">
                                 <p>3</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d106681e1420" headers="d106681e1379 ">
                                 <p>Propagation receiver</p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d106681e1420 d106681e1382 ">
                                 <p>Queue</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d106681e1420 d106681e1385 ">
                                 <p>4</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d106681e1430" headers="d106681e1379 ">
                                 <p>Queue</p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d106681e1430 d106681e1382 ">
                                 <p>Apply process</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d106681e1430 d106681e1385 ">
                                 <p>5</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>When the Oracle Streams Performance Advisor gathers information about an Oracle Streams environment, it tracks stream paths by starting with each apply process and working backward to its source. When a capture process is the source, the Oracle Streams Performance Advisor tracks the path from the apply process back to the capture process. When a synchronous capture or an application that enqueues messages is the source, the Oracle Streams Performance Advisor tracks the path from the apply process back to the queue into which the messages are enqueued.</p>
                  <p>The following sections describe sample replication environments and the stream paths in each one:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-E525391D-D79B-4315-885F-40400FDD5A7B">Separate Stream Paths in an Oracle Streams Environment</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4">Shared Stream Paths in an Oracle Streams Replication Environment</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD__GUID-08CAFCF3-C8CE-4885-8128-3A522098603B">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP150"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> for information about best practices for Oracle Streams replication environments
                     </p>
                  </div>
               </div><a id="STRMS857"></a><a id="STRMS856"></a><div class="props_rev_3"><a id="GUID-E525391D-D79B-4315-885F-40400FDD5A7B" name="GUID-E525391D-D79B-4315-885F-40400FDD5A7B"></a><h4 id="STRMS-GUID-E525391D-D79B-4315-885F-40400FDD5A7B" class="sect4"><span class="enumeration_section">23.3.1 </span>Separate Stream Paths in an Oracle Streams Environment
                  </h4>
                  <div>
                     <p>Consider an Oracle Streams environment with two databases. Each database captures changes made to the replicated database objects with a capture process and sends the changes to the other database, where they are applied by an apply process. The stream paths in this environment are completely separate.</p>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-E525391D-D79B-4315-885F-40400FDD5A7B__BIHBIAAA">Figure 23-1</a> shows an example of this type of Oracle Streams replication environment.
                     </p>
                     <div class="figure" id="GUID-E525391D-D79B-4315-885F-40400FDD5A7B__BIHBIAAA">
                        <p class="titleinfigure">Figure 23-1 Oracle Streams Topology with Two Separate Stream Paths</p><img width="377" src="img/strms060.gif" alt="Description of Figure 23-1 follows" title="Description of Figure 23-1 follows" longdesc="img_text/strms060.html"><br><a href="img_text/strms060.html">Description of "Figure 23-1 Oracle Streams Topology with Two Separate Stream Paths"</a></div>
                     <!-- class="figure" -->
                     <p>Notice that the Oracle Streams Performance Advisor assigns a component ID to each Oracle Streams component and a path ID to each path. The Oracle Streams topology in <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-E525391D-D79B-4315-885F-40400FDD5A7B__BIHBIAAA">Figure 23-1</a> shows the following information:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>There are twelve Oracle Streams components in the Oracle Streams environment.</p>
                        </li>
                        <li>
                           <p>There are two stream paths in the Oracle Streams environment.</p>
                        </li>
                        <li>
                           <p>Stream path 1 starts with component 1 and ends with component 6.</p>
                        </li>
                        <li>
                           <p>Stream path 2 starts with component 7 and ends with component 12.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="STRMS859"></a><a id="STRMS858"></a><div class="props_rev_3"><a id="GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4" name="GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4"></a><h4 id="STRMS-GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4" class="sect4"><span class="enumeration_section">23.3.2 </span>Shared Stream Paths in an Oracle Streams Replication Environment
                  </h4>
                  <div>
                     <p>When there are multiple apply processes that apply changes generated by a single source, a stream path splits into multiple stream paths. In this case, part of a stream path is shared, but the path splits into two or more distinct stream paths.</p>
                     <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4__BIHCJADG">Figure 23-2</a> shows this type of Oracle Streams environment.
                     </p>
                     <div class="figure" id="GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4__BIHCJADG">
                        <p class="titleinfigure">Figure 23-2 Oracle Streams Topology with Multiple Apply Processes for a Single Source</p><img width="424" src="img/strms061.gif" alt="Description of Figure 23-2 follows" title="Description of Figure 23-2 follows" longdesc="img_text/strms061.html"><br><a href="img_text/strms061.html">Description of "Figure 23-2 Oracle Streams Topology with Multiple Apply Processes for a Single Source"</a></div>
                     <!-- class="figure" -->
                     <p>The Oracle Streams topology in <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4__BIHCJADG">Figure 23-2</a> shows the following information:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>There are ten Oracle Streams components in the Oracle Streams environment.</p>
                        </li>
                        <li>
                           <p>There are two stream paths in the Oracle Streams environment.</p>
                        </li>
                        <li>
                           <p>Stream path 1 starts with component 1 and ends with component 7.</p>
                        </li>
                        <li>
                           <p>Stream path 2 starts with component 1 and ends with component 10.</p>
                        </li>
                        <li>
                           <p>The messages flowing between component 1 and component 2 are in both path 1 and path2.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4__GUID-7CC58EE5-78FA-42E0-B3B1-A84F529F03B6">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="oracle-streams-staging-and-propagation.html#GUID-8B86A9B3-04B8-4CBF-BF61-587881F45E7F">Message Propagation Between Queues</a>"</span></p>
                     </div>
                  </div>
               </div>
            </div><a id="STRMS861"></a><a id="STRMS860"></a><div class="props_rev_3"><a id="GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A" name="GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A"></a><h3 id="STRMS-GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A" class="sect3"><span class="enumeration_section">23.4 </span>About the Information Gathered by the Oracle Streams Performance Advisor
               </h3>
               <div>
                  <p>The <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package gathers information about the Oracle Streams topology and the performance of Oracle Streams components. The procedure stores the information in a collection of data dictionary views. To use the Oracle Streams Performance Advisor effectively, it is important to understand how the procedure gathers information and calculates statistics.
                  </p>
                  <p>The procedure takes snapshots of the Oracle Streams environment to gather information and calculate statistics. For some statistics, the information in a single snapshot is sufficient. For example, only one snapshot is needed to determine the current number of messages in a queue. However, to calculate other statistics, the procedure must compare two snapshots. These statistics include the rate, bandwidth, event, and flow control statistics. The first time the procedure is run in a user session, it takes two snapshots to calculate these statistics. In each subsequent run in the same user session, the procedure takes one snapshot and compares it with the snapshot taken during the previous run.</p>
                  <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A__BIHJAJDG" title="This table shows several advisor runs and the information gathered in each advisor run.">Table 23-2</a> illustrates how the procedure gathers information in each advisor run in a single user session.
                  </p>
                  <div class="tblformal" id="GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A__BIHJAJDG">
                     <p class="titleintable">Table 23-2 How the Oracle Streams Performance Advisor Gathers Information in a Session</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="How the Oracle Streams Performance Advisor Gathers Information in a Session" summary="This table shows several advisor runs and the information gathered in each advisor run." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d106681e1954">Advisor Run</th>
                              <th align="left" valign="bottom" width="81%" id="d106681e1957">Information Gathered</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d106681e1962" headers="d106681e1954 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d106681e1962 d106681e1957 ">
                                 <ol>
                                    <li>
                                       <p>Take snapshot of statistics.</p>
                                    </li>
                                    <li>
                                       <p>Wait at least five seconds.</p>
                                    </li>
                                    <li>
                                       <p>Take another snapshot of statistics.</p>
                                    </li>
                                    <li>
                                       <p>Compare data from the first snapshot with data from the second snapshot to calculate performance statistics.</p>
                                    </li>
                                 </ol>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d106681e1980" headers="d106681e1954 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d106681e1980 d106681e1957 ">
                                 <ol>
                                    <li>
                                       <p>Take snapshot of statistics.</p>
                                    </li>
                                    <li>
                                       <p>Compare data from the last snapshot in advisor run 1 with the snapshot taken in advisor run 2 to calculate performance statistics.</p>
                                    </li>
                                 </ol>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d106681e1992" headers="d106681e1954 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d106681e1992 d106681e1957 ">
                                 <ol>
                                    <li>
                                       <p>Take snapshot of statistics.</p>
                                    </li>
                                    <li>
                                       <p>Compare data from the snapshot in advisor run 2 with the snapshot taken in advisor run 3 to calculate performance statistics.</p>
                                    </li>
                                 </ol>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>For the best results in an advisor run, meet the following criteria:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Ensure that as many Oracle Streams components as possible are enabled during the time period between the two snapshots used in the advisor run. Specifically, capture processes, propagations, apply processes should be enabled, queues should be started, and database links should be active.</p>
                     </li>
                     <li>
                        <p>If data is replicated in the Oracle Streams environment, then ensure that the replicated database objects are experiencing an average, or near average, number of changes during the time period between the two snapshots used in the advisor run. The Oracle Streams Performance Advisor gathers more accurate statistics if it is run when the Oracle Streams replication environment is experiencing typical replication activity.</p>
                     </li>
                     <li>
                        <p>If messages are sent by applications in the Oracle Streams environment, then ensure that the applications are sending an average, or near average, number of messages during the time period between the two snapshots used in the advisor run. The Oracle Streams Performance Advisor gathers more accurate statistics if it is run when the Oracle Streams messaging environment is sending a typical number of messages.</p>
                     </li>
                  </ul>
               </div>
            </div><a id="STRMS862"></a><div class="props_rev_3"><a id="GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9" name="GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9"></a><h3 id="STRMS-GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9" class="sect3"><span class="enumeration_section">23.5 </span>Gathering Information About the Oracle Streams Topology and Performance
               </h3>
               <div>
                  <div class="section">
                     <p>To gather information about the Oracle Streams topology and Oracle Streams performance, complete the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand" id="GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__BIHIEFBC"><span>Identify the database that you will use to gather the information. An administrative user at this database must meet the following requirements:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The user must have access to a database link to each database that contains Oracle Streams components.</p>
                              </li>
                              <li>
                                 <p>The user must have been granted privileges using the <code class="codeph">DBMS_STREAMS_AUTH.GRANT_ADMIN_PRIVILEGE</code> procedure, and each database link must connect to a user at the remote database that has been granted privileges using the <code class="codeph">DBMS_STREAMS_AUTH.GRANT_ADMIN_PRIVILEGE</code> procedure.
                                 </p>
                                 <p>If you configure an Oracle Streams administrator at each database with Oracle Streams components, then the Oracle Streams administrator has the necessary privileges. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP200"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> for information about creating an Oracle Streams administrator.
                                 </p>
                              </li>
                           </ul>
                           <p>If no database in your environment meets these requirements, then choose a database, configure the necessary database links, and grant the necessary privileges to the users before proceeding.</p>
                           <p>The Oracle Streams Performance Advisor running on an Oracle Database 12<span class="italic">c</span> database can monitor Oracle Database 10<span class="italic">g</span> Release 2 (10.2) and later databases. It cannot monitor databases before Oracle Database 10<span class="italic">g</span> Release 2 (10.2).
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>In SQL*Plus, connect to the database you identified in Step <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__BIHIEFBC">1</a> as a user that meets the requirements listed in Step <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__BIHIEFBC">1</a>.</span><div>
                           <p>For example, connect to the <code class="codeph">hub.example.com</code> database as the Oracle Streams administrator.
                           </p>
                           <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=ADMIN00102"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand" id="GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__BIHJDBEE"><span>Run the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package:</span><div><pre class="oac_no_warn" dir="ltr">exec DBMS_STREAMS_ADVISOR_ADM.ANALYZE_CURRENT_PERFORMANCE;
</pre></div>
                     </li>
                     <li class="stepexpand" id="GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__BIHCACCF"><span>Optionally, rerun the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure one or more times in same session that ran the procedure in Step <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__BIHJDBEE">3</a>:</span><div><pre class="oac_no_warn" dir="ltr">exec DBMS_STREAMS_ADVISOR_ADM.ANALYZE_CURRENT_PERFORMANCE;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Run the following query to identify the advisor run ID for the information gathered in Step <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__BIHCACCF">4</a>:</span><div><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT ADVISOR_RUN_ID FROM DBA_STREAMS_TP_COMPONENT_STAT
   ORDER BY ADVISOR_RUN_ID;
</pre><p>Your output is similar to the following:</p><pre class="oac_no_warn" dir="ltr">ADVISOR_RUN_ID
--------------
             1
             2
</pre><p>The Oracle Streams Performance Advisor assigns an advisor run ID to the statistics for each run. Use the last value in the output for the advisor run ID in the queries in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-3D617858-A152-4020-90BD-E99D91B6EEF0">Viewing Performance Statistics for Oracle Streams Components</a>"</span>. In this example, use <code class="codeph">2</code> for the advisor run ID in the queries.
                           </p>
                           <p>Remember that the Oracle Streams Performance Advisor purges some of the performance statistics that it gathered when a user session ends. Therefore, run the performance statistics queries in the same session that ran the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>Complete these steps whenever you want to monitor the current performance of your Oracle Streams environment.</p>
                     <p>You should also run the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure when new Oracle Streams components are added to any database in the Oracle Streams environment. Running the procedure updates the Oracle Streams topology with information about any new components.
                     </p>
                     <div class="infoboxnotealso" id="GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9__GUID-7BBC26AD-7A32-4F7E-AA0D-2B3EC9B75EAF">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=ARPLS879"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-110E669C-6F57-449A-B11F-F54769A653C8">About the Oracle Streams Topology</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="STRMS864"></a><a id="STRMS863"></a><div class="props_rev_3"><a id="GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D" name="GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D"></a><h3 id="STRMS-GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D" class="sect3"><span class="enumeration_section">23.6 </span>Viewing the Oracle Streams Topology and Analyzing Oracle Streams Performance
               </h3>
               <div>
                  <p>This section contains several queries that you can use to view your Oracle Streams topology and monitor the performance of your Oracle Streams components. The queries specify the views described in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-110E669C-6F57-449A-B11F-F54769A653C8">About the Oracle Streams Topology</a>"</span>.
                  </p>
                  <p>The queries in this section can be run in any Oracle Stream environment. However, the output shown for these queries is based on the sample Oracle Streams replication environment shown in <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D__BIHGHGEJ">Figure 23-3</a>.
                  </p>
                  <div class="figure" id="GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D__BIHGHGEJ">
                     <p class="titleinfigure">Figure 23-3 Sample Oracle Streams Replication Environment</p><img width="594" src="img/strms504.gif" alt="Description of Figure 23-3 follows" title="Description of Figure 23-3 follows" longdesc="img_text/strms504.html"><br><a href="img_text/strms504.html">Description of "Figure 23-3 Sample Oracle Streams Replication Environment"</a></div>
                  <!-- class="figure" -->
                  <p>The <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP604"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> contains instructions for configuring the Oracle Streams replication environment shown in <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D__BIHGHGEJ">Figure 23-3</a>. This environment contains both of the following types of stream paths:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Separate stream paths flow from the <code class="codeph">spoke1.example.com</code> database to the <code class="codeph">hub.example.com</code> database and from the <code class="codeph">spoke2.example.com</code> database to the <code class="codeph">hub.example.com</code> database. This type of stream path is described in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-E525391D-D79B-4315-885F-40400FDD5A7B">Separate Stream Paths in an Oracle Streams Environment</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>Two stream paths that share a portion of the path flow from the <code class="codeph">hub.example.com</code> database to the <code class="codeph">spoke1.example.com</code> and <code class="codeph">spoke2.example.com</code> databases. This type of stream path is described in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-D9BF42DD-8B09-436A-83FF-6F7FF97AA4B4">Shared Stream Paths in an Oracle Streams Replication Environment</a>"</span>.
                        </p>
                     </li>
                  </ul>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-69206FFD-F87E-4741-9872-0FD1BEBC35E3">Viewing the Oracle Streams Topology</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-3D617858-A152-4020-90BD-E99D91B6EEF0">Viewing Performance Statistics for Oracle Streams Components</a></p>
                     </li>
                  </ul>
               </div><a id="STRMS865"></a><div class="props_rev_3"><a id="GUID-69206FFD-F87E-4741-9872-0FD1BEBC35E3" name="GUID-69206FFD-F87E-4741-9872-0FD1BEBC35E3"></a><h4 id="STRMS-GUID-69206FFD-F87E-4741-9872-0FD1BEBC35E3" class="sect4"><span class="enumeration_section">23.6.1 </span>Viewing the Oracle Streams Topology
                  </h4>
                  <div>
                     <p>To view the Oracle Streams topology, you must first gather information about the Oracle Streams environment using the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a>"</span>.
                     </p>
                     <p>The following sections explain how to view different types of information in an Oracle Streams topology:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-688967B3-8505-4F11-AC01-C0C1E96413DB">Viewing the Databases in the Oracle Streams Environment</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-25FFCC35-DC80-4B41-BED5-B0A01190EBAC">Viewing Each Stream Path in an Oracle Streams Topology</a></p>
                        </li>
                     </ul>
                  </div><a id="STRMS866"></a><div class="props_rev_3"><a id="GUID-688967B3-8505-4F11-AC01-C0C1E96413DB" name="GUID-688967B3-8505-4F11-AC01-C0C1E96413DB"></a><h5 id="STRMS-GUID-688967B3-8505-4F11-AC01-C0C1E96413DB" class="sect5"><span class="enumeration_section">23.6.1.1 </span>Viewing the Databases in the Oracle Streams Environment
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can view the following information about the databases in an Oracle Streams environment:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The global name of each database</p>
                              </li>
                              <li>
                                 <p>The last time the Oracle Streams Performance Advisor was run at each database</p>
                              </li>
                              <li>
                                 <p>The version number of each database</p>
                              </li>
                              <li>
                                 <p>The compatibility level of each database</p>
                              </li>
                              <li>
                                 <p>Whether each database has access to the Oracle Diagnostics Pack and Oracle Tuning Pack</p>
                              </li>
                           </ul>
                           <p>To display this information, run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN GLOBAL_NAME HEADING 'Global Name' FORMAT A15
COLUMN LAST_QUERIED HEADING 'Last|Queried'
COLUMN VERSION HEADING 'Version' FORMAT A15
COLUMN COMPATIBILITY HEADING 'Compatibility' FORMAT A15
COLUMN MANAGEMENT_PACK_ACCESS HEADING 'Management Pack' FORMAT A20

SELECT GLOBAL_NAME, LAST_QUERIED, VERSION, COMPATIBILITY, MANAGEMENT_PACK_ACCESS
   FROM DBA_STREAMS_TP_DATABASE;
</pre><p>The following output shows the databases in the Oracle Streams replication environment described in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D">Viewing the Oracle Streams Topology and Analyzing Oracle Streams Performance</a>"</span>:
                           </p><pre class="oac_no_warn" dir="ltr">                Last                                                           
Global Name     Queried   Version         Compatibility   Management Pack       
--------------- --------- --------------- --------------- --------------------  
HUB.EXAMPLE.COM 08-APR-08 11.1.0.7.0      11.1.0          DIAGNOSTIC+TUNING     
SPOKE1.EXAMPLE. 08-APR-08 11.1.0.7.0      11.1.0          DIAGNOSTIC+TUNING     
COM
SPOKE2.EXAMPLE. 08-APR-08 11.1.0.7.0      11.1.0          DIAGNOSTIC+TUNING     
COM
</pre><p>This output shows the following information about the databases in the Oracle Streams environment:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">Global</code> <code class="codeph">Name</code> column shows that the global names of the databases are <code class="codeph">hub.example.com</code>, <code class="codeph">spoke1.example.com</code>, and <code class="codeph">spoke2.example.com</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">Last</code> <code class="codeph">Queried</code> column shows that the Oracle Streams Performance Advisor was last run on April 8, 2008 at each database.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">Version</code> column shows that version of each database is Oracle Database 11<span class="italic">g</span> Release 1 (11.1.0.7.0).
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">Compatibility</code> column shows that the compatibility level of each database is <code class="codeph">11.1.0</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">Management</code> <code class="codeph">Pack</code> column shows that each database has access to the Oracle Diagnostics Pack and Oracle Tuning Pack.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-688967B3-8505-4F11-AC01-C0C1E96413DB__GUID-6B36999E-87A9-445E-9065-D199DA7ECDAC">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=UPGRD005"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about database compatibility
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STRMS867"></a><div class="props_rev_3"><a id="GUID-B10C6093-DCD0-4532-962B-34F6AE95F247" name="GUID-B10C6093-DCD0-4532-962B-34F6AE95F247"></a><h5 id="STRMS-GUID-B10C6093-DCD0-4532-962B-34F6AE95F247" class="sect5"><span class="enumeration_section">23.6.1.2 </span>Viewing the Oracle Streams Components at Each Database
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can view the following information about the components in an Oracle Streams environment:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The component ID for each Oracle Streams component. The Oracle Streams topology assigns an ID number to each component and uses the number to track information about the component and about the stream path that flows through the component.</p>
                              </li>
                              <li>
                                 <p>The name of the Oracle Streams component. For <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a>es and <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es, the query lists the name of each process. For <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a>s, the query lists the name of each queue. For <a href="strms_glossary.html#GUID-13E35632-96B9-4A58-8990-EF95ECE9746E"><span class="xrefglossterm">propagation</span></a>s, two Oracle Streams components are tracked in the Oracle Streams topology:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The name of a propagation sender is the <a href="strms_glossary.html#GUID-FF907FD2-BD9E-4622-A33C-A6D400ED2CAF"><span class="xrefglossterm">source queue</span></a> of the propagation and the <a href="strms_glossary.html#GUID-584772DA-C868-4F6B-9B7F-9E665F2D6F85"><span class="xrefglossterm">destination queue</span></a> and database to which the propagation sends messages. For example, a propagation sender with the <code class="codeph">strmadmin.source_hns</code> source queue that sends messages to the <code class="codeph">strmadmin.destination_spoke1</code> destination queue at the <code class="codeph">spoke1.example.com</code> database is shown in the following way:
                                       </p><pre class="oac_no_warn" dir="ltr">"STRMADMIN"."SOURCE_HNS"=&gt;"STRMADMIN"."DESTINATION_SPOKE1"
   @SPOKE1.EXAMPLE.COM
</pre></li>
                                    <li>
                                       <p>The name of a propagation receiver is the source queue and database from which the messages are sent and the destination queue for the propagation. For example, a propagation receiver that gets messages from the <code class="codeph">strmadmin.source_hns</code> source queue at the <code class="codeph">hub.example.com</code> database and enqueues them into the <code class="codeph">strmadmin.destination_spoke1</code> destination queue is shown in the following way:
                                       </p><pre class="oac_no_warn" dir="ltr">"STRMADMIN"."SOURCE_HNS"@HUB.EXAMPLE.COM=&gt;"STRMADMIN".
   "DESTINATION_SPOKE1"
</pre></li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The type of the Oracle Streams component. The following types are possible:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">CAPTURE</code> for capture processes
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">QUEUE</code> for queues
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code> for propagation senders
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">RECEIVER</code> for propagation receivers
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPLY</code> for apply processes
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The database that contains the component</p>
                              </li>
                           </ul>
                           <p>To display this information, run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN COMPONENT_ID HEADING 'ID' FORMAT 999
COLUMN COMPONENT_NAME HEADING 'Name' FORMAT A43
COLUMN COMPONENT_TYPE HEADING 'Type' FORMAT A20
COLUMN COMPONENT_DB HEADING 'Database' FORMAT A10

SELECT COMPONENT_ID, COMPONENT_NAME, COMPONENT_TYPE, COMPONENT_DB
   FROM DBA_STREAMS_TP_COMPONENT
   ORDER BY COMPONENT_ID;
</pre><p>The following output shows the components in the Oracle Streams replication environment described in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-4EDAC07F-B3D2-41C9-A5FD-082B80FF687D">Viewing the Oracle Streams Topology and Analyzing Oracle Streams Performance</a>"</span>:
                           </p><pre class="oac_no_warn" dir="ltr">  ID Name                                        Type                 Database 
---- ------------------------------------------- -------------------- ----------
   1 "STRMADMIN"."DESTINATION_SPOKE1"            QUEUE                HUB.EXAMPL
                                                                      E.COM
   2 "STRMADMIN"."DESTINATION_SPOKE2"            QUEUE                HUB.EXAMPL
                                                                      E.COM
   3 "STRMADMIN"."SOURCE_HNS"                    QUEUE                HUB.EXAMPL
                                                                      E.COM
   4 "STRMADMIN"."SOURCE_HNS"=&gt;"STRMADMIN"."DEST PROPAGATION SENDER   HUB.EXAMPL
     INATION_SPOKE1"@SPOKE1.EXAMPLE.COM                               E.COM
   5 "STRMADMIN"."SOURCE_HNS"=&gt;"STRMADMIN"."DEST PROPAGATION SENDER   HUB.EXAMPL
     INATION_SPOKE2"@SPOKE2.EXAMPLE.COM                               E.COM
   6 "STRMADMIN"."SOURCE_HNS"@SPOKE1.EXAMPLE.COM PROPAGATION RECEIVER HUB.EXAMPL
     =&gt;"STRMADMIN"."DESTINATION_SPOKE1"                               E.COM
   7 "STRMADMIN"."SOURCE_HNS"@SPOKE2.EXAMPLE.COM PROPAGATION RECEIVER HUB.EXAMPL
     =&gt;"STRMADMIN"."DESTINATION_SPOKE2"                               E.COM
   8 APPLY_SPOKE1                                APPLY                HUB.EXAMPL
                                                                      E.COM
   9 APPLY_SPOKE2                                APPLY                HUB.EXAMPL
                                                                      E.COM
  10 CAPTURE_HNS                                 CAPTURE              HUB.EXAMPL
                                                                      E.COM
  11 "STRMADMIN"."DESTINATION_SPOKE1"            QUEUE                SPOKE1.EXA
                                                                      MPLE.COM
  12 "STRMADMIN"."SOURCE_HNS"                    QUEUE                SPOKE1.EXA
                                                                      MPLE.COM
  13 "STRMADMIN"."SOURCE_HNS"=&gt;"STRMADMIN"."DEST PROPAGATION SENDER   SPOKE1.EXA
     INATION_SPOKE1"@HUB.EXAMPLE.COM                                  MPLE.COM  
  14 "STRMADMIN"."SOURCE_HNS"@HUB.EXAMPLE.COM=&gt;" PROPAGATION RECEIVER SPOKE1.EXA
     STRMADMIN"."DESTINATION_SPOKE1"                                  MPLE.COM
  15 APPLY_SPOKE1                                APPLY                SPOKE1.EXA
                                                                      MPLE.COM
  16 CAPTURE_HNS                                 CAPTURE              SPOKE1.EXA
                                                                      MPLE.COM
  17 "STRMADMIN"."DESTINATION_SPOKE2"            QUEUE                SPOKE2.EXA
                                                                      MPLE.COM
  18 "STRMADMIN"."SOURCE_HNS"                    QUEUE                SPOKE2.EXA
                                                                      MPLE.COM
  19 "STRMADMIN"."SOURCE_HNS"=&gt;"STRMADMIN"."DEST PROPAGATION SENDER   SPOKE2.EXA
     INATION_SPOKE2"@HUB.EXAMPLE.COM                                  MPLE.COM  
  20 "STRMADMIN"."SOURCE_HNS"@HUB.EXAMPLE.COM=&gt;" PROPAGATION RECEIVER SPOKE2.EXA
     STRMADMIN"."DESTINATION_SPOKE2"                                  MPLE.COM  
  21 APPLY_SPOKE2                                APPLY                SPOKE2.EXA
                                                                      MPLE.COM
  22 CAPTURE_HNS                                 CAPTURE              SPOKE2.EXA
                                                                      MPLE.COM
</pre><div class="infoboxnotealso" id="GUID-B10C6093-DCD0-4532-962B-34F6AE95F247__GUID-1002BE98-5289-451C-9B9F-96CD8A41B3D8">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-110E669C-6F57-449A-B11F-F54769A653C8">About the Oracle Streams Topology</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-7D29C099-B819-4999-A73D-AB83D0007302">Viewing Component-Level Statistics</a>"</span> for a query that shows performance statistics for each Oracle Streams component
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../strex/n-way-replication-example.html#STREX004"><span class="italic">Oracle Streams Extended Examples</span></a> for information about the n-way replication environment shown in the output
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STRMS868"></a><div class="props_rev_3"><a id="GUID-25FFCC35-DC80-4B41-BED5-B0A01190EBAC" name="GUID-25FFCC35-DC80-4B41-BED5-B0A01190EBAC"></a><h5 id="STRMS-GUID-25FFCC35-DC80-4B41-BED5-B0A01190EBAC" class="sect5"><span class="enumeration_section">23.6.1.3 </span>Viewing Each Stream Path in an Oracle Streams Topology
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can view the following information about the stream paths in an Oracle Streams topology:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The path ID. The Oracle Streams topology assigns an ID number to each stream path it identifies. The path ID is associated with each link in the path. For example, a single path ID can be associated with the following component links:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Capture process to queue</p>
                                    </li>
                                    <li>
                                       <p>Queue to propagation sender</p>
                                    </li>
                                    <li>
                                       <p>Propagation sender to propagation receiver</p>
                                    </li>
                                    <li>
                                       <p>Propagation receiver to queue</p>
                                    </li>
                                    <li>
                                       <p>Queue to apply process</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The source component ID. A source component is a component from which messages flow to another component.</p>
                              </li>
                              <li>
                                 <p>The name of the source component. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a>"</span> for information about how components are named in the query output.
                                 </p>
                              </li>
                              <li>
                                 <p>The destination component ID. A destination component receives messages from another component.</p>
                              </li>
                              <li>
                                 <p>The name of the destination component.</p>
                              </li>
                              <li>
                                 <p>The position in the stream path shows the location of a particular link in a path. For example, a position might be the first link in a path, the second link in a path, and so on.</p>
                              </li>
                           </ul>
                           <p>To display this information, run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN PATH_ID HEADING 'Path|ID' FORMAT 9999
COLUMN SOURCE_COMPONENT_ID HEADING 'Source|Component|ID' FORMAT 9999
COLUMN SOURCE_COMPONENT_NAME HEADING 'Source|Component|Name' FORMAT A20
COLUMN DESTINATION_COMPONENT_ID HEADING 'Dest|Component|ID' FORMAT 9999
COLUMN DESTINATION_COMPONENT_NAME HEADING 'Dest|Component|Name' FORMAT A15
COLUMN POSITION HEADING 'Position' FORMAT 9999
 
SELECT PATH_ID, 
       SOURCE_COMPONENT_ID, 
       SOURCE_COMPONENT_NAME,
       DESTINATION_COMPONENT_ID, 
       DESTINATION_COMPONENT_NAME,
       POSITION 
  FROM DBA_STREAMS_TP_COMPONENT_LINK
  ORDER BY PATH_ID, POSITION;
</pre><p>The following output shows the paths in the Oracle Streams topology for the components listed in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a>"</span>:
                           </p><pre class="oac_no_warn" dir="ltr">         Source Source                    Dest Dest                            
 Path Component Component            Component Component                        
   ID        ID Name                        ID Name            Position         
----- --------- -------------------- --------- --------------- --------         
    1        16 CAPTURE_HNS                 12 "STRMADMIN"."SO        1         
                                               URCE_HNS"                        
    1        12 "STRMADMIN"."SOURCE_        13 "STRMADMIN"."SO        2         
                HNS"                           URCE_HNS"=&gt;"STR                  
                                               MADMIN"."DESTIN                  
                                               ATION_SPOKE1"@H                  
                                               UB.EXAMPLE.COM                   
    1        13 "STRMADMIN"."SOURCE_         6 "STRMADMIN"."SO        3         
                HNS"=&gt;"STRMADMIN"."D           URCE_HNS"@SPOKE                  
                ESTINATION_SPOKE1"@H           1.EXAMPLE.COM=&gt;                  
                UB.EXAMPLE.COM                 "STRMADMIN"."DES                 
                                               TINATION_SPOKE1"                 
    1         6 "STRMADMIN"."SOURCE_         1 "STRMADMIN"."DE        4         
                HNS"@SPOKE1.EXAMPLE.           STINATION_SPOKE                  
                COM=&gt;"STRMADMIN"."DE           1"                               
                STINATION_SPOKE1"                                               
    1         1 "STRMADMIN"."DESTINA         8 APPLY_SPOKE1           5         
                TION_SPOKE1"                                                    
    2        22 CAPTURE_HNS                 18 "STRMADMIN"."SO        1         
                                               URCE_HNS"                        
    2        18 "STRMADMIN"."SOURCE_        19 "STRMADMIN"."SO        2         
                HNS"                           URCE_HNS"=&gt;"STR                  
                                               MADMIN"."DESTIN                  
                                               ATION_SPOKE2"@H                  
                                               UB.EXAMPLE.COM                   
    2        19 "STRMADMIN"."SOURCE_         7 "STRMADMIN"."SO        3         
                HNS"=&gt;"STRMADMIN"."D           URCE_HNS"@SPOKE                  
                ESTINATION_SPOKE2"@H           2.EXAMPLE.COM=&gt;                  
                UB.EXAMPLE.COM                 "STRMADMIN"."DES                 
                                               TINATION_SPOKE2"                 
    2         7 "STRMADMIN"."SOURCE_         2 "STRMADMIN"."DE        4         
                HNS"@SPOKE2.EXAMPLE.           STINATION_SPOKE                  
                COM=&gt;"STRMADMIN"."DE           2"                               
                STINATION_SPOKE2"                                               
    2         2 "STRMADMIN"."DESTINA         9 APPLY_SPOKE2           5         
                TION_SPOKE2"                                                    
    3        10 CAPTURE_HNS                  3 "STRMADMIN"."SO        1         
                                               URCE_HNS"                        
    3         3 "STRMADMIN"."SOURCE_         4 "STRMADMIN"."SO        2         
                HNS"                           URCE_HNS"=&gt;"STR                  
                                               MADMIN"."DESTIN                  
                                               ATION_SPOKE1"@S                  
                                               POKE1.EXAMPLE.CO                 
                                               M                                
    3         4 "STRMADMIN"."SOURCE_        14 "STRMADMIN"."SO        3         
                HNS"=&gt;"STRMADMIN"."D           URCE_HNS"@HUB.N                  
                ESTINATION_SPOKE1"@S           ET=&gt;"STRMADMIN"                  
                POKE1.EXAMPLE.COM              ."DESTINATION_S                  
                                               POKE1"                           
    3        14 "STRMADMIN"."SOURCE_        11 "STRMADMIN"."DE        4         
                HNS"@HUB.EXAMPLE.COM           STINATION_SPOKE                  
                =&gt;"STRMADMIN"."DESTI           1"                               
                NATION_SPOKE1"                                                  
    3        11 "STRMADMIN"."DESTINA        15 APPLY_SPOKE1           5         
                TION_SPOKE1"                                                    
    4        10 CAPTURE_HNS                  3 "STRMADMIN"."SO        1         
                                               URCE_HNS"                        
    4         3 "STRMADMIN"."SOURCE_         5 "STRMADMIN"."SO        2         
                HNS"                           URCE_HNS"=&gt;"STR                  
                                               MADMIN"."DESTIN                  
                                               ATION_SPOKE2"@S                  
                                               POKE2.EXAMPLE.C                  
                                               OM                               
    4         5 "STRMADMIN"."SOURCE_        20 "STRMADMIN"."SO        3         
                HNS"=&gt;"STRMADMIN"."D           URCE_HNS"@HUB.N                  
                ESTINATION_SPOKE2"@S           ET=&gt;"STRMADMIN"                  
                POKE2.EXAMPLE.COM              ."DESTINATION_S                  
                                               POKE2"                           
    4        20 "STRMADMIN"."SOURCE_        17 "STRMADMIN"."DE        4         
                HNS"@HUB.EXAMPLE.COM           STINATION_SPOKE                  
                =&gt;"STRMADMIN"."DESTI           2"                               
                NATION_SPOKE2"                                                  
    4        17 "STRMADMIN"."DESTINA        21 APPLY_SPOKE2           5         
                TION_SPOKE2"                                                    
</pre><div class="infoboxnotealso" id="GUID-25FFCC35-DC80-4B41-BED5-B0A01190EBAC__GUID-5951E48F-18ED-4467-BE26-2F0A379F8CAD">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD">About Stream Paths in an Oracle Streams Topology</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-9670597A-A7F9-42DF-AEF1-94D87EFAE162">Viewing Statistics for the Stream Paths in an Oracle Streams Environment</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="STRMS869"></a><div class="props_rev_3"><a id="GUID-3D617858-A152-4020-90BD-E99D91B6EEF0" name="GUID-3D617858-A152-4020-90BD-E99D91B6EEF0"></a><h4 id="STRMS-GUID-3D617858-A152-4020-90BD-E99D91B6EEF0" class="sect4"><span class="enumeration_section">23.6.2 </span>Viewing Performance Statistics for Oracle Streams Components
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package and the Oracle Streams topology views comprise the Oracle Streams Performance Advisor. The Oracle Streams topology views enable you to display and analyze performance statistics for the Oracle Streams components in your environment.
                     </p>
                     <p>To view performance statistics for Oracle Streams components, you must first gather information about the Oracle Streams environment using the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a>"</span>.
                     </p>
                     <p>The following sections explain how to view performance statistics for Oracle Streams components:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-3CE3C0C8-4869-42B5-B0E7-A58D9E343478">Checking for Bottleneck Components in the Oracle Streams Topology</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-7D29C099-B819-4999-A73D-AB83D0007302">Viewing Component-Level Statistics</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE">Viewing Session-Level Statistics</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-9670597A-A7F9-42DF-AEF1-94D87EFAE162">Viewing Statistics for the Stream Paths in an Oracle Streams Environment</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-3D617858-A152-4020-90BD-E99D91B6EEF0__GUID-924A0C02-48E4-499B-8B89-8277AFC239B8">
                        <p class="notep1">Note:</p>
                        <p>The performance of Oracle Streams components depends on several factors, including the computer equipment used in the environment and the speed of the network.</p>
                     </div>
                  </div><a id="STRMS870"></a><div class="props_rev_3"><a id="GUID-3CE3C0C8-4869-42B5-B0E7-A58D9E343478" name="GUID-3CE3C0C8-4869-42B5-B0E7-A58D9E343478"></a><h5 id="STRMS-GUID-3CE3C0C8-4869-42B5-B0E7-A58D9E343478" class="sect5"><span class="enumeration_section">23.6.2.1 </span>Checking for Bottleneck Components in the Oracle Streams Topology
                     </h5>
                     <div>
                        <div class="section">
                           <p>A bottleneck component is the busiest component or the component with the least amount of idle time. You can view the following information about the bottleneck components in an Oracle Streams environment:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The path ID of the path that includes the component.</p>
                              </li>
                              <li>
                                 <p>The component ID for each Oracle Streams component. The Oracle Streams topology assigns an ID number to each component and uses the number to track information about the component and about the stream path that flows through the component.</p>
                              </li>
                              <li>
                                 <p>The name of the Oracle Streams component. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a>"</span> for information about how components are named in the query output.
                                 </p>
                              </li>
                              <li>
                                 <p>The type of the Oracle Streams component. The following types are possible:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">CAPTURE</code> for <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a>es
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">QUEUE</code> for <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a>s
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code> for <a href="strms_glossary.html#GUID-13E35632-96B9-4A58-8990-EF95ECE9746E"><span class="xrefglossterm">propagation</span></a> senders
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">RECEIVER</code> for propagation receivers
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPLY</code> for <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The database that contains the component</p>
                              </li>
                           </ul>
                           <p>Run the following query to check for bottleneck components in your Oracle Streams environment:</p><pre class="oac_no_warn" dir="ltr">COLUMN PATH_ID HEADING 'Path ID' FORMAT 999
COLUMN COMPONENT_ID HEADING 'Component ID' FORMAT 999
COLUMN COMPONENT_NAME HEADING 'Name' FORMAT A20
COLUMN COMPONENT_TYPE HEADING 'Type' FORMAT A20
COLUMN COMPONENT_DB HEADING 'Database' FORMAT A15
 
SELECT PATH_ID,
       COMPONENT_ID, 
       COMPONENT_NAME, 
       COMPONENT_TYPE, 
       COMPONENT_DB
   FROM DBA_STREAMS_TP_PATH_BOTTLENECK
   WHERE BOTTLENECK_IDENTIFIED='YES' AND
         ADVISOR_RUN_ID=2
   ORDER BY PATH_ID, COMPONENT_ID;
</pre><p>This example uses <code class="codeph">2</code> for the <code class="codeph">ADVISOR_RUN_ID</code> in the <code class="codeph">WHERE</code> clause. Substitute the advisor run ID for the advisor run you want to query. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a>"</span> for information about determining the <code class="codeph">ADVISOR_RUN_ID</code>.
                           </p>
                           <p>The following output shows the bottleneck components for the components listed in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a>"</span>:
                           </p><pre class="oac_no_warn" dir="ltr">Path ID Component ID Name                 Type                 Database        
------- ------------ -------------------- -------------------- ---------------  
      1            6 "STRMADMIN"."SOURCE_ PROPAGATION RECEIVER HUB.EXAMPLE.COM  
                     HNS"@SPOKE1.EXAMPLE.                                       
                     COM=&gt;"STRMADMIN"."DE                                       
                     STINATION_SPOKE1"                                          
      3           10 CAPTURE_HNS          CAPTURE              HUB.EXAMPLE.COM  
      4           10 CAPTURE_HNS          CAPTURE              HUB.EXAMPLE.COM  
</pre><p>If this query returns no results, then the Oracle Streams Performance Advisor did not identify any bottleneck components in your environment. However, if this query returns one or more bottleneck components, then check the status of these components. If they are disabled, then you can enable them. If the components are enabled, then you can examine the components to see if they can be modified to perform better.</p>
                           <p>In some cases, the Oracle Streams Performance Advisor cannot determine whether a component is a bottleneck component. To view these components, set <code class="codeph">BOTTLENECK_IDENTIFIED</code> to <code class="codeph">'NO'</code> when you query the <code class="codeph">DBA_STREAMS_TP_PATH_BOTTLENECK</code> view. The output for the <code class="codeph">ADVISOR_RUN_REASON</code> column shows why the Oracle Streams Performance Advisor could not determine whether the component is a bottleneck component. The following reasons can be specified in the <code class="codeph">ADVISOR_RUN_REASON</code> column output:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">PRE-11.1</code> <code class="codeph">DATABASE</code> <code class="codeph">EXISTS</code> means that the component is in a stream path that includes a database before Oracle Database 11<span class="italic">g</span> Release 1. Bottleneck analysis is not performed on these components. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DIAGNOSTIC</code> <code class="codeph">PACK</code> <code class="codeph">REQUIRED</code> means that the component is in a stream path that includes a database that does not have the Oracle Diagnostics Pack. Bottleneck analysis is not performed on these components. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NO</code> <code class="codeph">BOTTLENECK</code> <code class="codeph">IDENTIFIED</code> means that either no bottleneck was identified in a stream path or that there might be more than one bottleneck component in the stream path.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-3CE3C0C8-4869-42B5-B0E7-A58D9E343478__GUID-E29B2140-E17D-4642-BB35-B05C144F0373">
                              <p class="notep1">See Also:</p>
                              <p><a href="identifying-problems-in-an-oracle-streams-environment.html#GUID-AA72B004-1B11-4851-978B-33C1EA401CF9"> Identifying Problems in an Oracle Streams Environment</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STRMS872"></a><a id="STRMS871"></a><div class="props_rev_3"><a id="GUID-7D29C099-B819-4999-A73D-AB83D0007302" name="GUID-7D29C099-B819-4999-A73D-AB83D0007302"></a><h5 id="STRMS-GUID-7D29C099-B819-4999-A73D-AB83D0007302" class="sect5"><span class="enumeration_section">23.6.2.2 </span>Viewing Component-Level Statistics
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can view statistics for the Oracle Streams components in the Oracle Streams topology. The query in this section displays the following information for each component:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The ID of the path to which the component belongs</p>
                              </li>
                              <li>
                                 <p>The name of the Oracle Streams component</p>
                              </li>
                              <li>
                                 <p>The type of the Oracle Streams component. The following types are possible:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">CAPTURE</code> for <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a>es
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">QUEUE</code> for <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a>s
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code> for <a href="strms_glossary.html#GUID-13E35632-96B9-4A58-8990-EF95ECE9746E"><span class="xrefglossterm">propagation</span></a> senders
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">RECEIVER</code> for propagation receivers
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPLY</code> for <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The statistic that was gathered for the component</p>
                              </li>
                              <li>
                                 <p>The value and unit of the statistic. For example, a <code class="codeph">LATENCY</code> statistic shows a number for the value and <code class="codeph">SECONDS</code> for the unit. A <code class="codeph">TRANSACTION</code> <code class="codeph">APPLY</code> <code class="codeph">RATE</code> statistic shows a number for the value and <code class="codeph">TRANSACTIONS</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code> for the unit.
                                 </p>
                              </li>
                           </ul>
                           <p>The <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package gathers the statistics returned by the query in this section. Therefore, the statistics returned by the query were the current statistics when the procedure was run. The statistics are not updated automatically.
                           </p>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-7D29C099-B819-4999-A73D-AB83D0007302__BIHGAGDG" title="This table provides information about component-level statistics for Oracle Streams components, including for each statistic the type of component, the statistic, the unit, and a description.">Table 23-3</a> describes each of the statistics that can be returned by the query in this section:
                           </p>
                           <div class="tblformalwide" id="GUID-7D29C099-B819-4999-A73D-AB83D0007302__BIHGAGDG">
                              <p class="titleintable">Table 23-3 Component-Level Statistics for Oracle Streams Components</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Component-Level Statistics for Oracle Streams Components" summary="This table provides information about component-level statistics for Oracle Streams components, including for each statistic the type of component, the statistic, the unit, and a description." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="23%" id="d106681e4143">Component Type</th>
                                       <th align="left" valign="bottom" width="16%" id="d106681e4146">Statistic</th>
                                       <th align="left" valign="bottom" width="16%" id="d106681e4149">Unit</th>
                                       <th align="left" valign="bottom" width="45%" id="d106681e4152">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4157" headers="d106681e4143 ">
                                          <p><code class="codeph">CAPTURE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4157 d106681e4146 ">
                                          <p><code class="codeph">CAPTURE</code> <code class="codeph">RATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4157 d106681e4149 ">
                                          <p><code class="codeph">MESSAGES</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4157 d106681e4152 ">
                                          <p>The average number of database changes in the redo log scanned by the capture process each second.</p>
                                          <p>A capture process captures and enqueues the scanned changes that satisfy its <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>s.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4188" headers="d106681e4143 ">
                                          <p><code class="codeph">CAPTURE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4188 d106681e4146 ">
                                          <p><code class="codeph">ENQUEUE</code> <code class="codeph">RATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4188 d106681e4149 ">
                                          <p><code class="codeph">MESSAGES</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4188 d106681e4152 ">
                                          <p>The average number of logical change records (<a href="strms_glossary.html#GUID-43A45807-D91D-43A2-89C8-8DEBCEF70770"><span class="xrefglossterm">LCR</span></a>s) enqueued by the capture process each second.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4217" headers="d106681e4143 ">
                                          <p><code class="codeph">CAPTURE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4217 d106681e4146 ">
                                          <p><code class="codeph">LATENCY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4217 d106681e4149 ">
                                          <p><code class="codeph">SECONDS</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4217 d106681e4152 ">
                                          <p>The amount of time between when the last redo entry became available for the capture process and the time when the last redo entry scanned by the capture process was recorded in the redo log.</p>
                                          <p>The purpose of the statistic is to show the amount of time between when a change is recorded in the redo log and when the redo record is scanned by the capture process.</p>
                                          <p>The capture process might or might not enqueue a scanned change. A capture process only enqueues a change if the change satisfies its rule sets.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4237" headers="d106681e4143 ">
                                          <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4237 d106681e4146 ">
                                          <p><code class="codeph">SEND</code> <code class="codeph">RATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4237 d106681e4149 ">
                                          <p><code class="codeph">MESSAGES</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4237 d106681e4152 ">
                                          <p>The average number of <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s sent each second by the propagation sender.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4269" headers="d106681e4143 ">
                                          <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4269 d106681e4146 ">
                                          <p><code class="codeph">BANDWIDTH</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4269 d106681e4149 ">
                                          <p><code class="codeph">BYTES</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4269 d106681e4152 ">
                                          <p>The average number of bytes sent each second by the propagation sender.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4294" headers="d106681e4143 ">
                                          <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4294 d106681e4146 ">
                                          <p><code class="codeph">LATENCY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4294 d106681e4149 ">
                                          <p><code class="codeph">SECONDS</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4294 d106681e4152 ">
                                          <p>The amount of time between when a message was created at the source database and when the message was sent to the <a href="strms_glossary.html#GUID-584772DA-C868-4F6B-9B7F-9E665F2D6F85"><span class="xrefglossterm">destination queue</span></a> by the propagation sender.
                                          </p>
                                          <p>The value shown is for a single message that was sent from the source queue to the destination queue by the propagation sender. This message was the last message sent by the propagation sender when the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure was run.
                                          </p>
                                          <p>Depending on the type of message sent by the propagation, message creation time is one of the following:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>For <a href="strms_glossary.html#GUID-0D2E5DAF-804E-4089-9E0E-987C96F59706"><span class="xrefglossterm">captured LCR</span></a>s, the time when the redo entry for the database change was recorded
                                                </p>
                                             </li>
                                             <li>
                                                <p>For <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a>s, the time when the LCR was constructed
                                                </p>
                                             </li>
                                             <li>
                                                <p>For <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s, the time when the message was enqueued
                                                </p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4346" headers="d106681e4143 ">
                                          <p><code class="codeph">APPLY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4346 d106681e4146 ">
                                          <p><code class="codeph">MESSAGE</code> <code class="codeph">APPLY</code> <code class="codeph">RATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4346 d106681e4149 ">
                                          <p><code class="codeph">MESSAGES</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4346 d106681e4152 ">
                                          <p>The average number of messages applied each second by the apply process.</p>
                                          <p>A captured LCR or persistent LCR can be applied in one of the following ways:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>The apply process makes the change encapsulated in the LCR to a database object.</p>
                                             </li>
                                             <li>
                                                <p>The apply process passes the LCR to an <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>.
                                                </p>
                                             </li>
                                             <li>
                                                <p>If the LCR raises an error, then the apply process sends the LCR to the error queue.</p>
                                             </li>
                                          </ul>
                                          <p>A persistent user message can be applied in one of the following ways:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>The apply process sends the message to a <a href="strms_glossary.html#GUID-28E08694-4A8E-4D30-A805-876E82C4906A"><span class="xrefglossterm">message handler</span></a>.
                                                </p>
                                             </li>
                                             <li>
                                                <p>If the LCR raises an error, then the apply process sends the message to the error queue.</p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4403" headers="d106681e4143 ">
                                          <p><code class="codeph">APPLY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4403 d106681e4146 ">
                                          <p><code class="codeph">TRANSACTION</code> <code class="codeph">APPLY</code> <code class="codeph">RATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4403 d106681e4149 ">
                                          <p><code class="codeph">TRANSACTIONS</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4403 d106681e4152 ">
                                          <p>The average number of transactions applied by the apply process each second. Transactions typically include multiple messages.</p>
                                          <p>A transaction that includes captured LCRs or persistent LCRs can be applied in one of the following ways:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>The apply process makes all of the changes in the transaction and commits the transaction.</p>
                                             </li>
                                             <li>
                                                <p>The apply process passes all of the LCRs in the transaction to an apply handler.</p>
                                             </li>
                                             <li>
                                                <p>If the LCR raises an error, then the apply process sends the transaction and all of the LCRs in the transaction to the error queue.</p>
                                             </li>
                                          </ul>
                                          <p>A transaction that includes persistent user messages can be applied in one of the following ways:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>The apply process passes all of the messages in the transaction to a message handler.</p>
                                             </li>
                                             <li>
                                                <p>If the LCR raises an error, then the apply process sends all of the messages in the transaction to the error queue.</p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4452" headers="d106681e4143 ">
                                          <p><code class="codeph">APPLY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4452 d106681e4146 ">
                                          <p><code class="codeph">LATENCY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4452 d106681e4149 ">
                                          <p><code class="codeph">SECONDS</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4452 d106681e4152 ">
                                          <p>For apply processes, the amount of time between when the message was created at a source database and when the message was applied by the apply process at the destination database.</p>
                                          <p>The value shown is for a single message that was applied by the apply process. This message was the last message applied when the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure was run.
                                          </p>
                                          <p>Depending on the type of message applied, message creation time is one of the following:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>For captured LCRs, the time when the redo entry for the database change was recorded</p>
                                             </li>
                                             <li>
                                                <p>For persistent LCRs, the time when the LCR was constructed</p>
                                             </li>
                                             <li>
                                                <p>For user messages, the time when the message was enqueued</p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4485" headers="d106681e4143 ">
                                          <p><code class="codeph">QUEUE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4485 d106681e4146 ">
                                          <p><code class="codeph">ENQUEUE</code> <code class="codeph">RATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4485 d106681e4149 ">
                                          <p><code class="codeph">MESSAGES</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4485 d106681e4152 ">
                                          <p>The average number of messages enqueued into the queue each second.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4510" headers="d106681e4143 ">
                                          <p><code class="codeph">QUEUE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4510 d106681e4146 ">
                                          <p><code class="codeph">SPILL</code> <code class="codeph">RATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4510 d106681e4149 ">
                                          <p><code class="codeph">MESSAGES</code> <code class="codeph">PER</code> <code class="codeph">SECOND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4510 d106681e4152 ">
                                          <p>The average number of messages that spilled from the <a href="strms_glossary.html#GUID-9ABDA00F-83A1-435F-8E93-315D3D05E4B7"><span class="xrefglossterm">buffered queue</span></a> to the queue table each second.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4540" headers="d106681e4143 ">
                                          <p><code class="codeph">QUEUE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4540 d106681e4146 ">
                                          <p><code class="codeph">CURRENT</code> <code class="codeph">QUEUE</code> <code class="codeph">SIZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4540 d106681e4149 ">
                                          <p><code class="codeph">NUMBER</code> <code class="codeph">OF</code> <code class="codeph">MESSAGES</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4540 d106681e4152 ">
                                          <p>The number of messages in the queue when the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure was run.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d106681e4571" headers="d106681e4143 ">
                                          <p><code class="codeph">CAPTURE</code>, <code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code>, <code class="codeph">PROPAGATION</code> <code class="codeph">RECEIVER</code>, and <code class="codeph">APPLY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4571 d106681e4146 ">
                                          <p><code class="codeph">EVENT</code> (Top wait event)
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e4571 d106681e4149 ">
                                          <p><code class="codeph">PERCENT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="45%" headers="d106681e4571 d106681e4152 ">
                                          <p>The percentage of time that the Oracle Streams component spent waiting because of a wait event.</p>
                                          <p>The Oracle Streams Performance Advisor only gathers information about the top three events for each component.</p>
                                          <p>For example, a capture process might wait for a redo log file to become available.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>The following are general considerations for these performance statistics:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Regarding rate, bandwidth, and event statistics, the time period is calculated as the time difference between the two snapshots used by the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the same user session. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A">About the Information Gathered by the Oracle Streams Performance Advisor</a>"</span> for information about the snapshots. When a user session ends, the rate, bandwidth, and event statistics are purged.
                                 </p>
                              </li>
                              <li>
                                 <p>When a latency statistic is -1 seconds, the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure could not gather statistics for the component when it was run. In most cases, this result indicates that the component was disabled when the procedure was run. For example, if the <code class="codeph">LATENCY</code> statistic for an apply process is -1, then the component was probably disabled when the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure was run.
                                 </p>
                              </li>
                           </ul>
                           <p>To display performance statistics for the components in an Oracle Streams topology, run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN PATH_ID HEADING 'Path|ID' FORMAT 999
COLUMN COMPONENT_ID HEADING 'Component|ID' FORMAT 999
COLUMN COMPONENT_NAME HEADING 'Name' FORMAT A20
COLUMN COMPONENT_TYPE HEADING 'Type' FORMAT A12
COLUMN STATISTIC_NAME HEADING 'Statistic' FORMAT A15
COLUMN STATISTIC_VALUE HEADING 'Value' FORMAT 99999999999.99
COLUMN STATISTIC_UNIT HEADING 'Unit' FORMAT A15 

SELECT DISTINCT
       cp.PATH_ID,
       cs.COMPONENT_ID,
       cs.COMPONENT_NAME,
       cs.COMPONENT_TYPE,
       cs.STATISTIC_NAME,
       cs.STATISTIC_VALUE,
       cs.STATISTIC_UNIT
   FROM DBA_STREAMS_TP_COMPONENT_STAT  cs,
        (SELECT PATH_ID, SOURCE_COMPONENT_ID AS COMPONENT_ID
        FROM DBA_STREAMS_TP_COMPONENT_LINK
        UNION
        SELECT PATH_ID, DESTINATION_COMPONENT_ID AS COMPONENT_ID
        FROM DBA_STREAMS_TP_COMPONENT_LINK) cp
   WHERE cs.ADVISOR_RUN_ID = 2 AND
         cs.SESSION_ID IS NULL AND
         cs.SESSION_SERIAL# IS NULL AND
         cs.COMPONENT_ID = cp.COMPONENT_ID
   ORDER BY PATH_ID, COMPONENT_ID, COMPONENT_NAME, COMPONENT_TYPE, STATISTIC_NAME;
</pre><p>This example uses <code class="codeph">2</code> for the <code class="codeph">ADVISOR_RUN_ID</code> in the <code class="codeph">WHERE</code> clause. Substitute the advisor run ID for the advisor run you want to query. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a>"</span> for information about determining the <code class="codeph">ADVISOR_RUN_ID</code>.
                           </p>
                           <p>The following output shows a partial list of the performance statistics for the components listed in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a>"</span>. Specifically, the following output shows performance statistics for the components in stream path 1 and stream path 3:
                           </p><pre class="oac_no_warn" dir="ltr">Path Component                                                                                  
  ID         ID Name                 Type         Statistic                 Value Unit           
---- ---------- -------------------- ------------ --------------- --------------- ---------------
   1          1 "STRMADMIN"."DESTINA QUEUE        CURRENT QUEUE S             .00 NUMBER OF MESSA
                TION_SPOKE1"                      IZE                             GES            
   1          1 "STRMADMIN"."DESTINA QUEUE        ENQUEUE RATE            2573.21 MESSAGES PER SE
                TION_SPOKE1"                                                      COND           
   1          1 "STRMADMIN"."DESTINA QUEUE        SPILL RATE                  .00 MESSAGES PER SE
                TION_SPOKE1"                                                      COND           
   1          6 "STRMADMIN"."SOURCE_ PROPAGATION  EVENT: CPU + Wa           32.55 PERCENT        
                HNS"@SPOKE1.EXAMPLE. RECEIVER     it for CPU                                     
                COM=&gt;"STRMADMIN"."DE                                                             
                STINATION_SPOKE1"                                                                
   1          6 "STRMADMIN"."SOURCE_ PROPAGATION  EVENT: SQL*Net            23.62 PERCENT        
                HNS"@SPOKE1.EXAMPLE. RECEIVER     more data from                                 
                COM=&gt;"STRMADMIN"."DE              client                                         
                STINATION_SPOKE1"                                                                
   1          6 "STRMADMIN"."SOURCE_ PROPAGATION  EVENT: latch: r            2.10 PERCENT        
                HNS"@SPOKE1.EXAMPLE. RECEIVER     ow cache object                                
                COM=&gt;"STRMADMIN"."DE              s                                              
                STINATION_SPOKE1"                                                                
   1          8 APPLY_SPOKE1         APPLY        EVENT: CPU + Wa           23.10 PERCENT        
                                                  it for CPU                                     
   1          8 APPLY_SPOKE1         APPLY        EVENT: latch: r            1.31 PERCENT        
                                                  ow cache object                                
                                                  s                                              
   1          8 APPLY_SPOKE1         APPLY        EVENT: latch: s            1.57 PERCENT        
                                                  hared pool                                     
   1          8 APPLY_SPOKE1         APPLY        LATENCY                    2.13 SECONDS        
   1          8 APPLY_SPOKE1         APPLY        MESSAGE APPLY R        10004.00 MESSAGES PER SE
                                                  ATE                             COND           
   1          8 APPLY_SPOKE1         APPLY        TRANSACTION APP          100.00 TRANSACTIONS PE
                                                  LY RATE                         R SECOND       
   1         12 "STRMADMIN"."SOURCE_ QUEUE        CURRENT QUEUE S             .00 NUMBER OF MESSA
                HNS"                              IZE                             GES            
   1         12 "STRMADMIN"."SOURCE_ QUEUE        ENQUEUE RATE            9932.00 MESSAGES PER SE
                HNS"                                                              COND           
                                                                                                 
   1         12 "STRMADMIN"."SOURCE_ QUEUE        SPILL RATE                  .00 MESSAGES PER SE
                HNS"                                                              COND           
   1         13 "STRMADMIN"."SOURCE_ PROPAGATION  BANDWIDTH              32992.96 BYTES PER SECON
                HNS"=&gt;"STRMADMIN"."D SENDER                                       D              
                ESTINATION_SPOKE1"@H                                                             
                UB.EXAMPLE.COM                                                                   
   1         13 "STRMADMIN"."SOURCE_ PROPAGATION  EVENT: CPU + Wa           35.96 PERCENT        
                HNS"=&gt;"STRMADMIN"."D SENDER       it for CPU                                     
                ESTINATION_SPOKE1"@H                                                             
                UB.EXAMPLE.COM                                                                   
   1         13 "STRMADMIN"."SOURCE_ PROPAGATION  EVENT: SQL*Net              .26 PERCENT        
                HNS"=&gt;"STRMADMIN"."D SENDER       message to dbli                                
                ESTINATION_SPOKE1"@H              nk                                             
                UB.EXAMPLE.COM                                                                   
   1         13 "STRMADMIN"."SOURCE_ PROPAGATION  EVENT: latch: r             .26 PERCENT        
                HNS"=&gt;"STRMADMIN"."D SENDER       ow cache object                                
                ESTINATION_SPOKE1"@H              s                                              
                UB.EXAMPLE.COM                                                                   
   1         13 "STRMADMIN"."SOURCE_ PROPAGATION  LATENCY                    4.00 SECONDS        
                HNS"=&gt;"STRMADMIN"."D SENDER                                                      
                ESTINATION_SPOKE1"@H                                                             
                UB.EXAMPLE.COM                                                                   
   1         13 "STRMADMIN"."SOURCE_ PROPAGATION  SEND RATE               2568.00 MESSAGES PER SE
                HNS"=&gt;"STRMADMIN"."D SENDER                                       COND           
                ESTINATION_SPOKE1"@H                                                             
                UB.EXAMPLE.COM                                                                   
   1         16 CAPTURE_HNS          CAPTURE      CAPTURE RATE           10464.00 MESSAGES PER SE
                                                                                  COND           
   1         16 CAPTURE_HNS          CAPTURE      ENQUEUE RATE           10002.00 MESSAGES PER SE
                                                                                  COND           
   1         16 CAPTURE_HNS          CAPTURE      EVENT: CPU + Wa           11.02 PERCENT        
                                                  it for CPU                                     
   1         16 CAPTURE_HNS          CAPTURE      EVENT: CPU + Wa           35.96 PERCENT        
                                                  it for CPU                                     
   1         16 CAPTURE_HNS          CAPTURE      EVENT: SQL*Net             5.51 PERCENT        
                                                  message from db                                
                                                  link                                           
   1         16 CAPTURE_HNS          CAPTURE      LATENCY                    2.65 SECONDS        
.
.
.
</pre><div class="infoboxnote" id="GUID-7D29C099-B819-4999-A73D-AB83D0007302__GUID-86DEABB8-B7C6-49DF-B290-8E7C79442D9F">
                              <p class="notep1">Note:</p>
                              <p>This output is for illustrative purposes only. Actual performance characteristics vary depending on individual configurations and conditions.</p>
                           </div>
                           <p>You can analyze this output along with the output for the queries in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a>"</span> and <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-25FFCC35-DC80-4B41-BED5-B0A01190EBAC">Viewing Each Stream Path in an Oracle Streams Topology</a>"</span>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-7D29C099-B819-4999-A73D-AB83D0007302__GUID-DD11F531-874E-4540-843F-571552E1DFDD">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-110E669C-6F57-449A-B11F-F54769A653C8">About the Oracle Streams Topology</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a>"</span> for information about running the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure to gather statistics
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360">Message Processing Options for an Apply Process</a>"</span> for information about apply handlers
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-0996F5C0-F684-4495-A20E-02FD995FDAD8">The Error Queue</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STRMS874"></a><a id="STRMS873"></a><div class="props_rev_3"><a id="GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE" name="GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE"></a><h5 id="STRMS-GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE" class="sect5"><span class="enumeration_section">23.6.2.3 </span>Viewing Session-Level Statistics
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can view session-level statistics for the Oracle Streams components. The query in this section displays the following information for each session-level statistic:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The name of the Oracle Streams component</p>
                              </li>
                              <li>
                                 <p>The type of the Oracle Streams component. The following types are possible:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">CAPTURE</code> for <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a>es
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code> for <a href="strms_glossary.html#GUID-13E35632-96B9-4A58-8990-EF95ECE9746E"><span class="xrefglossterm">propagation</span></a> senders
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">RECEIVER</code> for propagation receivers
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPLY</code> for <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The type of the subcomponent. Only capture processes, apply processes have subcomponents.</p>
                                 <p>The following subcomponent types are possible for capture processes:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">LOGMINER</code> <code class="codeph">READER</code> for a builder server of a capture process
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LOGMINER</code> <code class="codeph">PREPARER</code> for a preparer server of a capture process
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LOGMINER</code> <code class="codeph">BUILDER</code> for a reader server of a capture process
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CAPTURE</code> <code class="codeph">SESSION</code> for a capture process session
                                       </p>
                                    </li>
                                 </ul>
                                 <p>The following subcomponent types are possible for apply processes:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER+RECEIVER</code> for sending LCRs from a capture process directly to an apply process in a combined capture and apply optimization
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPLY</code> <code class="codeph">READER</code> for a reader server
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPLY</code> <code class="codeph">COORDINATOR</code> for a coordinator process
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPLY</code> <code class="codeph">SERVER</code> for a reader server
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The statistic that was gathered for the component</p>
                              </li>
                              <li>
                                 <p>The value and unit of the statistic. Session-level statistics show <code class="codeph">PERCENT</code> for the unit. The value is the percentage of time spent either <code class="codeph">IDLE</code>, paused for <code class="codeph">FLOW</code> <code class="codeph">CONTROL</code>, or waiting for an <code class="codeph">EVENT</code>.
                                 </p>
                              </li>
                           </ul>
                           <p>The <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the <code class="codeph">DBMS_STREAMS_ADVISOR_ADM</code> package gathers the statistics returned by the query in this section. Therefore, the statistics returned by the query were the current statistics when the procedure was run. The statistics are not updated automatically.
                           </p>
                           <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE__BIHDIIAF" title="This table provides information about session-level statistics for Oracle Streams subcomponents, including for each statistic the type of subcomponent, the statistic, the unit, and a description.">Table 23-4</a> describes each of the statistics that can be returned by the query in this section:
                           </p>
                           <div class="tblformalwide" id="GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE__BIHDIIAF">
                              <p class="titleintable">Table 23-4 Session-Level Statistics for Oracle Streams Components</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Session-Level Statistics for Oracle Streams Components" summary="This table provides information about session-level statistics for Oracle Streams subcomponents, including for each statistic the type of subcomponent, the statistic, the unit, and a description." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="16%" id="d106681e5018">Statistic</th>
                                       <th align="left" valign="bottom" width="16%" id="d106681e5021">Unit</th>
                                       <th align="left" valign="bottom" width="69%" id="d106681e5024">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d106681e5029" headers="d106681e5018 ">
                                          <p><code class="codeph">IDLE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e5029 d106681e5021 ">
                                          <p><code class="codeph">PERCENT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d106681e5029 d106681e5024 ">
                                          <p>The percentage of time that the session spent idle. When a session is idle, it is not performing any work.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d106681e5041" headers="d106681e5018 ">
                                          <p><code class="codeph">FLOW</code> <code class="codeph">CONTROL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e5041 d106681e5021 ">
                                          <p><code class="codeph">PERCENT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d106681e5041 d106681e5024 ">
                                          <p>The percentage of time that the session was paused for flow control. See <span class="q">"<a href="oracle-streams-information-capture.html#GUID-6EFCAFE0-E325-4C9F-B9A7-5F9493344DFC">Capture Process States</a>"</span> for information about flow control.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d106681e5061" headers="d106681e5018 ">
                                          <p><code class="codeph">EVENT</code> (Top wait event)
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d106681e5061 d106681e5021 ">
                                          <p><code class="codeph">PERCENT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d106681e5061 d106681e5024 ">
                                          <p>The percentage of time that the session spent waiting because of a wait event.</p>
                                          <p>The Oracle Streams Performance Advisor only gathers information about the top three events for each session.</p>
                                          <p>For example, an apply server might wait for a dependent transaction to be applied before applying its transaction.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>Regarding flow control and event statistics, the time period is calculated as the time difference between the two snapshots used by the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the same user session. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A">About the Information Gathered by the Oracle Streams Performance Advisor</a>"</span> for information about the snapshots. When a user session ends, the flow control and event statistics are purged.
                           </p>
                           <p>To display session-level performance statistics for the components in an Oracle Streams topology, run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN PATH_ID HEADING 'Path|ID' FORMAT 999
COLUMN COMPONENT_ID HEADING 'Component|ID' FORMAT 999
COLUMN COMPONENT_NAME HEADING 'Component|Name' FORMAT A20
COLUMN COMPONENT_TYPE HEADING 'Component|Type' FORMAT A10
COLUMN SUB_COMPONENT_TYPE HEADING 'Subcomponent|Type' FORMAT A17
COLUMN STATISTIC_NAME HEADING 'Statistic' FORMAT A15
COLUMN STATISTIC_VALUE HEADING 'Value' FORMAT 999.99
COLUMN STATISTIC_UNIT HEADING 'Unit' FORMAT A7
 
SELECT DISTINCT
       cp.PATH_ID,
       cs.COMPONENT_ID,
       cs.COMPONENT_NAME,
       cs.COMPONENT_TYPE,
       cs.SUB_COMPONENT_TYPE,
       cs.STATISTIC_NAME,
       cs.STATISTIC_VALUE,
       cs.STATISTIC_UNIT
   FROM DBA_STREAMS_TP_COMPONENT_STAT  cs,
        (SELECT PATH_ID, SOURCE_COMPONENT_ID AS COMPONENT_ID
        FROM DBA_STREAMS_TP_COMPONENT_LINK
        UNION
        SELECT PATH_ID, DESTINATION_COMPONENT_ID AS COMPONENT_ID
        FROM DBA_STREAMS_TP_COMPONENT_LINK) cp
   WHERE cs.ADVISOR_RUN_ID=2 AND
         cs.SESSION_ID IS NOT NULL AND
         cs.SESSION_SERIAL# IS NOT NULL AND
         cs.COMPONENT_ID = cp.COMPONENT_ID
   ORDER BY PATH_ID, COMPONENT_ID, COMPONENT_NAME, COMPONENT_TYPE, STATISTIC_NAME;
</pre><p>This example uses <code class="codeph">2</code> for the <code class="codeph">ADVISOR_RUN_ID</code> in the <code class="codeph">WHERE</code> clause. Substitute the advisor run ID for the advisor run you want to query. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a>"</span> for information about determining the <code class="codeph">ADVISOR_RUN_ID</code>.
                           </p>
                           <p>The following output shows a partial list of the session-level performance statistics for the components listed in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B10C6093-DCD0-4532-962B-34F6AE95F247">Viewing the Oracle Streams Components at Each Database</a>"</span>. Specifically, the following output shows session-level performance statistics for the components in stream path 1 and stream path 3:
                           </p><pre class="oac_no_warn" dir="ltr">Path Component Component            Component  Subcomponent                                     
  ID        ID Name                 Type       Type              Statistic         Value Unit    
---- --------- -------------------- ---------- ----------------- --------------- ------- ------- 
   1         6 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: CPU + Wa   32.55 PERCENT 
               HNS"@SPOKE1.EXAMPLE. N RECEIVER                   it for CPU                      
               COM=&gt;"STRMADMIN"."DE                                                              
               STINATIO N_SPOKE1"                                                                
   1         6 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: SQL*Net    23.62 PERCENT 
               HNS"@SPOKE1.EXAMPLE. N RECEIVER                   more data from                  
               COM=&gt;"STRMADMIN"."DE                              client                          
               STINATION_SPOKE1"                                                                 
   1         6 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: latch: r    2.10 PERCENT 
               HNS"@SPOKE1.EXAMPLE. N RECEIVER                   ow cache object                 
               COM=&gt;"STRMADMIN"."DE                              s                               
               STINATION_SPOKE1"                                                                 
   1         6 "STRMADMIN"."SOURCE_ PROPAGATIO                   FLOW CONTROL        .89 PERCENT 
               HNS"@SPOKE1.EXAMPLE. N RECEIVER                                                   
               COM=&gt;"STRMADMIN"."DE                                                              
               STINATION_SPOKE1"                                                                 
   1         6 "STRMADMIN"."SOURCE_ PROPAGATIO                   IDLE              36.61 PERCENT 
               HNS"@SPOKE1.EXAMPLE. N RECEIVER                                                   
               COM=&gt;"STRMADMIN"."DE                                                              
               STINATION_SPOKE1"                                                                 
   1         8 APPLY_SPOKE1         APPLY      APPLY READER      EVENT: CPU + Wa     .26 PERCENT 
                                                                 it for CPU                      
   1         8 APPLY_SPOKE1         APPLY      APPLY SERVER      EVENT: CPU + Wa   23.10 PERCENT 
                                                                 it for CPU                      
   1         8 APPLY_SPOKE1         APPLY      APPLY SERVER      EVENT: latch: r    1.31 PERCENT 
                                                                 ow cache object                 
                                                                 s                               
   1         8 APPLY_SPOKE1         APPLY      APPLY READER      EVENT: latch: s     .26 PERCENT 
                                                                 hared pool                      
   1         8 APPLY_SPOKE1         APPLY      APPLY SERVER      EVENT: latch: s    1.57 PERCENT 
                                                                 hared pool                      
   1         8 APPLY_SPOKE1         APPLY      APPLY COORDINATOR FLOW CONTROL        .00 PERCENT 
   1         8 APPLY_SPOKE1         APPLY      APPLY READER      FLOW CONTROL      10.76 PERCENT 
   1         8 APPLY_SPOKE1         APPLY      APPLY SERVER      FLOW CONTROL        .00 PERCENT 
   1         8 APPLY_SPOKE1         APPLY      APPLY COORDINATOR IDLE               6.21 PERCENT 
   1         8 APPLY_SPOKE1         APPLY      APPLY READER      IDLE               9.24 PERCENT 
   1         8 APPLY_SPOKE1         APPLY      APPLY SERVER      IDLE               8.53 PERCENT 
   1        13 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: CPU + Wa   21.65 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                     it for CPU                      
               ESTINATION_SPOKE1"@H                                                              
               UB.EXAMPLE.COM                                                                    
   1        13 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: SQL*Net      .26 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                     message to dbli                 
               ESTINATION_SPOKE1"@H                              nk                              
               UB.EXAMPLE.COM                                                                    
   1        13 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: latch: r     .26 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                     ow cache object                 
               ESTINATION_SPOKE1"@H                              s                               
               UB.EXAMPLE.COM                                                                    
   1        13 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: latch: s     .26 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                     hared pool                      
               ESTINATION_SPOKE1"@H                                                              
               UB.EXAMPLE.COM                                                                    
   1        13 "STRMADMIN"."SOURCE_ PROPAGATIO                   FLOW CONTROL       7.37 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                                                     
               ESTINATION_SPOKE1"@H                                                              
               UB.EXAMPLE.COM                                                                    
   1        13 "STRMADMIN"."SOURCE_ PROPAGATIO                   IDLE              67.41 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                                                     
               ESTINATION_SPOKE1"@H                                                              
               UB.EXAMPLE.COM                                                                    
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER READER   EVENT: ARCH wai     .26 PERCENT 
                                                                 t on c/f tx acq                 
                                                                 uire 2                          
   1        16 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: CPU + Wa   35.96 PERCENT 
                                                                 it for CPU                      
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER BUILDER  EVENT: CPU + Wa     .26 PERCENT 
                                                                 it for CPU                      
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER PREPARER EVENT: CPU + Wa   11.02 PERCENT 
                                                                 it for CPU                      
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER READER   EVENT: CPU + Wa     .26 PERCENT 
                                                                 it for CPU                      
   1        16 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: SQL*Net     5.51 PERCENT 
                                                                 message from db                 
                                                                 link                            
   1        16 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: SQL*Net      .26 PERCENT 
                                                                 message to dbli                 
                                                                 nk                              
   1        16 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: latch: r     .26 PERCENT 
                                                                 ow cache object                 
                                                                 s                               
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER BUILDER  EVENT: latch: r    1.84 PERCENT 
                                                                 ow cache object                 
                                                                 s                               
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER PREPARER EVENT: latch: r     .79 PERCENT 
                                                                 ow cache object                 
                                                                 s                               
   1        16 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: latch: s     .26 PERCENT 
                                                                 hared pool                      
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER READER   EVENT: latch: s     .79 PERCENT 
                                                                 hared pool                      
   1        16 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   FLOW CONTROL      16.27 PERCENT 
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER BUILDER  FLOW CONTROL        .00 PERCENT 
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER PREPARER FLOW CONTROL        .00 PERCENT 
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER READER   FLOW CONTROL        .00 PERCENT 
   1        16 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   IDLE              41.47 PERCENT 
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER BUILDER  IDLE              97.90 PERCENT 
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER PREPARER IDLE              88.19 PERCENT 
   1        16 CAPTURE_HNS          CAPTURE    LOGMINER READER   IDLE              98.69 PERCENT 
.
.
.
   3         4 "STRMADMIN"."SOURCE_ PROPAGATIO                   FLOW CONTROL       6.50 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                                                     
               ESTINATION_SPOKE1"@S                                                              
               POKE1.EXAMPLE.COM                                                                 
   3         4 "STRMADMIN"."SOURCE_ PROPAGATIO                   IDLE              70.50 PERCENT 
               HNS"=&gt;"STRMADMIN"."D N SENDER                                                     
               ESTINATION_SPOKE1"@S                                                              
               POKE1.EXAMPLE.COM                                                                 
   3        10 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: ARCH wai   52.23 PERCENT 
                                                                 t for archivelo                 
                                                                 g lock                          
   3        10 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: CPU + Wa    7.35 PERCENT 
                                                                 it for CPU                      
   3        10 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   EVENT: control      .52 PERCENT 
                                                                 file sequential                 
                                                                  read                           
   3        10 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   FLOW CONTROL       4.24 PERCENT 
   3        10 CAPTURE_HNS          CAPTURE    CAPTURE SESSION   IDLE               2.23 PERCENT 
   3        14 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: CPU + Wa    6.92 PERCENT 
               HNS"@HUB.EXAMPLE.COM N RECEIVER                   it for CPU                      
               =&gt;"STRMADMIN"."DESTI                                                              
               NATION_SPOKE1"                                                                    
   3        14 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: latch: r    2.23 PERCENT 
               HNS"@HUB.EXAMPLE.COM N RECEIVER                   ow cache object                 
               =&gt;"STRMADMIN"."DESTI                              s                               
               NATION_SPOKE1"                                                                    
   3        14 "STRMADMIN"."SOURCE_ PROPAGATIO                   EVENT: library     3.79 PERCENT 
               HNS"@HUB.EXAMPLE.COM N RECEIVER                   cache: mutex X                  
               =&gt;"STRMADMIN"."DESTI                                                              
               NATION_SPOKE1"                                                                    
   3        14 "STRMADMIN"."SOURCE_ PROPAGATIO                   FLOW CONTROL        .67 PERCENT 
               HNS"@HUB.EXAMPLE.COM N RECEIVER                                                   
               =&gt;"STRMADMIN"."DESTI                                                              
               NATION_SPOKE1"                                                                    
   3        14 "STRMADMIN"."SOURCE_ PROPAGATIO                   IDLE              85.04 PERCENT 
               HNS"@HUB.EXAMPLE.COM N RECEIVER                                                   
               =&gt;"STRMADMIN"."DESTI                                                              
               NATION_SPOKE1"                                                                    
   3        15 APPLY_SPOKE1         APPLY      APPLY COORDINATOR EVENT: latch: r    4.20 PERCENT 
                                                                 ow cache object                 
                                                                 s                               
   3        15 APPLY_SPOKE1         APPLY      APPLY COORDINATOR EVENT: latch: s     .52 PERCENT 
                                                                 hared pool                      
   3        15 APPLY_SPOKE1         APPLY      APPLY READER      EVENT: latch: s     .26 PERCENT 
                                                                 hared pool                      
   3        15 APPLY_SPOKE1         APPLY      APPLY COORDINATOR FLOW CONTROL        .00 PERCENT 
   3        15 APPLY_SPOKE1         APPLY      APPLY READER      FLOW CONTROL       1.56 PERCENT 
   3        15 APPLY_SPOKE1         APPLY      APPLY SERVER      FLOW CONTROL        .00 PERCENT 
   3        15 APPLY_SPOKE1         APPLY      APPLY COORDINATOR IDLE              87.28 PERCENT 
   3        15 APPLY_SPOKE1         APPLY      APPLY READER      IDLE              96.88 PERCENT 
   3        15 APPLY_SPOKE1         APPLY      APPLY SERVER      IDLE              91.29 PERCENT 
</pre><div class="infoboxnote" id="GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE__GUID-199BA36B-C136-40D4-8413-C5E741D0FEEA">
                              <p class="notep1">Note:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>This output is for illustrative purposes only. Actual performance characteristics vary depending on individual configurations and conditions.</p>
                                 </li>
                                 <li>
                                    <p>You can view the session ID and serial number for each session by adding the <code class="codeph">SESSION_ID</code> and <code class="codeph">SESSION_SERIAL#</code> columns to the query on the <code class="codeph">DBA_STREAMS_TP_COMPONENT_STAT</code> view.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnotealso" id="GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE__GUID-F5EE84AA-91A5-4524-83B9-40AF7806438C">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-00C97579-1532-4535-8CB3-A4CDF5A99097">Capture Process Subcomponents</a>"</span> for more information about capture process subcomponents
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-643C9FCF-4E96-4127-920B-61E3BAF7CB44">Apply Process Subcomponents</a>"</span> for more information about apply process subcomponents
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="combined-capture-and-apply-optimization.html#GUID-12B8EF20-C7BB-431A-BB5C-1F619EF9362F"> Combined Capture and Apply Optimization</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="STRMS875"></a><div class="props_rev_3"><a id="GUID-9670597A-A7F9-42DF-AEF1-94D87EFAE162" name="GUID-9670597A-A7F9-42DF-AEF1-94D87EFAE162"></a><h5 id="STRMS-GUID-9670597A-A7F9-42DF-AEF1-94D87EFAE162" class="sect5"><span class="enumeration_section">23.6.2.4 </span>Viewing Statistics for the Stream Paths in an Oracle Streams Environment
                     </h5>
                     <div>
                        <div class="section">
                           <p>The query in this section shows the following information for each stream path in the Oracle Streams topology:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Whether optimization mode for Oracle Streams is used for the path. When the <code class="codeph">OPTIMIZATION_MODE</code> statistic is greater than 0 (zero) for a path, the path uses the combined capture and apply optimization. When the <code class="codeph">OPTIMIZATION_MODE</code> statistic is 0 (zero) for a path, the path does not use the combined capture and apply optimization.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">MESSAGE</code> <code class="codeph">RATE</code> value is the average number of messages sent each second from the start of the path to the end of the path.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">TRANSACTION</code> <code class="codeph">RATE</code> value is the average number of transactions sent each second from the start of the path to the end of the path.
                                 </p>
                              </li>
                           </ul>
                           <p>The time period for these statistics is calculated as the time difference between the two snapshots used by the <code class="codeph">ANALYZE_CURRENT_PERFORMANCE</code> procedure in the same user session. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-EFCA16F1-D0DF-4A87-BF23-77DFA0164A8A">About the Information Gathered by the Oracle Streams Performance Advisor</a>"</span> for information about the snapshots. When a user session ends, these statistics are purged.
                           </p>
                           <p>To display this information, run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN PATH_ID HEADING 'Path ID' FORMAT 999
COLUMN STATISTIC_NAME HEADING 'Statistic' FORMAT A25
COLUMN STATISTIC_VALUE HEADING 'Value' FORMAT 99999999.99
COLUMN STATISTIC_UNIT HEADING 'Unit' FORMAT A25

SELECT PATH_ID,
       STATISTIC_NAME,
       STATISTIC_VALUE,
       STATISTIC_UNIT
   FROM DBA_STREAMS_TP_PATH_STAT
   WHERE ADVISOR_RUN_ID=2
   ORDER BY PATH_ID, STATISTIC_NAME;
</pre><p>This example uses <code class="codeph">2</code> for the <code class="codeph">ADVISOR_RUN_ID</code> in the <code class="codeph">WHERE</code> clause. Substitute the advisor run ID for the advisor run you want to query. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-0594E76E-238E-4D99-BC9F-C06A78DD86E9">Gathering Information About the Oracle Streams Topology and Performance</a>"</span> for information about determining the <code class="codeph">ADVISOR_RUN_ID</code>.
                           </p>
                           <p>The following output shows the path statistics for the stream paths listed in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-25FFCC35-DC80-4B41-BED5-B0A01190EBAC">Viewing Each Stream Path in an Oracle Streams Topology</a>"</span>:
                           </p><pre class="oac_no_warn" dir="ltr">Path ID Statistic                        Value Unit
------- ------------------------- ------------ -------------------------
      1 OPTIMIZATION_MODE                 1.00 NUMBER
      1 MESSAGE RATE                  10004.00 MESSAGES PER SECOND
      1 TRANSACTION RATE                100.00 TRANSACTIONS PER SECOND
      2 OPTIMIZATION_MODE                 1.00 NUMBER
      2 MESSAGE RATE                  10028.25 MESSAGES PER SECOND
      2 TRANSACTION RATE                100.37 TRANSACTIONS PER SECOND
      3 OPTIMIZATION_MODE                 1.00 NUMBER
      3 MESSAGE RATE                   9623.20 MESSAGES PER SECOND
      3 TRANSACTION RATE                 97.10 TRANSACTIONS PER SECOND
      4 OPTIMIZATION_MODE                 1.00 NUMBER
      4 MESSAGE RATE                  10180.05 MESSAGES PER SECOND
      4 TRANSACTION RATE                 102.68 TRANSACTIONS PER SECOND
</pre><div class="infoboxnote" id="GUID-9670597A-A7F9-42DF-AEF1-94D87EFAE162__GUID-BCB659AF-173C-411B-9724-E727B2A4B592">
                              <p class="notep1">Note:</p>
                              <p>This output is for illustrative purposes only. Actual performance characteristics vary depending on individual configurations and conditions.</p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-9670597A-A7F9-42DF-AEF1-94D87EFAE162__GUID-5AFE7E2B-C89D-471F-8B25-638C79FCA840">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-6A33D11D-C4AD-45BC-BD2B-CC78E58224FD">About Stream Paths in an Oracle Streams Topology</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="combined-capture-and-apply-optimization.html#GUID-12B8EF20-C7BB-431A-BB5C-1F619EF9362F"> Combined Capture and Apply Optimization</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="STRMS876"></a><div class="props_rev_3"><a id="GUID-0DD0A4DC-6FF1-4455-925D-FBE387727CDC" name="GUID-0DD0A4DC-6FF1-4455-925D-FBE387727CDC"></a><h3 id="STRMS-GUID-0DD0A4DC-6FF1-4455-925D-FBE387727CDC" class="sect3"><span class="enumeration_section">23.7 </span>Using the UTL_SPADV Package
               </h3>
               <div>
                  <p>The <code class="codeph">UTL_SPADV</code> package provides subprograms to collect and analyze statistics for the Oracle Streams components in a distributed database environment. The package uses the Oracle Streams Performance Advisor to gather statistics.
                  </p>
                  <p>The <code class="codeph">COLLECT_STATS</code> and <code class="codeph">START_MONITORING</code> procedures use the Oracle Streams Performance Advisor to gather statistics about the Oracle Streams components and subcomponents in a distributed database environment. The <code class="codeph">SHOW_STATS</code> procedure generates output that includes the statistics. The output is formatted so that it can be imported into a spreadsheet easily and analyzed.
                  </p>
                  <p>You can use the <code class="codeph">COLLECT_STATS</code> procedure to collect statistics each time the procedure is called. The <code class="codeph">comp_stat_table</code> and <code class="codeph">path_stat_table</code> parameters specify the tables that store the performance statistics. By default, these tables are <code class="codeph">STREAMS$_ADVISOR_COMP_STAT</code> and <code class="codeph">STREAMS$_ADVISOR_PATH_STAT</code>, respectively.
                  </p>
                  <p>You can also use the <code class="codeph">START_MONITORING</code> procedure to create a monitoring job that monitors Oracle Streams performance continually at specified intervals. The monitoring job uses the <code class="codeph">COLLECT_STATS</code> procedure to collect statistics. The <code class="codeph">START_MONITORING</code> procedure populates the <code class="codeph">STREAMS$_PA_MONITORING</code> table, and the <code class="codeph">SHOW_STATS_TABLE</code> column in this table specifies the table that contains the performance statistics. You can use the <code class="codeph">ALTER_MONITORING</code> procedure to modify a monitoring job, and you can use the <code class="codeph">STOP_MONITORING</code> procedure to stop a monitoring job.
                  </p>
                  <p>These procedures collect the same statistics as the Oracle Streams Performance Advisor. These statistics are described in <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-7D29C099-B819-4999-A73D-AB83D0007302__BIHGAGDG" title="This table provides information about component-level statistics for Oracle Streams components, including for each statistic the type of component, the statistic, the unit, and a description.">Table 23-3</a> and <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-8C074905-75DF-467D-8BB5-BFB2CC21A3CE__BIHDIIAF" title="This table provides information about session-level statistics for Oracle Streams subcomponents, including for each statistic the type of subcomponent, the statistic, the unit, and a description.">Table 23-4</a>.
                  </p>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E">Collecting Oracle Streams Statistics Using the UTL_SPADV Package</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-93818F37-43A2-482A-89F7-042608BCF04C">Checking Whether an Oracle Streams Monitoring Job Is Currently Running</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-B409BAC1-9F7F-4FD4-8DE2-B5A3BB1B9CBE">Altering an Oracle Streams Monitoring Job</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-C6ECC447-585B-49C3-85ED-9F5BA802B733">Stopping an Oracle Streams Monitoring Job</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6">Showing Oracle Streams Statistics Using the UTL_SPADV Package</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-0DD0A4DC-6FF1-4455-925D-FBE387727CDC__GUID-2199FEEA-C38F-4C1F-9F8D-677A5B5D778F">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/UTL_SPADV.html#ARPLS883"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">UTL_SPADV</code> package
                     </p>
                  </div>
               </div><a id="STRMS1477"></a><div class="props_rev_3"><a id="GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E" name="GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E"></a><h4 id="STRMS-GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E" class="sect4"><span class="enumeration_section">23.7.1 </span>Collecting Oracle Streams Statistics Using the UTL_SPADV Package
                  </h4>
                  <div>
                     <div class="section">
                        <p>To collect statistics using the <code class="codeph">UTL_SPADV</code> package, complete the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand" id="GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E__BIHDJDAG"><span>Identify the database that you will use to gather the information. An administrative user at this database must meet the following requirements:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The user must have access to a database link to each database that contains Oracle Streams components to monitor.</p>
                                 </li>
                                 <li>
                                    <p>The user must have been granted privileges using the <code class="codeph">DBMS_STREAMS_AUTH.GRANT_ADMIN_PRIVILEGE</code> procedure, and each database link must connect to a user at the remote database that has been granted privileges using the <code class="codeph">DBMS_STREAMS_AUTH.GRANT_ADMIN_PRIVILEGE</code> procedure.
                                    </p>
                                    <p>If you configure an Oracle Streams administrator at each database with Oracle Streams components, then the Oracle Streams administrator has the necessary privileges. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP200"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> for information about creating an Oracle Streams administrator.
                                    </p>
                                 </li>
                              </ul>
                              <p>If no database in your environment meets these requirements, then choose a database, configure the necessary database links, and grant the necessary privileges to the users before proceeding.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In SQL*Plus, connect to the database you identified in Step <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E__BIHDJDAG">1</a> as a user that meets the requirements listed in Step <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E__BIHDJDAG">1</a>.</span><div>
                              <p>See <a href="../admin/index.html"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about connecting to a database in SQL*Plus.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">utlspadv.sql</code> script in the rdbms/admin directory in <code class="codeph">ORACLE_HOME</code> to load the <code class="codeph">UTL_SPADV</code> package. For example:</span><div><pre class="oac_no_warn" dir="ltr">@utlspadv.sql
</pre></div>
                        </li>
                        <li class="stepexpand" id="GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E__CHDGCHGG"><span>Either collect the current Oracle Streams performance statistics once, or create a job that continually monitors Oracle Streams performance:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To collect the current Oracle Streams performance statistics once, run the <code class="codeph">COLLECT_STATS</code> procedure:
                                    </p><pre class="oac_no_warn" dir="ltr">exec UTL_SPADV.COLLECT_STATS
</pre><p>This example uses the default values for the parameters in the <code class="codeph">COLLECT_STATS</code> procedure. Therefore, this example runs the Performance Advisor 10 times with 60 seconds between each run. These values correspond with the default values for the <code class="codeph">num_runs</code> and <code class="codeph">interval</code> parameters, respectively, in the <code class="codeph">COLLECT_STATS</code> procedure.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To create a job that continually monitors Oracle Streams performance:</p><pre class="oac_no_warn" dir="ltr">exec UTL_SPADV.START_MONITORING
</pre><p>This example creates a monitoring job, and the monitoring job gathers performance statistics continually at set intervals. This example uses the default values for the parameters in the <code class="codeph">START_MONITORING</code> procedure. Therefore, this example runs the Performance Advisor every 60 seconds. This value corresponds with the default value for the <code class="codeph">interval</code> parameter in the <code class="codeph">START_MONITORING</code> procedure. If an interval is specified in the <code class="codeph">START_MONITORING</code> procedure, then the specified interval is used for the <code class="codeph">interval</code> parameter in the <code class="codeph">COLLECT_STATS</code> procedure.
                                    </p>
                                 </li>
                              </ul>
                              <p>These procedures include several parameters that you can use to adjust the way performance statistics are gathered. See <a href="../arpls/UTL_SPADV.html#ARPLS883"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>You can show the statistics by running the <code class="codeph">SHOW_STATS</code> procedure. See <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6">Showing Oracle Streams Statistics Using the UTL_SPADV Package</a>"</span>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E__GUID-7D5DAF77-82AB-4131-B625-C195E31BEC0A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/UTL_SPADV.html#ARPLS883"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">UTL_SPADV</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STRMS1478"></a><div class="props_rev_3"><a id="GUID-93818F37-43A2-482A-89F7-042608BCF04C" name="GUID-93818F37-43A2-482A-89F7-042608BCF04C"></a><h4 id="STRMS-GUID-93818F37-43A2-482A-89F7-042608BCF04C" class="sect4"><span class="enumeration_section">23.7.2 </span>Checking Whether an Oracle Streams Monitoring Job Is Currently Running
                  </h4>
                  <div>
                     <div class="section">
                        <p>To check whether a monitoring job is running using the <code class="codeph">UTL_SPADV</code> package, complete the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect to the database as the user who submitted the monitoring job.</span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">IS_MONITORING</code> function. For example, to determine whether a monitoring job submitted by the current user with the full monitoring job name of <code class="codeph">STREAM$_MONITORING_JOB</code> is running, enter the following:</span><div><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
  is_mon   BOOLEAN;
BEGIN
  is_mon := UTL_SPADV.IS_MONITORING(
              job_name    =&gt; 'STREAMS$_MONITORING_JOB',
              client_name =&gt; NULL);
  IF is_mon=TRUE THEN
    DBMS_OUTPUT.PUT_LINE('The monitoring job is running.');
  ELSE
    DBMS_OUTPUT.PUT_LINE('No monitoring job was found.');
  END IF;
END;
/
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>The output displays the following text if a monitoring job with the specified full monitoring job name is currently running:</p><pre class="oac_no_warn" dir="ltr">The monitoring job is running.
</pre><p>The output displays the following text if no monitoring job with the specified full monitoring job name is currently running:</p><pre class="oac_no_warn" dir="ltr">No monitoring job was found.
</pre><div class="infoboxnote" id="GUID-93818F37-43A2-482A-89F7-042608BCF04C__GUID-57CF6EA9-5676-4D98-B56C-98A7146C3667">
                           <p class="notep1">Note:</p>
                           <p>When you submit a monitoring job, the client name and job name are concatenated to form the full monitoring job name. The client name for a monitoring job submitted by Oracle Enterprise Manager Cloud Control is always <code class="codeph">EM</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STRMS1479"></a><div class="props_rev_3"><a id="GUID-B409BAC1-9F7F-4FD4-8DE2-B5A3BB1B9CBE" name="GUID-B409BAC1-9F7F-4FD4-8DE2-B5A3BB1B9CBE"></a><h4 id="STRMS-GUID-B409BAC1-9F7F-4FD4-8DE2-B5A3BB1B9CBE" class="sect4"><span class="enumeration_section">23.7.3 </span>Altering an Oracle Streams Monitoring Job
                  </h4>
                  <div>
                     <div class="section">
                        <p>To alter a monitoring job using the <code class="codeph">UTL_SPADV</code> package, complete the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a monitoring job if you have not done so already by completing the steps described in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E">Collecting Oracle Streams Statistics Using the UTL_SPADV Package</a>"</span>. Ensure that you run the <code class="codeph">START_MONITORING</code> procedure in Step <a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E__CHDGCHGG">4</a>.</span></li>
                        <li class="stepexpand"><span>Connect to the database as the user who submitted the monitoring job. Only the user who submitted a monitoring job can alter the monitoring job, and each user can submit only one monitoring job at a time.</span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER_MONITORING</code> procedure. The following example sets the interval for the monitoring job to 120 seconds:</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
  UTL_SPADV.ALTER_MONITORING(
    interval =&gt; 120);
END;
/
</pre><p>After running this procedure, the monitoring job gathers statistics every 120 seconds.</p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="STRMS1480"></a><div class="props_rev_3"><a id="GUID-C6ECC447-585B-49C3-85ED-9F5BA802B733" name="GUID-C6ECC447-585B-49C3-85ED-9F5BA802B733"></a><h4 id="STRMS-GUID-C6ECC447-585B-49C3-85ED-9F5BA802B733" class="sect4"><span class="enumeration_section">23.7.4 </span>Stopping an Oracle Streams Monitoring Job
                  </h4>
                  <div>
                     <div class="section">
                        <p>To stop a monitoring job using the <code class="codeph">UTL_SPADV</code> package, complete the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect to the database as the user who submitted the monitoring job. Only the user who submitted a monitoring job can stop the monitoring job, and each user can submit only one monitoring job at a time.</span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">STOP_MONITORING</code> procedure:</span><div><pre class="oac_no_warn" dir="ltr">exec UTL_SPADV.STOP_MONITORING
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>The <code class="codeph">STOP_MONITORING</code> procedure includes a <code class="codeph">purge</code> parameter that you can use to purge the statistics gathered by the monitoring job from the result tables. By default, the <code class="codeph">purge</code> parameter is set to <code class="codeph">FALSE</code>, and the results are retained. Set the <code class="codeph">purge</code> parameter to <code class="codeph">TRUE</code> to purge the results.
                        </p>
                        <div class="infoboxnotealso" id="GUID-C6ECC447-585B-49C3-85ED-9F5BA802B733__GUID-4430B0EC-57F7-4F1B-906F-B2295BD5338E">
                           <p class="notep1">See Also:</p>
                           <p>See <a href="../arpls/UTL_SPADV.html#ARPLS883"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="STRMS1481"></a><div class="props_rev_3"><a id="GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6" name="GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6"></a><h4 id="STRMS-GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6" class="sect4"><span class="enumeration_section">23.7.5 </span>Showing Oracle Streams Statistics Using the UTL_SPADV Package
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SHOW_STATS</code> procedure displays the statistics that the Performance Advisor gathered and stored. Use the <code class="codeph">path_stat_table</code> parameter to specify the table that contains the statistics.
                        </p>
                        <p>When you gather statistics using the <code class="codeph">COLLECT_STATS</code> procedure, this table is specified in the <code class="codeph">path_stat_table</code> parameter in the <code class="codeph">COLLECT_STATS</code> procedure. By default, the table name is <code class="codeph">STREAMS$_ADVISOR_PATH_STAT</code>.
                        </p>
                        <p>When you gather statistics using the <code class="codeph">START_MONITORING</code> procedure, you can determine the name for this table by querying the <code class="codeph">SHOW_STATS_TABLE</code> column in the <code class="codeph">STREAMS$_PA_MONITORING</code> view. The default table for a monitoring job is <code class="codeph">STREAMS$_PA_SHOW_PATH_STAT</code>.
                        </p>
                        <p>To show statistics collected using the <code class="codeph">UTL_SPADV</code> package and stored in the <code class="codeph">STREAMS$_ADVISOR_PATH_STAT</code> table, complete the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Collect statistics by completing the steps described in <span class="q">"<a href="monitoring-the-oracle-streams-topology-and-performance.html#GUID-2C247BB0-CE31-4229-B8CD-E0384C74971E">Collecting Oracle Streams Statistics Using the UTL_SPADV Package</a>"</span>.</span></li>
                        <li class="stepexpand"><span>Connect to the database as the user who collected the statistics.</span></li>
                        <li class="stepexpand"><span>If you are using a monitoring job, then query the <code class="codeph">SHOW_STATS_TABLE</code> column in the <code class="codeph">STREAMS$_PA_MONITORING</code> view to determine the name of this table that stores the statistics:</span><div><pre class="oac_no_warn" dir="ltr">SELECT SHOW_STATS_TABLE FROM STREAMS$_PA_MONITORING;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">SHOW_STATS</code> procedure.</span><div>
                              <p>For example, if you are using a monitoring job and the default storage table, then run the following procedure:</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON SIZE 50000
BEGIN
  UTL_SPADV.SHOW_STATS(
    path_stat_table =&gt; 'STREAMS$_PA_SHOW_PATH_STAT');
END;
/
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>The output includes the following legend:</p><pre class="oac_no_warn" dir="ltr">LEGEND
&lt;statistics&gt;= &lt;capture&gt; [ &lt;queue&gt; &lt;psender&gt; &lt;preceiver&gt; &lt;queue&gt; ] &lt;apply&gt;
&lt;bottleneck&gt;
&lt;capture&gt;   = '|&lt;C&gt;' &lt;name&gt; &lt;msgs captured/sec&gt; &lt;msgs enqueued/sec&gt; &lt;latency&gt;
                    'LMR' &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
                    'LMP' (&lt;parallelism&gt;) &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
                    'LMB' &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
                    'CAP' &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
                    'CAP+PS' &lt;msgs sent/sec&gt; &lt;bytes sent/sec&gt; &lt;latency&gt; &lt;idl%&gt;
&lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
&lt;apply&gt;     = '|&lt;A&gt;' &lt;name&gt; &lt;msgs applied/sec&gt; &lt;txns applied/sec&gt; &lt;latency&gt;
                    'PS+PR' &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
                    'APR' &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
                    'APC' &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
                    'APS' (&lt;parallelism&gt;) &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
&lt;queue&gt;     = '|&lt;Q&gt;' &lt;name&gt; &lt;msgs enqueued/sec&gt; &lt;msgs spilled/sec&gt; &lt;msgs in
queue&gt;
&lt;psender&gt;   = '|&lt;PS&gt;' &lt;name&gt; &lt;msgs sent/sec&gt; &lt;bytes sent/sec&gt; &lt;latency&gt; &lt;idl%&gt;
&lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
&lt;preceiver&gt; = '|&lt;PR&gt;' &lt;name&gt; &lt;idl%&gt; &lt;flwctrl%&gt; &lt;topevt%&gt; &lt;topevt&gt;
&lt;bottleneck&gt;= '|&lt;B&gt;' &lt;name&gt; &lt;sub_name&gt; &lt;sessionid&gt; &lt;serial#&gt; &lt;topevt%&gt; &lt;topevt&gt;
</pre><p>The following table describes the abbreviations used in the legend:</p>
                        <div class="tblformal" id="GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6__GUID-4B37DDA3-D1D7-476F-AEB2-E9EDD46FEAD7">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists each abbreviation in the legend and a description for each abbreviation." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d106681e6624">Abbreviation</th>
                                    <th align="left" valign="bottom" width="78%" id="d106681e6627">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6632" headers="d106681e6624 ">
                                       <p><code class="codeph">A</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6632 d106681e6627 ">
                                       <p>Apply process</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6640" headers="d106681e6624 ">
                                       <p><code class="codeph">APC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6640 d106681e6627 ">
                                       <p>Coordinator process used by an apply process</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6648" headers="d106681e6624 ">
                                       <p><code class="codeph">APR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6648 d106681e6627 ">
                                       <p>Reader server used by an apply process</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6656" headers="d106681e6624 ">
                                       <p><code class="codeph">APS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6656 d106681e6627 ">
                                       <p>Apply server used by an apply process</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6664" headers="d106681e6624 ">
                                       <p><code class="codeph">B</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6664 d106681e6627 ">
                                       <p>Bottleneck</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6672" headers="d106681e6624 ">
                                       <p><code class="codeph">C</code> or <code class="codeph">CAP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6672 d106681e6627 ">
                                       <p>Capture process</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6683" headers="d106681e6624 ">
                                       <p><code class="codeph">CAP+PS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6683 d106681e6627 ">
                                       <p>Capture process session and propagation sender in a combined capture and apply optimization</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6691" headers="d106681e6624 ">
                                       <p><code class="codeph">CCA</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6691 d106681e6627 ">
                                       <p>Combined capture and apply (<code class="codeph">Y</code> indicates that it is used for the path; <code class="codeph">N</code> indicates that it is not used for the path.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6705" headers="d106681e6624 ">
                                       <p><code class="codeph">flwctrl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6705 d106681e6627 ">
                                       <p>Flow control</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6713" headers="d106681e6624 ">
                                       <p><code class="codeph">idl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6713 d106681e6627 ">
                                       <p>Idle</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6721" headers="d106681e6624 ">
                                       <p><code class="codeph">LMB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6721 d106681e6627 ">
                                       <p>Builder server used by a capture process (LogMiner builder)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6730" headers="d106681e6624 ">
                                       <p><code class="codeph">LMP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6730 d106681e6627 ">
                                       <p>Preparer server used by a capture process (LogMiner preparer)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6738" headers="d106681e6624 ">
                                       <p><code class="codeph">LMR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6738 d106681e6627 ">
                                       <p>Reader server used by a capture process (LogMiner reader)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6746" headers="d106681e6624 ">
                                       <p><code class="codeph">msgs</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6746 d106681e6627 ">
                                       <p>Messages</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6754" headers="d106681e6624 ">
                                       <p><code class="codeph">preceiver</code> or <code class="codeph">PR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6754 d106681e6627 ">
                                       <p>Propagation receiver</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6765" headers="d106681e6624 ">
                                       <p><code class="codeph">psender</code> or <code class="codeph">PS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6765 d106681e6627 ">
                                       <p>Propagation sender</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6776" headers="d106681e6624 ">
                                       <p><code class="codeph">PS+PR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6776 d106681e6627 ">
                                       <p>Propagation sender and propagation receiver in a combined capture and apply optimization in which the capture process and apply process are running on the same database instance</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6784" headers="d106681e6624 ">
                                       <p><code class="codeph">Q</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6784 d106681e6627 ">
                                       <p>Queue</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6792" headers="d106681e6624 ">
                                       <p><code class="codeph">serial#</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6792 d106681e6627 ">
                                       <p>Session serial number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6800" headers="d106681e6624 ">
                                       <p><code class="codeph">sec</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6800 d106681e6627 ">
                                       <p>Second</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6808" headers="d106681e6624 ">
                                       <p><code class="codeph">sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6808 d106681e6627 ">
                                       <p>Session identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6816" headers="d106681e6624 ">
                                       <p><code class="codeph">sub_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6816 d106681e6627 ">
                                       <p>Subcomponent name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d106681e6825" headers="d106681e6624 ">
                                       <p><code class="codeph">topevt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d106681e6825 d106681e6627 ">
                                       <p>Top event</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following is sample output for when an apply process is the last component in a path:</p><pre class="oac_no_warn" dir="ltr">OUTPUT
PATH 1 RUN_ID 3 RUN_TIME 2009-JUL-02 05:59:38 CCA Y
|&lt;C&gt; DB2$CAP 10267 10040 3 LMR 95% 0% 3.3% "" LMP (1) 86.7% 0% 11.7% "" LMB 86.7% 0% 11.7% ""
CAP 71.7% 16.7% 11.7% "" |&lt;Q&gt; "STRMADMIN"."DB2$CAPQ" 2540.45 0 30 |&lt;PS&gt;
=&gt;DB1.EXAMPLE.COM 2152.03 32992.96 4 59.2% 9.8% 0% "" |&lt;PR&gt; DB2.EXAMPLE.COM=&gt; 98.5%
0% 0.6% "" |&lt;Q&gt; "STRMADMIN"."DB2$APPQ" 3657.03 0.01 460 |&lt;A&gt; APPLY$_DB2_2 10042 100 4
APR 93.3% 0% 6.7% "" APC 98.1% 0% 1.8% "" APS (4) 370% 0% 6.1% "" |&lt;B&gt; NO BOTTLENECK
IDENTIFIED
 
 
PATH 1 RUN_ID 4 RUN_TIME 2009-JUL-02 06:01:39 CCA Y
|&lt;C&gt; DB2$CAP 10464 10002 3 LMR 95% 0% 1.7% "" LMP (1) 83.3% 0% 16.7% "" LMB 85% 0% 15% "" 
CAP 62.9% 0% 35.7% "" |&lt;Q&gt; "STRMADMIN"."DB2$CAPQ" 2677.03 0.01 45 |&lt;PS&gt;
=&gt;DB1.EXAMPLE.COM 2491.08 47883.46 4 65.5% 10.7% 0% "" |&lt;PR&gt; DB2.EXAMPLE.COM=&gt; 0% 83.3% 
13.3% "" |&lt;Q&gt; "STRMADMIN"."DB2$APPQ" 2444.03 0.01 0 |&lt;A&gt; APPLY$_DB2_2 10004 100 3
APR 42.9% 57.1% 0% "" APC 90% 0% 10% "" APS (4) 346% 0% 10.3% "" |&lt;B&gt; NO BOTTLENECK
IDENTIFIED
.
.
.
</pre><div class="infoboxnote" id="GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6__GUID-290CABB1-33E1-44BF-864B-18DBF2C4F6E9">
                           <p class="notep1">Note:</p>
                           <p>This output is for illustrative purposes only. Actual performance characteristics vary depending on individual configurations and conditions.</p>
                        </div>
                        <p>Use the legend and the abbreviations to determine the statistics in the output. For example, the following output is for the <code class="codeph">db2$cap</code> capture process in path 1, run ID&nbsp;3:
                        </p><pre class="oac_no_warn" dir="ltr">|&lt;C&gt; DB2$CAP 10267 10040 3 LMR 95% 0% 3.3% "" LMP (1) 86.7% 0% 11.7% "" LMB 86.7% 0% 11.7% ""
CAP 71.7% 16.7% 11.7% ""
</pre><p>This output shows the following statistics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The capture process captured an average of 10267 database changes each second.</p>
                           </li>
                           <li>
                              <p>The capture process enqueued an average of 10040 messages each second.</p>
                           </li>
                           <li>
                              <p>The capture process latency was 3 seconds.</p>
                           </li>
                           <li>
                              <p>The reader server (LMR) used by the capture process spent 95% of its time idle.</p>
                           </li>
                           <li>
                              <p>The reader server used by the capture process spent 0% of its time in flow control mode.</p>
                           </li>
                           <li>
                              <p>The reader server used by the capture process spent 3.3% of its time on the top wait event.</p>
                           </li>
                           <li>
                              <p>The preparer server (LMP) parallelism was 1.</p>
                           </li>
                           <li>
                              <p>The preparer server used by the capture process spent 86.7% of its time idle.</p>
                           </li>
                           <li>
                              <p>The preparer server used by the capture process spent 0% of its time in flow control mode.</p>
                           </li>
                           <li>
                              <p>The preparer server used by the capture process spent 11.7% of its time on the top wait event.</p>
                           </li>
                           <li>
                              <p>The builder server (LMB) used by the capture process spent 86.7% of its time idle.</p>
                           </li>
                           <li>
                              <p>The builder server used by the capture process spent 0% of its time in flow control mode.</p>
                           </li>
                           <li>
                              <p>The builder server used by the capture process spent 11.7% of its time on the top wait event.</p>
                           </li>
                           <li>
                              <p>The capture process session spent 71.7% of its time idle.</p>
                           </li>
                           <li>
                              <p>The capture process session spent 16.7% of its time in flow control mode.</p>
                           </li>
                           <li>
                              <p>The capture process session spent 11.7% of its time on the top wait event.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-8444D418-D899-4AD3-B72C-CE5283C87EF6__GUID-91786549-B961-47CB-A0DA-C207A0779784">
                           <p class="notep1">See Also:</p>
                           <p><a href="combined-capture-and-apply-optimization.html#GUID-12B8EF20-C7BB-431A-BB5C-1F619EF9362F"> Combined Capture and Apply Optimization</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>