<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Streams Information Consumption</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.1.1">
      <link rel="alternate" href="streams-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-01-25T21:40:57-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83781-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      <meta name="dcterms.release" content="Release 18">
      <link rel="prev" href="oracle-streams-staging-and-propagation.html" title="Previous" type="text/html">
      <link rel="next" href="how-rules-are-used-in-oracle-streams.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Streams Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="STRMS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-streams-staging-and-propagation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="how-rules-are-used-in-oracle-streams.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="essential-oracle-streams-concepts.html" property="item" typeof="WebPage"><span property="name">      Essential Oracle Streams Concepts </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Streams Information Consumption</li>
            </ol>
            <a id="GUID-2AB34D95-F1F8-400B-881E-7D2E9B7768B0" name="GUID-2AB34D95-F1F8-400B-881E-7D2E9B7768B0"></a><a id="STRMS004"></a><a id="STRMS_APPLY_CONCEPTS"></a>
            
            <h2 id="STRMS-GUID-2AB34D95-F1F8-400B-881E-7D2E9B7768B0" class="sect2"><span class="enumeration_chapter">4 </span> Oracle Streams Information Consumption
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d26231e127" class="indexterm-anchor"></a><a id="d26231e131" class="indexterm-anchor"></a>The following topics contain information about consuming information with Oracle Streams.
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="oracle-streams-information-consumption.html#GUID-9FD95156-6F95-4AAE-B98F-61C472951207">Overview of Information Consumption with Oracle Streams</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-streams-information-consumption.html#GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED">Implicit Consumption with an Apply Process</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-streams-information-consumption.html#GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9">Explicit Consumption with a Messaging Client</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-streams-information-consumption.html#GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6">Explicit Consumption with Manual Dequeue</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-2AB34D95-F1F8-400B-881E-7D2E9B7768B0__GUID-832B0901-8774-4791-9E02-3ED684DF9927">
                  <p class="notep1">See Also:</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="managing-oracle-streams-information-consumption.html#GUID-9DEB34C0-21DC-41E0-96CE-699D279F8C42"> Managing Oracle Streams Information Consumption</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-oracle-streams-apply-processes.html#GUID-F371ACB8-C66F-4580-9DD0-491997F6DF80"> Monitoring Oracle Streams Apply Processes</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-apply.html#GUID-D65CBC5C-5C21-4D02-89B9-D08C75F829F2"> Troubleshooting Apply</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="STRMS363"></a><div class="props_rev_3"><a id="GUID-9FD95156-6F95-4AAE-B98F-61C472951207" name="GUID-9FD95156-6F95-4AAE-B98F-61C472951207"></a><h3 id="STRMS-GUID-9FD95156-6F95-4AAE-B98F-61C472951207" class="sect3"><span class="enumeration_section">4.1 </span>Overview of Information Consumption with Oracle Streams
               </h3>
               <div>
                  <p>Consuming information with Oracle Streams means dequeuing a <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a> that contains the information from a <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a> and either processing or discarding the message. The consumed information can describe a database change, or it can be any other type of information. A dequeued message might have originated at the same database where it is dequeued, or it might have originated at a different database.
                  </p>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-265C3D8E-63FD-4CF9-8704-A8859FEC80B4">Ways to Consume Information with Oracle Streams</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-6A66B855-D25E-4C24-8A29-7C416F7BB367">Types of Information Consumed with Oracle Streams</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31">Summary of Information Consumption Options</a></p>
                     </li>
                  </ul>
               </div><a id="STRMS100"></a><div class="props_rev_3"><a id="GUID-265C3D8E-63FD-4CF9-8704-A8859FEC80B4" name="GUID-265C3D8E-63FD-4CF9-8704-A8859FEC80B4"></a><h4 id="STRMS-GUID-265C3D8E-63FD-4CF9-8704-A8859FEC80B4" class="sect4"><span class="enumeration_section">4.1.1 </span>Ways to Consume Information with Oracle Streams
                  </h4>
                  <div>
                     <p>The following are ways to consume information with Oracle Streams:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-034ABB96-04D7-441F-AE83-84E023D07903">Implicit Consumption</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-C28508A8-E45C-407C-96FB-C00F5FB86A5C">Explicit Consumption</a></p>
                        </li>
                     </ul>
                  </div><a id="STRMS364"></a><div class="props_rev_3"><a id="GUID-034ABB96-04D7-441F-AE83-84E023D07903" name="GUID-034ABB96-04D7-441F-AE83-84E023D07903"></a><h5 id="STRMS-GUID-034ABB96-04D7-441F-AE83-84E023D07903" class="sect5"><span class="enumeration_section">4.1.1.1 </span>Implicit Consumption
                     </h5>
                     <div>
                        <p>With <a href="strms_glossary.html#GUID-431A1875-90B6-470C-8071-E44C19D07253"><span class="xrefglossterm">implicit consumption</span></a>, an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> automatically dequeues either <a href="strms_glossary.html#GUID-0D2E5DAF-804E-4089-9E0E-987C96F59706"><span class="xrefglossterm">captured LCR</span></a>s, <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a>s, or <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s. The queue must be an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a>. If a message contains a <a href="strms_glossary.html#GUID-BEE35017-AD49-4CA8-AFCF-5AB6898BE94D"><span class="xrefglossterm">logical change record (LCR)</span></a>, then the apply process can either apply it directly or call a user-specified procedure for processing. If the message does not contain an LCR, then the apply process can invoke a user-specified procedure called a <a href="strms_glossary.html#GUID-28E08694-4A8E-4D30-A805-876E82C4906A"><span class="xrefglossterm">message handler</span></a> to process it.
                        </p>
                        <div class="infoboxnote" id="GUID-034ABB96-04D7-441F-AE83-84E023D07903__GUID-72BA724E-A987-452C-B957-C5DEB145CD73">
                           <p class="notep1">Note:</p>
                           <p>Captured LCRs must be dequeued by an apply process. However, if an apply process or a user procedure called by an apply process re-enqueues a captured LCR, then the LCR becomes a persistent LCR and can be explicitly dequeued.</p>
                        </div>
                     </div>
                  </div><a id="STRMS365"></a><div class="props_rev_3"><a id="GUID-C28508A8-E45C-407C-96FB-C00F5FB86A5C" name="GUID-C28508A8-E45C-407C-96FB-C00F5FB86A5C"></a><h5 id="STRMS-GUID-C28508A8-E45C-407C-96FB-C00F5FB86A5C" class="sect5"><span class="enumeration_section">4.1.1.2 </span>Explicit Consumption
                     </h5>
                     <div>
                        <p>With <a href="strms_glossary.html#GUID-94310F56-8F7F-4CA8-8D1C-F574C706429D"><span class="xrefglossterm">explicit consumption</span></a>, messages are dequeued in one of the following ways:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A <a href="strms_glossary.html#GUID-9EAF35D2-24C0-4E0B-ACC4-9EDC22A169C1"><span class="xrefglossterm">messaging client</span></a> explicitly dequeues <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a>s or <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s. The queue must be an <code class="codeph">ANYDATA</code> queue. A messaging client dequeues messages when it is invoked by an application, and the application processes the messages after the messaging client dequeues them.
                              </p>
                           </li>
                           <li>
                              <p>An application explicitly dequeues <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s manually and processes them. An application can dequeue the following types of messages: <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a>s, <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s, <a href="strms_glossary.html#GUID-95FF7ACD-11FF-4ACF-8E06-60033BEC621B"><span class="xrefglossterm">buffered LCR</span></a>s, and <a href="strms_glossary.html#GUID-2587F4F8-8B48-40F7-8541-D039E22291C3"><span class="xrefglossterm">buffered user message</span></a>s. The queue from which the messages are dequeued can be an <code class="codeph">ANYDATA</code> queue or a <a href="strms_glossary.html#GUID-A1B782A4-0767-457D-8CFD-D8ABF546A71D"><span class="xrefglossterm">typed queue</span></a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STRMS103"></a><div class="props_rev_3"><a id="GUID-6A66B855-D25E-4C24-8A29-7C416F7BB367" name="GUID-6A66B855-D25E-4C24-8A29-7C416F7BB367"></a><h4 id="STRMS-GUID-6A66B855-D25E-4C24-8A29-7C416F7BB367" class="sect4"><span class="enumeration_section">4.1.2 </span>Types of Information Consumed with Oracle Streams
                  </h4>
                  <div>
                     <p>The following types of information can be consumed with Oracle Streams:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-9869F312-416E-4BDD-8719-3344653F981C">Captured LCRs</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-AFDFE82B-C48B-4F28-AE7F-29D82EC87BBA">Persistent LCRs</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-76155A83-C7E0-4429-A575-59634B226EBA">Buffered LCRs</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-47575707-E7BB-444F-A223-0ED2AA4796F3">Persistent User Messages</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-BEDE363C-7574-48FD-BA22-377CF64CF2C0">Buffered User Messages</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6A66B855-D25E-4C24-8A29-7C416F7BB367__GUID-747178A5-85AD-42F9-9526-50998A1F6BAB">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-446A8A08-9D10-4951-9630-39A767F564A9">Types of Information Captured with Oracle Streams</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-465E9672-EA26-4394-9B21-8A80C7146269">Summary of Information Capture Options with Oracle Streams</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="STRMS366"></a><div class="props_rev_3"><a id="GUID-9869F312-416E-4BDD-8719-3344653F981C" name="GUID-9869F312-416E-4BDD-8719-3344653F981C"></a><h5 id="STRMS-GUID-9869F312-416E-4BDD-8719-3344653F981C" class="sect5"><span class="enumeration_section">4.1.2.1 </span>Captured LCRs
                     </h5>
                     <div>
                        <p>A <span class="bold">captured LCR</span> is a <a href="strms_glossary.html#GUID-BEE35017-AD49-4CA8-AFCF-5AB6898BE94D"><span class="xrefglossterm">logical change record (LCR)</span></a> that was captured implicitly by a <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a> and enqueued into the <a href="strms_glossary.html#GUID-9ABDA00F-83A1-435F-8E93-315D3D05E4B7"><span class="xrefglossterm">buffered queue</span></a> portion of an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a>.
                        </p>
                        <p>Only an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> can dequeue captured LCRs. After dequeue, an apply process can apply the captured LCR directly to make a database change, discard the captured LCR, send the captured LCR to an apply handler for processing, or re-enqueue the captured LCR into a <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-9869F312-416E-4BDD-8719-3344653F981C__GUID-56045BC9-814C-4EBF-9564-3A892D1482EA">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-84DD3325-51A9-46D7-8BE0-81E48893DFAB">Implicit Capture with an Oracle Streams Capture Process</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED">Implicit Consumption with an Apply Process</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS367"></a><div class="props_rev_3"><a id="GUID-AFDFE82B-C48B-4F28-AE7F-29D82EC87BBA" name="GUID-AFDFE82B-C48B-4F28-AE7F-29D82EC87BBA"></a><h5 id="STRMS-GUID-AFDFE82B-C48B-4F28-AE7F-29D82EC87BBA" class="sect5"><span class="enumeration_section">4.1.2.2 </span>Persistent LCRs
                     </h5>
                     <div>
                        <p>A <span class="bold">persistent LCR</span> is a <a href="strms_glossary.html#GUID-BEE35017-AD49-4CA8-AFCF-5AB6898BE94D"><span class="xrefglossterm">logical change record (LCR)</span></a> that was enqueued into the <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a> portion of an <code class="codeph">ANYDATA</code> queue. A persistent LCR can be enqueued in one of the following ways:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Captured implicitly by a <a href="strms_glossary.html#GUID-5CA58899-A02D-422A-AE15-E8FCD004EB17"><span class="xrefglossterm">synchronous capture</span></a> and enqueued
                              </p>
                           </li>
                           <li>
                              <p>Constructed explicitly by an application and enqueued</p>
                           </li>
                           <li>
                              <p>Dequeued by an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> and enqueued by the same apply process using the <code class="codeph">SET_ENQUEUE_DESTINATION</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package
                              </p>
                           </li>
                        </ul>
                        <p>Persistent LCRs can be dequeued by an apply process, a messaging client, or an application.</p>
                        <div class="infoboxnotealso" id="GUID-AFDFE82B-C48B-4F28-AE7F-29D82EC87BBA__GUID-12BCA15A-FF50-4774-ADA7-6E77BC49A508">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-9C81303F-69B5-4817-AB1D-493972C4F096">Implicit Capture with Synchronous Capture</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-A51AFAF0-6C67-4A9C-AA1E-6CD1B1B3F67F">Explicit Capture by Applications</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED">Implicit Consumption with an Apply Process</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9">Explicit Consumption with a Messaging Client</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6">Explicit Consumption with Manual Dequeue</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS368"></a><div class="props_rev_3"><a id="GUID-76155A83-C7E0-4429-A575-59634B226EBA" name="GUID-76155A83-C7E0-4429-A575-59634B226EBA"></a><h5 id="STRMS-GUID-76155A83-C7E0-4429-A575-59634B226EBA" class="sect5"><span class="enumeration_section">4.1.2.3 </span>Buffered LCRs
                     </h5>
                     <div>
                        <p>A <span class="bold">buffered LCR</span> is a <a href="strms_glossary.html#GUID-BEE35017-AD49-4CA8-AFCF-5AB6898BE94D"><span class="xrefglossterm">logical change record (LCR)</span></a> that was constructed explicitly by an application and enqueued into the buffered queue portion of an <code class="codeph">ANYDATA</code> queue. Only an application can dequeue buffered LCRs.
                        </p>
                        <div class="infoboxnotealso" id="GUID-76155A83-C7E0-4429-A575-59634B226EBA__GUID-2D0DAFDD-5E5A-455A-A0EE-82E75E559F4B">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-A51AFAF0-6C67-4A9C-AA1E-6CD1B1B3F67F">Explicit Capture by Applications</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6">Explicit Consumption with Manual Dequeue</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS369"></a><div class="props_rev_3"><a id="GUID-47575707-E7BB-444F-A223-0ED2AA4796F3" name="GUID-47575707-E7BB-444F-A223-0ED2AA4796F3"></a><h5 id="STRMS-GUID-47575707-E7BB-444F-A223-0ED2AA4796F3" class="sect5"><span class="enumeration_section">4.1.2.4 </span>Persistent User Messages
                     </h5>
                     <div>
                        <p>A <span class="bold">persistent user message</span> is a non-<a href="strms_glossary.html#GUID-43A45807-D91D-43A2-89C8-8DEBCEF70770"><span class="xrefglossterm">LCR</span></a> <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a> of a user-defined type that was enqueued into a <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a>. A persistent user message can be enqueued in one of the following ways:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Created explicitly by an application and enqueued</p>
                           </li>
                           <li>
                              <p>Dequeued by an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> and enqueued by the same apply process using the <code class="codeph">SET_ENQUEUE_DESTINATION</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package
                              </p>
                           </li>
                        </ul>
                        <p>Apply processes and messaging clients can only dequeue persistent user messages that are in an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a>. Applications can dequeue persistent user messages that are in an <code class="codeph">ANYDATA</code> queue or a <a href="strms_glossary.html#GUID-A1B782A4-0767-457D-8CFD-D8ABF546A71D"><span class="xrefglossterm">typed queue</span></a>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-47575707-E7BB-444F-A223-0ED2AA4796F3__GUID-3C24FDF5-B070-46E0-903B-FF90055434B3">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-A51AFAF0-6C67-4A9C-AA1E-6CD1B1B3F67F">Explicit Capture by Applications</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED">Implicit Consumption with an Apply Process</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9">Explicit Consumption with a Messaging Client</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6">Explicit Consumption with Manual Dequeue</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS370"></a><div class="props_rev_3"><a id="GUID-BEDE363C-7574-48FD-BA22-377CF64CF2C0" name="GUID-BEDE363C-7574-48FD-BA22-377CF64CF2C0"></a><h5 id="STRMS-GUID-BEDE363C-7574-48FD-BA22-377CF64CF2C0" class="sect5"><span class="enumeration_section">4.1.2.5 </span>Buffered User Messages
                     </h5>
                     <div>
                        <p>A <span class="bold">buffered user message</span> is a non-<a href="strms_glossary.html#GUID-43A45807-D91D-43A2-89C8-8DEBCEF70770"><span class="xrefglossterm">LCR</span></a> <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a> of a user-defined type that was created explicitly by an application and enqueued into a <a href="strms_glossary.html#GUID-9ABDA00F-83A1-435F-8E93-315D3D05E4B7"><span class="xrefglossterm">buffered queue</span></a>. A buffered user message can be enqueued into the buffered queue portion of an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a> or a <a href="strms_glossary.html#GUID-A1B782A4-0767-457D-8CFD-D8ABF546A71D"><span class="xrefglossterm">typed queue</span></a>. Only an application can dequeue buffered user messages.
                        </p>
                        <div class="infoboxnotealso" id="GUID-BEDE363C-7574-48FD-BA22-377CF64CF2C0__GUID-2A42CD2C-2D25-4280-9CCA-C5DFFD4D853F">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-A51AFAF0-6C67-4A9C-AA1E-6CD1B1B3F67F">Explicit Capture by Applications</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6">Explicit Consumption with Manual Dequeue</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="STRMS372"></a><a id="STRMS371"></a><div class="props_rev_3"><a id="GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31" name="GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31"></a><h4 id="STRMS-GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31" class="sect4"><span class="enumeration_section">4.1.3 </span>Summary of Information Consumption Options
                  </h4>
                  <div>
                     <p><a href="oracle-streams-information-consumption.html#GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31__BABJHCJI" title="This table describes how each consumption option dequeues messages, the message types dequeued by each option, and when to use each option.">Table 4-1</a> summarizes the information consumption options available with Oracle Streams.
                     </p>
                     <div class="tblformalwide" id="GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31__BABJHCJI">
                        <p class="titleintable">Table 4-1 Information Consumption Options with Oracle Streams</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Information Consumption Options with Oracle Streams" summary="This table describes how each consumption option dequeues messages, the message types dequeued by each option, and when to use each option." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d26231e2082">Consumption Type</th>
                                 <th align="left" valign="bottom" width="22%" id="d26231e2085">Dequeues Messages</th>
                                 <th align="left" valign="bottom" width="18%" id="d26231e2088">Message Types</th>
                                 <th align="left" valign="bottom" width="38%" id="d26231e2091">Use When</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d26231e2096" headers="d26231e2082 ">
                                    <p><a href="oracle-streams-information-consumption.html#GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED">Implicit Consumption with an Apply Process</a></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d26231e2096 d26231e2085 ">
                                    <p>Continually and automatically when enabled</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d26231e2096 d26231e2088 ">
                                    <p>Captured LCRs</p>
                                    <p>Persistent LCRs</p>
                                    <p>Persistent user messages</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d26231e2096 d26231e2091 ">
                                    <p>You want to dequeue and process <a href="strms_glossary.html#GUID-0D2E5DAF-804E-4089-9E0E-987C96F59706"><span class="xrefglossterm">captured LCR</span></a>s.
                                    </p>
                                    <p>You want to dequeue persistent LCRs or persistent user messages continually and automatically from the <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a> portion of an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a>.
                                    </p>
                                    <p>You want to dequeue <a href="strms_glossary.html#GUID-43A45807-D91D-43A2-89C8-8DEBCEF70770"><span class="xrefglossterm">LCR</span></a>s that must be applied directly to database objects to make database changes.
                                    </p>
                                    <p>You want to dequeue messages and process them with an <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d26231e2141" headers="d26231e2082 ">
                                    <p><a href="oracle-streams-information-consumption.html#GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9">Explicit Consumption with a Messaging Client</a></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d26231e2141 d26231e2085 ">
                                    <p>When invoked by an application</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d26231e2141 d26231e2088 ">
                                    <p>Persistent LCRs</p>
                                    <p>Persistent user messages</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d26231e2141 d26231e2091 ">
                                    <p>You want to use a simple method for dequeuing on demand persistent LCRs or persistent user messages from the persistent queue portion of an <code class="codeph">ANYDATA</code> queue.
                                    </p>
                                    <p>You want to send messages to an application for processing after dequeue.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d26231e2163" headers="d26231e2082 ">
                                    <p><a href="oracle-streams-information-consumption.html#GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6">Explicit Consumption with Manual Dequeue</a></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d26231e2163 d26231e2085 ">
                                    <p>Manually according to application logic</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d26231e2163 d26231e2088 ">
                                    <p>Persistent LCRs</p>
                                    <p>Buffered LCRs</p>
                                    <p>Persistent user messages</p>
                                    <p>Buffered user messages</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d26231e2163 d26231e2091 ">
                                    <p>You want an application to dequeue manually persistent LCRs or buffered LCRs from an <code class="codeph">ANYDATA</code> queue and process them.
                                    </p>
                                    <p>You want an application to dequeue manually persistent user messages or buffered user messages from an <code class="codeph">ANYDATA</code> queue or a <a href="strms_glossary.html#GUID-A1B782A4-0767-457D-8CFD-D8ABF546A71D"><span class="xrefglossterm">typed queue</span></a> and process them.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31__GUID-F82E63F1-B752-4B52-B450-09F7D6F30A6B">
                        <p class="notep1">Note:</p>
                        <p>A single database can use any combination of the information consumption options summarized in the table.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-8B3748DD-0DF8-45A0-9FCC-C8A7DDC2CE31__GUID-A6658A88-9BD2-4B3E-8158-3D395759F769">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="oracle-streams-information-capture.html#GUID-DADEDB32-7F0F-40F2-A5A5-81327102B00B"> Oracle Streams Information Capture</a></p>
                           </li>
                           <li>
                              <p><a href="../adque/toc.htm"><span class="italic">Oracle Database Advanced Queuing User's Guide </span></a>for information about enqueuing messages
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP118"><span class="italic">Oracle Streams Replication Administrator's Guide </span></a>for more information about managing LCRs
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="STRMS104"></a><div class="props_rev_3"><a id="GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED" name="GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED"></a><h3 id="STRMS-GUID-40F2B660-C0DA-4DE4-BBC6-D8C47BE535ED" class="sect3"><span class="enumeration_section">4.2 </span>Implicit Consumption with an Apply Process
               </h3>
               <div>
                  <p>This section explains the concepts related to Oracle Streams <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es.
                  </p>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-465FBC7D-B7D3-4834-8468-1D9A50CC31DE">Introduction to the Apply Process</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-03B6F027-64FA-4659-87C2-92DD2DF72F41">Apply Process Rules</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-E540231B-9063-4F4E-BE79-72349800F720">Types of Messages That Can Be Processed with an Apply Process</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360">Message Processing Options for an Apply Process</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-618E75FA-8D07-4FA5-94EB-5CB69F6EFF37">The Source of Messages Applied by an Apply Process</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-553EAC52-C16C-49DE-AA19-0A994EC84EFB">Data Types Applied</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4">Automatic Data Type Conversion During Apply</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-254DBAF4-21ED-462B-9488-854ADF84E9A1">SQL Generation</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-EA7A5FBD-646C-4B86-B412-7462861920DD">Oracle Streams Apply Processes and RESTRICTED SESSION</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-643C9FCF-4E96-4127-920B-61E3BAF7CB44">Apply Process Subcomponents</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-FA07061A-A574-450E-8791-878BDA3FEC03">Apply User</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-8222F401-A0FD-405D-85BA-FCD0C7DB929C">Apply Process Parameters</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-8DF6096D-645F-4B3B-9AFC-64C30B207C39">Persistent Apply Process Status Upon Database Restart</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-streams-information-consumption.html#GUID-0996F5C0-F684-4495-A20E-02FD995FDAD8">The Error Queue</a></p>
                     </li>
                  </ul>
               </div><a id="STRMS373"></a><div class="props_rev_3"><a id="GUID-465FBC7D-B7D3-4834-8468-1D9A50CC31DE" name="GUID-465FBC7D-B7D3-4834-8468-1D9A50CC31DE"></a><h4 id="STRMS-GUID-465FBC7D-B7D3-4834-8468-1D9A50CC31DE" class="sect4"><span class="enumeration_section">4.2.1 </span>Introduction to the Apply Process
                  </h4>
                  <div>
                     <p>An <span class="bold">apply process</span> is an optional Oracle background process that dequeues <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s from a specific <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a> and either applies each message directly, discards it, passes it as a parameter to an <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>, or re-enqueues it. These messages can be logical change records (<a href="strms_glossary.html#GUID-43A45807-D91D-43A2-89C8-8DEBCEF70770"><span class="xrefglossterm">LCR</span></a>s) or <a href="strms_glossary.html#GUID-7613B49E-9B03-4C9E-9A00-C92C6B2CEC9A"><span class="xrefglossterm">user message</span></a>s.
                     </p>
                     <div class="infoboxnote" id="GUID-465FBC7D-B7D3-4834-8468-1D9A50CC31DE__GUID-BE6223AB-3474-4F8E-A681-4E9D1E9CBACA">
                        <p class="notep1">Note:</p>
                        <p>An apply process can only dequeue messages from an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a>, not a <a href="strms_glossary.html#GUID-A1B782A4-0767-457D-8CFD-D8ABF546A71D"><span class="xrefglossterm">typed queue</span></a>.
                        </p>
                     </div>
                  </div>
               </div><a id="STRMS374"></a><div class="props_rev_3"><a id="GUID-03B6F027-64FA-4659-87C2-92DD2DF72F41" name="GUID-03B6F027-64FA-4659-87C2-92DD2DF72F41"></a><h4 id="STRMS-GUID-03B6F027-64FA-4659-87C2-92DD2DF72F41" class="sect4"><span class="enumeration_section">4.2.2 </span>Apply Process Rules
                  </h4>
                  <div>
                     <p>An <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> applies messages based on <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s that you define. For <a href="strms_glossary.html#GUID-43A45807-D91D-43A2-89C8-8DEBCEF70770"><span class="xrefglossterm">LCR</span></a>s, each rule specifies the database objects and types of changes for which the rule evaluates to <code class="codeph">TRUE</code>. For <a href="strms_glossary.html#GUID-7613B49E-9B03-4C9E-9A00-C92C6B2CEC9A"><span class="xrefglossterm">user message</span></a>s, you can create rules to control apply process behavior for specific types of messages. You can place these rules in the <a href="strms_glossary.html#GUID-A810B839-61A2-4DEB-85C9-8F2F09455268"><span class="xrefglossterm">positive rule set</span></a> or <a href="strms_glossary.html#GUID-F44D0886-397B-4E00-A666-A19F96F3C242"><span class="xrefglossterm">negative rule set</span></a> for the apply process.
                     </p>
                     <p>If a rule evaluates to <code class="codeph">TRUE</code> for a message, and the rule is in the positive rule set for an apply process, then the apply process dequeues and processes the message. If a rule evaluates to <code class="codeph">TRUE</code> for a message, and the rule is in the negative rule set for an apply process, then the apply process discards the message. If an apply process has both a positive and a negative rule set, then the negative rule set is always evaluated first.
                     </p>
                     <p>You can specify apply process rules for LCRs at the following levels:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A table rule applies or discards either row changes resulting from DML changes or DDL changes to a particular table. A subset rule is a table rule that include a subset of the row changes to a particular table.</p>
                        </li>
                        <li>
                           <p>A schema rule applies or discards either row changes resulting from DML changes or DDL changes to the database objects in a particular schema.</p>
                        </li>
                        <li>
                           <p>A global rule applies or discards either all row changes resulting from DML changes or all DDL changes in the <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a> associated with an apply process.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-03B6F027-64FA-4659-87C2-92DD2DF72F41__GUID-7DFD8B0F-9FE2-49D5-964C-C5AC73332AEE">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="advanced-rule-concepts.html#GUID-5E6F0B16-C959-46EC-984E-1B5FC642A16D"> Advanced Rule Concepts</a></p>
                           </li>
                           <li>
                              <p><a href="how-rules-are-used-in-oracle-streams.html#GUID-FBC295B1-E3CD-428C-A3BF-69F74214DA14"> How Rules Are Used in Oracle Streams</a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-rules.html#GUID-AB9D9589-CD21-4EED-959B-72CA569334F3"> Managing Rules</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STRMS375"></a><div class="props_rev_3"><a id="GUID-E540231B-9063-4F4E-BE79-72349800F720" name="GUID-E540231B-9063-4F4E-BE79-72349800F720"></a><h4 id="STRMS-GUID-E540231B-9063-4F4E-BE79-72349800F720" class="sect4"><span class="enumeration_section">4.2.3 </span>Types of Messages That Can Be Processed with an Apply Process
                  </h4>
                  <div>
                     <p>Apply processes can dequeue the following types of messages:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Captured LCRs:</span> A <a href="strms_glossary.html#GUID-BEE35017-AD49-4CA8-AFCF-5AB6898BE94D"><span class="xrefglossterm">logical change record (LCR)</span></a> that was captured implicitly by a <a href="strms_glossary.html#GUID-7E24C191-B4E0-45F2-A55B-9F76D4F9E8B0"><span class="xrefglossterm">capture process</span></a> and enqueued into the <a href="strms_glossary.html#GUID-9ABDA00F-83A1-435F-8E93-315D3D05E4B7"><span class="xrefglossterm">buffered queue</span></a> portion of an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a>. In some situations, an optimization enables capture processes to send LCRs to apply processes more efficiently. This optimization is called combined capture and apply.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Persistent LCRs:</span> An LCR that was captured implicitly by a <a href="strms_glossary.html#GUID-5CA58899-A02D-422A-AE15-E8FCD004EB17"><span class="xrefglossterm">synchronous capture</span></a>, constructed and enqueued persistently by an application, or enqueued by an apply process. A persistent LCR is enqueued into the <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a> portion of an <code class="codeph">ANYDATA</code> queue.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Persistent user messages:</span> A non-LCR <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a> of a user-defined type that was enqueued explicitly by an application or an apply process. A persistent user message is enqueued into the persistent queue portion of an <code class="codeph">ANYDATA</code> queue. In addition, a user message can be enqueued into an <code class="codeph">ANYDATA</code> queue or a typed queue, but an apply process can dequeue only user messages in an <code class="codeph">ANYDATA</code> queue.
                           </p>
                        </li>
                     </ul>
                     <p>A single apply process cannot dequeue both from the buffered queue and persistent queue portions of a queue. If messages in both the buffered queue and persistent queue must be processed by an apply process, then the <a href="strms_glossary.html#GUID-C73813B0-D8A7-46D5-85B2-15BAB0A146B5"><span class="xrefglossterm">destination database</span></a> must have at least two apply processes to process the messages.
                     </p>
                     <div class="infoboxnotealso" id="GUID-E540231B-9063-4F4E-BE79-72349800F720__GUID-5FF7DF57-0C8F-41EF-99F0-3C11F9F39B25">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="oracle-streams-staging-and-propagation.html#GUID-FE609A2B-DF7F-4BCC-979A-362C664C5292">Introduction to Message Staging and Propagation</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP206"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> for information about creating an apply process
                              </p>
                           </li>
                           <li>
                              <p><a href="combined-capture-and-apply-optimization.html#GUID-12B8EF20-C7BB-431A-BB5C-1F619EF9362F"> Combined Capture and Apply Optimization</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STRMS376"></a><a id="STRMS1464"></a><a id="STRMS175"></a><div class="props_rev_3"><a id="GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360" name="GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360"></a><h4 id="STRMS-GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360" class="sect4"><span class="enumeration_section">4.2.4 </span>Message Processing Options for an Apply Process
                  </h4>
                  <div>
                     <p>An apply process can either apply <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s directly or send messages to an <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a> for processing. Your options for message processing depend on whether the message received by an apply process is a <a href="strms_glossary.html#GUID-AE0440A4-BB98-4135-8EB5-FB933D1E51CC"><span class="xrefglossterm">row logical change record (row LCR)</span></a>, a <a href="strms_glossary.html#GUID-E1DCD2A9-E981-4232-8A3A-7799B481AE30"><span class="xrefglossterm">DDL logical change record (DDL LCR)</span></a>, or a <a href="strms_glossary.html#GUID-7613B49E-9B03-4C9E-9A00-C92C6B2CEC9A"><span class="xrefglossterm">user message</span></a>.
                     </p>
                     <p><a href="oracle-streams-information-consumption.html#GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360__i1006221">Figure 4-1</a> shows the message processing options for an apply process and which options can be used for different types of messages.
                     </p>
                     <div class="figure" id="GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360__i1006221">
                        <p class="titleinfigure">Figure 4-1 Apply Process Message Processing Options</p><img width="446" src="img/strms013.gif" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/strms013.html"><br><a href="img_text/strms013.html">Description of "Figure 4-1 Apply Process Message Processing Options"</a></div>
                     <!-- class="figure" -->
                     <p>By default, an apply process applies LCRs directly. The apply process executes the change in the LCR on the database object identified in the LCR. The apply process either successfully applies the change in the LCR or, if a <a href="strms_glossary.html#GUID-60799E10-76F3-475D-B080-FAF5930E6942"><span class="xrefglossterm">conflict</span></a> or an apply error is encountered, tries to resolve the error with a conflict handler or a user-specified procedure called an <span class="bold">error handler</span>. 
                     </p>
                     <p>If a conflict handler can resolve the conflict, then it either applies the LCR or it discards the change in the LCR. If an error handler can resolve the error, then it should apply the LCR, if appropriate. An error handler can resolve an error by modifying the LCR before applying it. If the conflict handler or error handler cannot resolve the error, then the apply process places the transaction, and all LCRs associated with the transaction, into the error queue.</p>
                     <p>Instead of applying LCRs directly, you can process LCRs in a customized way with apply handlers. When you use an apply handler, an apply process passes a message to a collection of SQL statements or to a user-defined PL/SQL procedure for processing. An apply handler can process the message in a customized way.</p>
                     <p>An apply process cannot apply user messages directly. An apply process that dequeues user messages must have a message handler to process the user messages.</p>
                     <p>There are several types of apply handlers. This section uses the following categories to describe apply handlers:</p>
                     <div class="tblformal" id="GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360__GUID-924EA22E-DB58-4532-9F5B-E592CCE668CA">
                        <p class="titleintable">Table 4-2 Characteristics of Apply Handlers</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Characteristics of Apply Handlers" summary="This table describes each category used to define apply handlers." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d26231e3253">Category</th>
                                 <th align="left" valign="bottom" width="69%" id="d26231e3256">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26231e3261" headers="d26231e3253 ">
                                    <p>Mechanism</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26231e3261 d26231e3256 ">
                                    <p>The means by which the apply handler processes messages. The mechanism for an apply handler is either SQL statements or a user-defined PL/SQL procedure.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26231e3268" headers="d26231e3253 ">
                                    <p>Type of message</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26231e3268 d26231e3256 ">
                                    <p>The type of message processed by the apply handler. The message type is either <a href="strms_glossary.html#GUID-AE0440A4-BB98-4135-8EB5-FB933D1E51CC"><span class="xrefglossterm">row logical change record (row LCR)</span></a>, <a href="strms_glossary.html#GUID-E1DCD2A9-E981-4232-8A3A-7799B481AE30"><span class="xrefglossterm">DDL logical change record (DDL LCR)</span></a>, <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>, or <a href="strms_glossary.html#GUID-D5360771-EADD-4ADD-A857-4C17085A8F44"><span class="xrefglossterm">transaction control directive</span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26231e3291" headers="d26231e3253 ">
                                    <p>Message creator</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26231e3291 d26231e3256 ">
                                    <p>The component that creates the messages processed by the apply handler. The message creator is either a capture process, a synchronous capture, or an application.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26231e3298" headers="d26231e3253 ">
                                    <p>Scope</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26231e3298 d26231e3256 ">
                                    <p>The level at which the apply handler is set. The scope is either one operation on one table or all operations on all database objects.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26231e3305" headers="d26231e3253 ">
                                    <p>Number allowed for each apply process</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26231e3305 d26231e3256 ">
                                    <p>The number of apply handlers of a specific type allowed for each apply process. The number allowed is either one or many.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following sections describe different types of apply handlers:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-FD7C80F9-A30E-4B76-83F3-2C789E2BAEA7">DML Handlers</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-38B63A0C-2E63-428D-B5F4-6CD4F024BB4B">DDL Handlers</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-A296EDB6-C3A7-4AD3-BB7B-52BC205ABB71">Message Handlers</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-C5B45C16-4C39-4BB3-8835-23852B6CD23C">Precommit Handlers</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-E49BF73D-FC71-4388-9D6C-366FBD87788A">Considerations for Apply Handlers</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-91C26D01-385D-4BD0-A29F-C2A0BFED0360__GUID-0F3D0D04-F211-4FCD-ADF2-D95593FBA73D">
                        <p class="notep1">Note:</p>
                        <p>An apply process cannot apply non-LCR messages directly. Each <a href="strms_glossary.html#GUID-7613B49E-9B03-4C9E-9A00-C92C6B2CEC9A"><span class="xrefglossterm">user message</span></a> dequeued by an apply process must be processed with a message handler.
                        </p>
                     </div>
                  </div><a id="STRMS379"></a><div class="props_rev_3"><a id="GUID-FD7C80F9-A30E-4B76-83F3-2C789E2BAEA7" name="GUID-FD7C80F9-A30E-4B76-83F3-2C789E2BAEA7"></a><h5 id="STRMS-GUID-FD7C80F9-A30E-4B76-83F3-2C789E2BAEA7" class="sect5"><span class="enumeration_section">4.2.4.1 </span>DML Handlers
                     </h5>
                     <div>
                        <p>DML handlers process row logical change records (row LCRs) dequeued by an apply process. There are two types of DML handlers: statement DML handlers and procedure DML handlers. A statement DML handler uses a collection of SQL statements to process row LCRs, while a procedure DML handler uses a PL/SQL procedure to process row LCRs.</p>
                        <p>The following sections describe DML handlers and error handlers:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="oracle-streams-information-consumption.html#GUID-B0A12CDB-8207-4AA5-8093-A0EA0FCF9C22">Statement DML Handlers</a></p>
                           </li>
                           <li>
                              <p><a href="oracle-streams-information-consumption.html#GUID-B408C059-4044-4B42-9C50-1BD77BB57050">Procedure DML Handlers</a></p>
                           </li>
                        </ul>
                     </div><a id="STRMS1465"></a><div class="props_rev_3"><a id="GUID-B0A12CDB-8207-4AA5-8093-A0EA0FCF9C22" name="GUID-B0A12CDB-8207-4AA5-8093-A0EA0FCF9C22"></a><h6 id="STRMS-GUID-B0A12CDB-8207-4AA5-8093-A0EA0FCF9C22" class="sect6"><span class="enumeration_section">4.2.4.1.1 </span>Statement DML Handlers
                        </h6>
                        <div>
                           <p>A <span class="bold">statement DML handler</span> has the following characteristics:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Mechanism: A collection of SQL statements</p>
                              </li>
                              <li>
                                 <p>Type of message: Row LCR</p>
                              </li>
                              <li>
                                 <p>Message creator: Capture process, synchronous capture, or application</p>
                              </li>
                              <li>
                                 <p>Scope: One operation on one table</p>
                              </li>
                              <li>
                                 <p>Number allowed for each apply process: Many, and many can be specified for the same operation on the same table</p>
                              </li>
                           </ul>
                           <p>Each SQL statement included in a statement DML handler has a unique execution sequence number. When a statement DML handler is invoked, it executes its statements in order from the statement with the lowest execution sequence number to the statement with the highest execution sequence number. An execution sequence number can be a positive number, a negative number, or a decimal number.</p>
                           <p>For each table associated with an apply process, you can set a separate statement DML handler to process each of the following types of operations in row LCRs:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">INSERT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UPDATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DELETE</code></p>
                              </li>
                           </ul>
                           <p>A statement DML handler is invoked when the apply process dequeues a row LCR that performs the specified operation on the specified table. For example, the <code class="codeph">hr.employees</code> table can have one statement DML handler to process <code class="codeph">INSERT</code> operations and a different statement DML handler to process <code class="codeph">UPDATE</code> operations. Alternatively, the <code class="codeph">hr.employees</code> table can use the same statement DML handler for each type of operation.
                           </p>
                           <p>You can specify multiple statement DML handlers for the same operation on the same table. In this case, these statement DML handlers can execute in any order, and each statement DML handler receives a copy of the original row LCR that was dequeued by the apply process.</p>
                           <p>A SQL statement in a statement DML handler can include the following types of operations in row LCRs:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">INSERT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UPDATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DELETE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">MERGE</code></p>
                              </li>
                           </ul>
                           <p>For example, a SQL statement in a statement DML handler can process a row LCR that updates the <code class="codeph">hr.employees</code> table, and this statement can include an <code class="codeph">INSERT</code> operation that inserts a row into a different table.
                           </p>
                           <p>Statement DML handlers can run valid DML statements on row LCRs, but statement DML handlers cannot modify the column values in row LCRs. However, statement DML handlers can use SQL to insert a row or update a row with column values that are different than the ones in the row LCR. Also, statement DML handlers should never commit and never roll back.</p>
                           <p>To execute a row LCR in a statement DML handler, invoke the <code class="codeph">EXECUTE</code> member procedure for the row LCR. A statement that runs the <code class="codeph">EXECUTE</code> member procedure can be placed anywhere in the execution sequence order of the statement DML handler. It is not necessary to execute a row LCR unless the goal is to apply the changes in the row LCR to a table in addition to performing any other SQL statements in the statement DML handler.
                           </p>
                           <p><a id="d26231e3725" class="indexterm-anchor"></a>To add a statement to a statement DML handler, use the <code class="codeph">ADD_STMT_TO_HANDLER</code> procedure in the <code class="codeph">DBMS_STREAMS_HANDLER_ADM</code> package. To add a statement DML handler to an apply process, use the <code class="codeph">ADD_STMT_HANDLER</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package. You can either add a statement DML handler to a specific apply process, or you can add a statement DML handler as a general statement DML handler that is used by all apply processes in the database. If a statement DML handler for an operation on a table is used by a specific apply process, and another statement DML handler is a general handler for the same operation on the same table, then both handlers are invoked when an apply process dequeues a row LCR with the operation on the table. Each statement DML handler receives the original row LCR, and the statement DML handlers can execute in any order.
                           </p>
                           <p>Statement DML handlers are often used to record the changes made to tables. Statement DML handlers can also perform changes that do not modify column values. For example, statement DML handlers can change the data type of a column.</p>
                           <div class="infoboxnote" id="GUID-B0A12CDB-8207-4AA5-8093-A0EA0FCF9C22__GUID-56908EF4-3EBB-4D5A-9EAD-9AC57A18D45F">
                              <p class="notep1">Note:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>When you run the <code class="codeph">ADD_STMT_HANDLER</code> procedure, you specify the object for which the handler is used. This object does not need to exist at the destination database when you run the procedure.
                                    </p>
                                 </li>
                                 <li>
                                    <p><a id="d26231e3753" class="indexterm-anchor"></a><a id="d26231e3755" class="indexterm-anchor"></a>A change handler is a special type of statement DML handler that tracks table changes and was created by either the <code class="codeph">DBMS_STREAMS_ADM.MAINTAIN_CHANGE_TABLE</code> procedure or the <code class="codeph">DBMS_APPLY_ADM.SET_CHANGE_HANDLER</code> procedure.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnotealso" id="GUID-B0A12CDB-8207-4AA5-8093-A0EA0FCF9C22__GUID-7DAF5A75-DBA3-4EE7-8579-06A28FBF3274">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-52FFD329-6D03-4389-A7B2-F00088248092">Managing a Statement DML Handler</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="monitoring-oracle-streams-apply-processes.html#GUID-9365EAA5-67EF-4095-B70B-3D52100F6977">Displaying Information About Statement DML Handlers</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-326872EA-5C68-4BDA-B0A3-4E191A8E726C">Row LCRs</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-restrictions.html#GUID-41DDBBA0-1E9F-431F-839D-28678E2C32DA">Unsupported Data Types for Apply Handlers</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="using-oracle-streams-to-record-table-changes.html#GUID-FC8D54BA-D861-455A-AB5C-DED756F4333B"> Using Oracle Streams to Record Table Changes</a> for information about change handlers
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS307"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information about the <code class="codeph">EXECUTE</code> member procedure for LCR types
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="STRMS1466"></a><div class="props_rev_3"><a id="GUID-B408C059-4044-4B42-9C50-1BD77BB57050" name="GUID-B408C059-4044-4B42-9C50-1BD77BB57050"></a><h6 id="STRMS-GUID-B408C059-4044-4B42-9C50-1BD77BB57050" class="sect6"><span class="enumeration_section">4.2.4.1.2 </span>Procedure DML Handlers
                        </h6>
                        <div>
                           <p>A <span class="bold">procedure DML handler</span> has the following characteristics:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Mechanism: A user-defined PL/SQL procedure</p>
                              </li>
                              <li>
                                 <p>Type of message: Row LCR</p>
                              </li>
                              <li>
                                 <p>Message creator: Capture process, synchronous capture, or application</p>
                              </li>
                              <li>
                                 <p>Scope: One operation on one table</p>
                              </li>
                              <li>
                                 <p>Number allowed for each apply process: Many, but only one can be specified for the same operation on the same table</p>
                              </li>
                           </ul>
                           <p>For each table associated with an apply process, you can set a separate procedure DML handler to process each of the following types of operations in row LCRs:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">INSERT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UPDATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DELETE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOB_UPDATE</code></p>
                              </li>
                           </ul>
                           <p>A procedure DML handler is invoked when the apply process dequeues a row LCR that performs the specified operation on the specified table. For example, the <code class="codeph">hr.employees</code> table can have one procedure DML handler to process <code class="codeph">INSERT</code> operations and a different procedure DML handler to process <code class="codeph">UPDATE</code> operations. Alternatively, the <code class="codeph">hr.employees</code> table can use the same procedure DML handler for each type of operation.
                           </p>
                           <p>The PL/SQL procedure can perform any customized processing of row LCRs. For example, if you want each insert into a particular table at the <a href="strms_glossary.html#GUID-B5BB35D0-9179-4301-BA50-5B9CE22E362D"><span class="xrefglossterm">source database</span></a> to result in inserts into multiple tables at the <a href="strms_glossary.html#GUID-C73813B0-D8A7-46D5-85B2-15BAB0A146B5"><span class="xrefglossterm">destination database</span></a>, then you can create a user-defined PL/SQL procedure that processes <code class="codeph">INSERT</code> operations on the table to accomplish this. Unlike statement DML handlers, procedure DML handlers can modify the column values in row LCRs.
                           </p>
                           <p>A procedure DML handler should never commit and never roll back, except to a named savepoint that the user-defined PL/SQL procedure has established. To execute a row LCR inside a procedure DML handler, invoke the <code class="codeph">EXECUTE</code> member procedure for the row LCR. Also, a procedure DML handler should handle any errors that might occur during processing.
                           </p>
                           <p><a id="d26231e4017" class="indexterm-anchor"></a>To set a procedure DML handler, use the <code class="codeph">SET_DML_HANDLER</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package. You can either set a procedure DML handler for a specific apply process, or you can set a procedure DML handler to be a general procedure DML handler that is used by all apply processes in the database. If a procedure DML handler for an operation on a table is set for a specific apply process, and another procedure DML handler is a general handler for the same operation on the same table, then the specific procedure DML handler takes precedence over the general procedure DML handler.
                           </p>
                           <p>Typically, procedure DML handlers are used in Oracle Streams <a href="strms_glossary.html#GUID-5BC36291-C075-4244-905A-ACDAB250E825"><span class="xrefglossterm">replication</span></a> environments to perform custom processing of row LCRs, but procedure DML handlers can be used in nonreplication environments as well. For example, you can use such handlers to record changes made to database objects without replicating these changes.
                           </p>
                           <div class="infoboxnote" id="GUID-B408C059-4044-4B42-9C50-1BD77BB57050__GUID-FF2EDD4D-7C51-432F-B4EE-78D01753A9F2">
                              <p class="notep1">Note:</p>
                              <p>When you run the <code class="codeph">SET_DML_HANDLER</code> procedure, you specify the object for which the handler is used. This object does not need to exist at the destination database when you run the procedure.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-B408C059-4044-4B42-9C50-1BD77BB57050__GUID-0CD702B2-B0D9-4817-A860-5CDFF45206B3">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-326872EA-5C68-4BDA-B0A3-4E191A8E726C">Row LCRs</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-restrictions.html#GUID-41DDBBA0-1E9F-431F-839D-28678E2C32DA">Unsupported Data Types for Apply Handlers</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS307"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information about the <code class="codeph">EXECUTE</code> member procedure for LCR types
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-A6074063-2D66-4FB9-864D-D5228624732A">Managing a DML Handler</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="STRMS1467"></a><div class="props_rev_3"><a id="GUID-6890F140-9FCE-4EB7-A580-25B5AF61D755" name="GUID-6890F140-9FCE-4EB7-A580-25B5AF61D755"></a><h5 id="STRMS-GUID-6890F140-9FCE-4EB7-A580-25B5AF61D755" class="sect5"><span class="enumeration_section">4.2.4.2 </span>Error Handlers
                     </h5>
                     <div>
                        <p>An <span class="bold">error handler</span> has the following characteristics:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Mechanism: A user-defined PL/SQL procedure	</p>
                           </li>
                           <li>
                              <p>Type of message: Row LCR</p>
                           </li>
                           <li>
                              <p>Message creator: Capture process, synchronous capture, or application</p>
                           </li>
                           <li>
                              <p>Scope: One operation on one table</p>
                           </li>
                           <li>
                              <p>Number allowed for each apply process: Many, but only one can be specified for the same operation on the same table</p>
                           </li>
                        </ul>
                        <p>An error handler is similar to a procedure DML handler. The difference between the two is that an error handler is invoked only if an apply error results when an apply process tries to apply a row LCR for the specified operation on the specified table.</p>
                        <p>You create an error handler in the same way that you create a procedure DML handler, except that you set the <code class="codeph">error_handler</code> parameter to <code class="codeph">TRUE</code> when you run the <code class="codeph">SET_DML_HANDLER</code> procedure.
                        </p>
                        <p>An error handler cannot coexist with a procedure DML handler for the same operation on the same table. However, an error handler can coexist with a statement DML handler for the same operation on the same table.</p>
                        <div class="infoboxnote" id="GUID-6890F140-9FCE-4EB7-A580-25B5AF61D755__GUID-EF4E9C2E-145A-4FE3-8BDE-4EE200A1AE4B">
                           <p class="notep1">Note:</p>
                           <p>Statement DML handlers cannot be used as error handlers.</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-6890F140-9FCE-4EB7-A580-25B5AF61D755__GUID-79896426-9841-47C6-87B8-86D8C4C5F1BA">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-326872EA-5C68-4BDA-B0A3-4E191A8E726C">Row LCRs</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-restrictions.html#GUID-41DDBBA0-1E9F-431F-839D-28678E2C32DA">Unsupported Data Types for Apply Handlers</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS380"></a><div class="props_rev_3"><a id="GUID-38B63A0C-2E63-428D-B5F4-6CD4F024BB4B" name="GUID-38B63A0C-2E63-428D-B5F4-6CD4F024BB4B"></a><h5 id="STRMS-GUID-38B63A0C-2E63-428D-B5F4-6CD4F024BB4B" class="sect5"><span class="enumeration_section">4.2.4.3 </span>DDL Handlers
                     </h5>
                     <div>
                        <p>A <span class="bold">DDL handler</span> has the following characteristics:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Mechanism: A user-defined PL/SQL procedure</p>
                           </li>
                           <li>
                              <p>Type of message: DDL LCR</p>
                           </li>
                           <li>
                              <p>Message creator: Capture process or application</p>
                           </li>
                           <li>
                              <p>Scope: All DDL LCRs dequeued by the apply process</p>
                           </li>
                           <li>
                              <p>Number allowed for each apply process: One</p>
                           </li>
                        </ul>
                        <p>The user-defined PL/SQL procedure can perform any customized processing of DDL LCRs. For example, to log DDL changes before applying them, you can create a procedure that processes DDL operations to accomplish this.</p>
                        <p>To execute a DDL LCR inside a DDL handler, invoke the <code class="codeph">EXECUTE</code> member procedure for the DDL LCR. To associate a DDL handler with a particular apply process, use the <code class="codeph">ddl_handler</code> parameter in the <code class="codeph">CREATE_APPLY</code> or the <code class="codeph">ALTER_APPLY</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package.
                        </p>
                        <p>Typically, DDL handlers are used in Oracle Streams <a href="strms_glossary.html#GUID-5BC36291-C075-4244-905A-ACDAB250E825"><span class="xrefglossterm">replication</span></a> environments to perform custom processing of DDL LCRs, but these handlers can be used in nonreplication environments as well. For example, you can use such handlers to record changes made to database objects without replicating these changes.
                        </p>
                        <div class="infoboxnotealso" id="GUID-38B63A0C-2E63-428D-B5F4-6CD4F024BB4B__GUID-302B0269-08C1-4636-B4F0-7A7DE9969C1E">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-606A7546-9F7B-4ED7-8A11-4E2A0915EB2B">DDL LCRs</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS307"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information about the <code class="codeph">EXECUTE</code> member procedure for LCR types
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-78F7035F-FAC9-4DB0-9336-A5C8833902E3">Managing a DDL Handler</a>"</span> for more information about DDL handlers
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS381"></a><div class="props_rev_3"><a id="GUID-A296EDB6-C3A7-4AD3-BB7B-52BC205ABB71" name="GUID-A296EDB6-C3A7-4AD3-BB7B-52BC205ABB71"></a><h5 id="STRMS-GUID-A296EDB6-C3A7-4AD3-BB7B-52BC205ABB71" class="sect5"><span class="enumeration_section">4.2.4.4 </span>Message Handlers
                     </h5>
                     <div>
                        <p>A <span class="bold">message handler</span> has the following characteristics:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Mechanism: A user-defined PL/SQL procedure</p>
                           </li>
                           <li>
                              <p>Type of message: Persistent user message (non-LCR)</p>
                           </li>
                           <li>
                              <p>Message creator: Application</p>
                           </li>
                           <li>
                              <p>Scope: All user messages dequeued by the apply process</p>
                           </li>
                           <li>
                              <p>Number allowed for each apply process: One</p>
                           </li>
                        </ul>
                        <p>A message handler offers advantages in any environment that has applications that must update one or more remote databases or perform some other remote action. These applications can enqueue persistent user messages into a <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a> at the local database, and Oracle Streams can propagate each persistent user message to the appropriate queues at destination databases. If there are multiple destinations, then Oracle Streams provides the infrastructure for automatic propagation and processing of these messages at these destinations. If there is only one destination, then Oracle Streams still provides a layer between the application at the source database and the application at the destination database, so that, if the application at the remote database becomes unavailable, then the application at the source database can continue to function normally. 
                        </p>
                        <p>For example, a message handler can convert a persistent user message into an electronic mail message. In this case, the persistent user message can contain the attributes you would expect in an electronic mail message, such as <code class="codeph">from</code>, <code class="codeph">to</code>, <code class="codeph">subject</code>, <code class="codeph">text_of_message</code>, and so on. After converting a message into an electronic mail messages, the message handler can send it out through an electronic mail gateway.
                        </p>
                        <p>You can specify a message handler for an apply process using the <code class="codeph">message_handler</code> parameter in the <code class="codeph">CREATE_APPLY</code> or the <code class="codeph">ALTER_APPLY</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package. An Oracle Streams apply process always assumes that a non-LCR message has no dependencies on any other messages in the queue. If parallelism is greater than <code class="codeph">1</code> for an apply process that applies <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s, then these messages can be dequeued by a message handler in any order. Therefore, if dependencies exist between these messages in your environment, then Oracle recommends that you set apply process parallelism to <code class="codeph">1</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-A296EDB6-C3A7-4AD3-BB7B-52BC205ABB71__GUID-D18C6DD6-2006-47D0-9390-821CF92B265B">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-B6EDB895-EAF9-449D-A4CC-475317A43AD9">Managing the Message Handler for an Apply Process</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS382"></a><div class="props_rev_3"><a id="GUID-C5B45C16-4C39-4BB3-8835-23852B6CD23C" name="GUID-C5B45C16-4C39-4BB3-8835-23852B6CD23C"></a><h5 id="STRMS-GUID-C5B45C16-4C39-4BB3-8835-23852B6CD23C" class="sect5"><span class="enumeration_section">4.2.4.5 </span>Precommit Handlers
                     </h5>
                     <div>
                        <p>A <span class="bold">precommit handler</span> has the following characteristics:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Mechanism: A user-defined PL/SQL procedure</p>
                           </li>
                           <li>
                              <p>Type of message: Commit directive for transactions that include row LCRs or persistent user messages</p>
                           </li>
                           <li>
                              <p>Message creator: Capture process, synchronous capture, or application</p>
                           </li>
                           <li>
                              <p>Scope: All row LCRs with commit directives dequeued by the apply process</p>
                           </li>
                           <li>
                              <p>Number allowed for each apply process: One</p>
                           </li>
                        </ul>
                        <p>You can use a precommit handler to audit commit directives for <a href="strms_glossary.html#GUID-0D2E5DAF-804E-4089-9E0E-987C96F59706"><span class="xrefglossterm">captured LCR</span></a>s and transaction boundaries for <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a>s and <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s. A commit directive is a <a href="strms_glossary.html#GUID-D5360771-EADD-4ADD-A857-4C17085A8F44"><span class="xrefglossterm">transaction control directive</span></a> that contains a <code class="codeph">COMMIT</code>. A precommit handler is a user-defined PL/SQL procedure that can receive the commit information for a transaction and process the commit information in any customized way. A precommit handler can work with a statement DML handler, procedure DML handler, or message handler.
                        </p>
                        <p>For example, a precommit handler can improve performance by caching data for the length of a transaction. This data can include cursors, temporary LOBs, data from a <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>, and so on. The precommit handler can release or execute the objects cached by the handler when a transaction completes.
                        </p>
                        <p>A precommit handler executes when the apply process commits a transaction. You can use the <code class="codeph">commit_serialization</code> apply process parameter to control the commit order for an apply process.
                        </p>
                        <p>The following list describes commit directives and transaction boundaries:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Commit Directives for Captured LCRs:</span> When you are using a capture process, and a user commits a transaction, the capture process captures an internal commit directive for the transaction if the transaction contains row LCRs that were captured by the capture process. The capture process also records the transaction identifier in each captured LCR in a transaction.
                              </p>
                              <p>Once enqueued, these commit directives can be propagated to <a href="strms_glossary.html#GUID-584772DA-C868-4F6B-9B7F-9E665F2D6F85"><span class="xrefglossterm">destination queue</span></a>s, along with the LCRs in a transaction. A precommit handler receives each commit SCN for these internal commit directives in the queue of an apply process before they are processed by the apply process.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Transaction Boundaries for Persistent LCRs Enqueued by Synchronous Captures:</span> When you are using a synchronous capture, and a user commits a transaction, the persistent LCRs that were enqueued by the synchronous capture are organized into a message group. The synchronous capture records the transaction identifier in each persistent LCR in a transaction.
                              </p>
                              <p>After persistent LCRs are enqueued by a synchronous capture, the persistent LCRs in the message group can be propagated to other queues. When an apply process is configured to process these persistent LCRs, it generates a commit SCN for all of the persistent LCRs in a message group. The commit SCN values generated by an individual apply process have no relation to the source transaction, or to the values generated by any other apply process. A precommit handler configured for such an apply process receives the commit SCN supplied by the apply process.</p>
                           </li>
                           <li>
                              <p><span class="bold">Transaction Boundaries for Messages Enqueued by Applications:</span> An application can enqueue persistent LCRs and persistent user messages, as well as other types of messages. When the user performing these enqueue operations issues a <code class="codeph">COMMIT</code> statement to end the transaction, the enqueued persistent LCRs and persistent user messages are organized into a message group.
                              </p>
                              <p>When messages that were enqueued by an application are organized into a message group, the messages in the message group can be propagated to other queues. When an apply process is configured to process these messages, it generates a single transaction identifier and commit SCN for all the messages in a message group. Transaction identifiers and commit SCN values generated by an individual apply process have no relation to the source transaction, or to the values generated by any other apply process. A precommit handler configured for such an apply process receives the commit SCN supplied by the apply process.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-C5B45C16-4C39-4BB3-8835-23852B6CD23C__GUID-9BC14F64-94FC-4F7D-8843-BC6C71B37391">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-B61BF83E-0B0A-45FD-89A0-3E58AB42118A">Managing the Precommit Handler for an Apply Process</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about apply process parameters
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS383"></a><div class="props_rev_3"><a id="GUID-E49BF73D-FC71-4388-9D6C-366FBD87788A" name="GUID-E49BF73D-FC71-4388-9D6C-366FBD87788A"></a><h5 id="STRMS-GUID-E49BF73D-FC71-4388-9D6C-366FBD87788A" class="sect5"><span class="enumeration_section">4.2.4.6 </span>Considerations for Apply Handlers
                     </h5>
                     <div>
                        <p>The following are considerations for using apply handlers:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Both statement DML handlers and procedure DML handlers process row LCRs. Procedure DML handlers require PL/SQL processing while statement DML handlers do not. Therefore, statement DML handlers typically perform better than procedure DML handlers. Statement DML handlers also are usually easier to configure that procedure DML handlers. However, procedure DML handlers can perform operations that are not possible with a statement DML handler, such as controlling program flow and trapping errors. In addition, procedure DML handlers can modify column values in row LCRs while statement DML handlers cannot.</p>
                           </li>
                           <li>
                              <p>Statement DML handlers, procedure DML handlers, error handlers, DDL handlers, and message handlers can execute an LCR by calling the LCR's <code class="codeph">EXECUTE</code> member procedure.
                              </p>
                           </li>
                           <li>
                              <p>All applied DDL LCRs commit automatically. Therefore, if a DDL handler calls the <code class="codeph">EXECUTE</code> member procedure of a DDL LCR, then a commit is performed automatically.
                              </p>
                           </li>
                           <li>
                              <p>An apply handler that uses a PL/SQL procedure can set an Oracle Streams session <a href="strms_glossary.html#GUID-D667D798-F9C9-437F-92AB-8C04FAD19B64"><span class="xrefglossterm">tag</span></a>. Statement DML handlers cannot set an Oracle Streams session tag.
                              </p>
                           </li>
                           <li>
                              <p><a id="d26231e5060" class="indexterm-anchor"></a>An apply handler that uses a user-defined PL/SQL procedure can call a Java stored procedure that is published (or wrapped) in a PL/SQL procedure. Statement DML handlers cannot call a Java stored procedure.
                              </p>
                           </li>
                           <li>
                              <p>If an apply process tries to invoke an apply handler that does not exist or is invalid, then the apply process aborts.</p>
                           </li>
                           <li>
                              <p>If an apply handler that uses a PL/SQL procedure invokes a procedure or function in an Oracle-supplied package, then the user who runs the apply handler must have direct <code class="codeph">EXECUTE</code> privilege on the package. It is not sufficient to grant this privilege through a role. The <code class="codeph">DBMS_STREAMS_AUTH.GRANT_ADMIN_PRIVILEGE</code> procedure grants <code class="codeph">EXECUTE</code> privilege on all Oracle Streams packages, and other privileges relevant to Oracle Streams. A statement DML handler cannot invoke a procedure or function.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-E49BF73D-FC71-4388-9D6C-366FBD87788A__GUID-BD969C9C-AD2F-4F11-9BBA-585455394756">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=ARPLS307"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information about the <code class="codeph">EXECUTE</code> member procedure for LCR types
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../strep/oracle-streams-tags.html#STREP008"><span class="italic">Oracle Streams Replication Administrator's Guide </span></a>for more information about Oracle Streams tags
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS385"></a><a id="STRMS384"></a><div class="props_rev_3"><a id="GUID-993C627F-4A10-48AC-BD24-2CAA610BD66B" name="GUID-993C627F-4A10-48AC-BD24-2CAA610BD66B"></a><h5 id="STRMS-GUID-993C627F-4A10-48AC-BD24-2CAA610BD66B" class="sect5"><span class="enumeration_section">4.2.4.7 </span>Summary of Message Processing Options
                     </h5>
                     <div>
                        <p>The table in this section summarizes the message processing options available when you are using one or more of the <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>s described in the previous sections. Apply handlers are optional for row LCRs and DDL LCRs because an apply process can apply these messages directly. However, a message handler is required for processing persistent user messages. In addition, an apply process dequeues a message only if the message satisfies the <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>s for the apply process. In general, a message satisfies the rule sets for an apply process if <span class="italic">no rules</span> in the <a href="strms_glossary.html#GUID-F44D0886-397B-4E00-A666-A19F96F3C242"><span class="xrefglossterm">negative rule set</span></a> evaluate to <code class="codeph">TRUE</code> for the message, and <span class="italic">at least one rule</span> in the <a href="strms_glossary.html#GUID-A810B839-61A2-4DEB-85C9-8F2F09455268"><span class="xrefglossterm">positive rule set</span></a> evaluates to <code class="codeph">TRUE</code> for the message.
                        </p>
                        <p><a href="oracle-streams-information-consumption.html#GUID-993C627F-4A10-48AC-BD24-2CAA610BD66B__g1013185" title="This table lists apply handlers. For each apply handler, this table lists the type of messages processed by the handler, the mechanism for processing the messages, the default apply process behavior for the message, and the scope of the handler.">Table 4-3</a> summarizes the message processing options for an apply process.
                        </p>
                        <div class="tblformalwide" id="GUID-993C627F-4A10-48AC-BD24-2CAA610BD66B__g1013185">
                           <p class="titleintable">Table 4-3 Summary of Message Processing Options</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Summary of Message Processing Options" summary="This table lists apply handlers. For each apply handler, this table lists the type of messages processed by the handler, the mechanism for processing the messages, the default apply process behavior for the message, and the scope of the handler." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="13%" id="d26231e5282">Message Processing Option</th>
                                    <th align="left" valign="bottom" width="13%" id="d26231e5285">Mechanism</th>
                                    <th align="left" valign="bottom" width="18%" id="d26231e5288">Type of Message</th>
                                    <th align="left" valign="bottom" width="18%" id="d26231e5291">Message Creator</th>
                                    <th align="left" valign="bottom" width="13%" id="d26231e5294">Default Apply Process Behavior</th>
                                    <th align="left" valign="bottom" width="13%" id="d26231e5297">Scope of Handler</th>
                                    <th align="left" valign="bottom" width="12%" id="d26231e5300">Number Allowed for Each Apply Process</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d26231e5305" headers="d26231e5282 ">
                                       <p>Apply Message Directly</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5305 d26231e5285 ">
                                       <p>Not applicable</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5305 d26231e5288 ">
                                       <p>Row LCR or DDL LCR</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5305 d26231e5291 ">
                                       <p>Capture process, synchronous capture, or application</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5305 d26231e5294 ">
                                       <p>Execute DML or DDL</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5305 d26231e5297 ">
                                       <p>Not applicable</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d26231e5305 d26231e5300 ">
                                       <p>Not applicable</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d26231e5327" headers="d26231e5282 ">
                                       <p>Statement DML Handler</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5327 d26231e5285 ">
                                       <p>SQL statements</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5327 d26231e5288 ">
                                       <p>Row LCR</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5327 d26231e5291 ">
                                       <p>Capture process, synchronous capture, or application</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5327 d26231e5294 ">
                                       <p>Execute DML</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5327 d26231e5297 ">
                                       <p>One operation on one table</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d26231e5327 d26231e5300 ">
                                       <p>Many, and many can be specified for the same operation on the same table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d26231e5349" headers="d26231e5282 ">
                                       <p>Procedure DML Handler or Error Handler</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5349 d26231e5285 ">
                                       <p>User-defined PL/SQL procedure</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5349 d26231e5288 ">
                                       <p>Row LCR</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5349 d26231e5291 ">
                                       <p>Capture process, synchronous capture, or application</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5349 d26231e5294 ">
                                       <p>Execute DML</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5349 d26231e5297 ">
                                       <p>One operation on one table</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d26231e5349 d26231e5300 ">
                                       <p>Many, but only one can be specified for the same operation on the same table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d26231e5371" headers="d26231e5282 ">
                                       <p>DDL Handler</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5371 d26231e5285 ">
                                       <p>User-defined PL/SQL procedure</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5371 d26231e5288 ">
                                       <p>DDL LCR</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5371 d26231e5291 ">
                                       <p>Capture process or application</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5371 d26231e5294 ">
                                       <p>Execute DDL</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5371 d26231e5297 ">
                                       <p>Entire apply process</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d26231e5371 d26231e5300 ">
                                       <p>One</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d26231e5393" headers="d26231e5282 ">
                                       <p>Message Handler</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5393 d26231e5285 ">
                                       <p>User-defined PL/SQL procedure</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5393 d26231e5288 ">
                                       <p>Persistent user message</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5393 d26231e5291 ">
                                       <p>Application</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5393 d26231e5294 ">
                                       <p>Create error transaction (if no message handler exists)</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5393 d26231e5297 ">
                                       <p>Entire apply process</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d26231e5393 d26231e5300 ">
                                       <p>One</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d26231e5415" headers="d26231e5282 ">
                                       <p>Precommit Handler</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5415 d26231e5285 ">
                                       <p>User-defined PL/SQL procedure</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5415 d26231e5288 ">
                                       <p>Commit directive for transactions that include row LCRs or user messages</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26231e5415 d26231e5291 ">
                                       <p>Capture process, synchronous capture, or application</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5415 d26231e5294 ">
                                       <p>Commit transaction</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d26231e5415 d26231e5297 ">
                                       <p>Entire apply process</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d26231e5415 d26231e5300 ">
                                       <p>One</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>In addition to the message processing options described in this section, you can use the <code class="codeph">SET_ENQUEUE_DESTINATION</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package to instruct an apply process to enqueue messages into the <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a> portion of a specified destination queue. Also, you can control message execution using the <code class="codeph">SET_EXECUTE</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package.
                        </p>
                        <div class="infoboxnotealso" id="GUID-993C627F-4A10-48AC-BD24-2CAA610BD66B__GUID-1CD29EC5-106A-4632-81F0-E6F60417BCFB">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="how-rules-are-used-in-oracle-streams.html#GUID-FBC295B1-E3CD-428C-A3BF-69F74214DA14"> How Rules Are Used in Oracle Streams</a></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-80FC2523-4B43-42D1-80F0-2A796BA81938">Specifying That Apply Processes Enqueue Messages</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-C9D9ABD3-392A-4AF6-BD91-6A75E050AEFA">Specifying Execute Directives for Apply Processes</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="STRMS386"></a><div class="props_rev_3"><a id="GUID-618E75FA-8D07-4FA5-94EB-5CB69F6EFF37" name="GUID-618E75FA-8D07-4FA5-94EB-5CB69F6EFF37"></a><h4 id="STRMS-GUID-618E75FA-8D07-4FA5-94EB-5CB69F6EFF37" class="sect4"><span class="enumeration_section">4.2.5 </span>The Source of Messages Applied by an Apply Process
                  </h4>
                  <div>
                     <p>The following list describes the <a href="strms_glossary.html#GUID-B5BB35D0-9179-4301-BA50-5B9CE22E362D"><span class="xrefglossterm">source database</span></a> for different types of messages that are processed by an apply process:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For a <a href="strms_glossary.html#GUID-0D2E5DAF-804E-4089-9E0E-987C96F59706"><span class="xrefglossterm">captured LCR</span></a>, the source database is the database where the change encapsulated in the <a href="strms_glossary.html#GUID-43A45807-D91D-43A2-89C8-8DEBCEF70770"><span class="xrefglossterm">LCR</span></a> was generated in the redo log.
                           </p>
                        </li>
                        <li>
                           <p>For a <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a> captured by a synchronous capture, the source database is the database where the synchronous capture that captured the row LCR is configured.
                           </p>
                        </li>
                        <li>
                           <p>For a persistent LCR constructed and enqueued by an application, the source database is the database where the message was first enqueued.</p>
                        </li>
                        <li>
                           <p>For a <a href="strms_glossary.html#GUID-7613B49E-9B03-4C9E-9A00-C92C6B2CEC9A"><span class="xrefglossterm">user message</span></a>, the source database is the database where the message was first enqueued.
                           </p>
                        </li>
                     </ul>
                     <p>A single apply process can apply user messages that originated at multiple databases. However, a single apply process can apply captured LCRs from only one source database. Similarly, a single apply process can apply persistent LCRs captured by a synchronous capture from only one source database. Applying these LCRs requires knowledge of the dependencies, meaningful transaction ordering, and transactional boundaries at the source database.</p>
                     <p>Captured LCRs from multiple databases can be sent to a single <a href="strms_glossary.html#GUID-584772DA-C868-4F6B-9B7F-9E665F2D6F85"><span class="xrefglossterm">destination queue</span></a>. The same is true for persistent LCRs captured by a synchronous capture. However, if a single queue contains these LCRs from multiple source databases, then there must be multiple apply processes retrieving these LCRs. Each of these apply processes should be configured to receive messages from exactly one source database using <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s. Oracle recommends that you use a separate <code class="codeph">ANYDATA</code> queue for messages from each source database.
                     </p>
                     <p>Also, each apply process can apply captured LCRs from only one capture process. If multiple capture processes are running on a source database, and LCRs from more than one of these capture processes are applied at a destination database, then there must be one apply process to apply changes from each capture process. In such an environment, Oracle recommends that each <code class="codeph">ANYDATA</code> queue used by a capture process, propagation, or apply process have captured LCRs from at most one capture process from a particular source database. A queue can contain LCRs from more than one capture process if each capture process is capturing changes that originated at a different source database.
                     </p>
                     <p>The same restriction applies to persistent LCRs captured by multiple synchronous captures at the same source database. Store these LCRs in separate <code class="codeph">ANYDATA</code> queues, and use a separate apply process to apply the LCRs from each synchronous capture.
                     </p>
                     <div class="infoboxnote" id="GUID-618E75FA-8D07-4FA5-94EB-5CB69F6EFF37__GUID-001005D7-AE65-4759-B33A-1588F87026F8">
                        <p class="notep1">Note:</p>
                        <p>Captured LCRs are in the <a href="strms_glossary.html#GUID-9ABDA00F-83A1-435F-8E93-315D3D05E4B7"><span class="xrefglossterm">buffered queue</span></a> portion of a queue while persistent LCRs are in the <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a> portion of a <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a>. Therefore, a single apply process cannot apply both captured LCRs and persistent LCRs. 
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-618E75FA-8D07-4FA5-94EB-5CB69F6EFF37__GUID-0B1F4D90-296C-4F8F-9955-4404CFA9A61C">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-E540231B-9063-4F4E-BE79-72349800F720">Types of Messages That Can Be Processed with an Apply Process</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STRMS117"></a><div class="props_rev_3"><a id="GUID-553EAC52-C16C-49DE-AA19-0A994EC84EFB" name="GUID-553EAC52-C16C-49DE-AA19-0A994EC84EFB"></a><h4 id="STRMS-GUID-553EAC52-C16C-49DE-AA19-0A994EC84EFB" class="sect4"><span class="enumeration_section">4.2.6 </span>Data Types Applied
                  </h4>
                  <div>
                     <p>When applying row LCRs resulting from DML changes to tables, an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> applies changes made to columns of the following data types:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">VARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NVARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NUMBER</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">FLOAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DATE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_FLOAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_DOUBLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p> <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">RAW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CLOB</code> with <code class="codeph">BASICFILE</code> or <code class="codeph">SECUREFILE</code> storage
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NCLOB</code> with <code class="codeph">BASICFILE</code> or <code class="codeph">SECUREFILE</code> storage
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">BLOB</code> with <code class="codeph">BASICFILE</code> or <code class="codeph">SECUREFILE</code> storage
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">UROWID</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">XMLType</code> stored as <code class="codeph">CLOB</code>, object relationally, or as binary XML
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-553EAC52-C16C-49DE-AA19-0A994EC84EFB__GUID-04B327E1-C31D-463D-B2CA-35EBE3ADB606">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle Streams capture processes can only capture changes to <code class="codeph">XMLType</code> columns that are stored as <code class="codeph">CLOB</code>s. However, apply processes can apply these captured LCRs to <code class="codeph">XMLType</code> columns that are stored as <code class="codeph">CLOB</code>s, object relationally, or as binary XML.
                              </p>
                           </li>
                           <li>
                              <p>Apply processes do not support extended data types introduced in Oracle Database 12<span class="italic">c</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLType</code> stored as a <code class="codeph">CLOB</code> is deprecated in this release.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-553EAC52-C16C-49DE-AA19-0A994EC84EFB__GUID-DA0CE3E6-B643-4ED5-A7D8-D22CA0C4843A">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="monitoring-other-oracle-streams-components.html#GUID-CF461633-BF7E-44FE-8EA8-2B5F1C5AD288">Listing Database Objects and Columns Not Compatible with Apply Processes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="oracle-streams-restrictions.html#GUID-4E066FB4-5C50-40D2-A488-93C35C01E017">Unsupported Data Types for Apply Processes</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="how-rules-are-used-in-oracle-streams.html#GUID-FBC295B1-E3CD-428C-A3BF-69F74214DA14"> How Rules Are Used in Oracle Streams</a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="oracle-streams-information-capture.html#GUID-2AC88043-1B53-4F4E-8B35-4D65F2D3DAD1">Data Types Captured by Capture Processes</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Basic-Elements-of-Oracle-SQL.html#SQLRF002"><span class="italic">Oracle Database SQL Language Reference </span></a>for more information about these data types
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STRMS387"></a><a id="STRMS181"></a><div class="props_rev_3"><a id="GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4" name="GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4"></a><h4 id="STRMS-GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4" class="sect4"><span class="enumeration_section">4.2.7 </span>Automatic Data Type Conversion During Apply
                  </h4>
                  <div>
                     <p>During apply, an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> automatically converts certain data types when there is a mismatch between the data type of a column in the row logical change record (row LCR) and the data type of the corresponding column in a table.
                     </p>
                     <p><a href="oracle-streams-information-consumption.html#GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4__BABFHJBG" title="This table shows each data type combination and specifies whether the data type is converted automatically during apply.">Table 4-4</a> shows which data type combinations are converted automatically during apply.
                     </p>
                     <div class="tblformalwide" id="GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4__BABFHJBG">
                        <p class="titleintable">Table 4-4 Data Type Combinations Converted Automatically During Apply</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Data Type Combinations Converted Automatically During Apply" summary="This table shows each data type combination and specifies whether the data type is converted automatically during apply." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="12%" id="d26231e6226">Data Types</th>
                                 <th align="left" valign="bottom" width="11%" id="d26231e6230">To CHAR</th>
                                 <th align="left" valign="bottom" width="11%" id="d26231e6238">To NCHAR</th>
                                 <th align="left" valign="bottom" width="11%" id="d26231e6246">To VARCHAR2</th>
                                 <th align="left" valign="bottom" width="12%" id="d26231e6254">To NVARCHAR2</th>
                                 <th align="left" valign="bottom" width="9%" id="d26231e6262">To CLOB</th>
                                 <th align="left" valign="bottom" width="9%" id="d26231e6270">To BLOB</th>
                                 <th align="left" valign="bottom" width="11%" id="d26231e6278">To DATE</th>
                                 <th align="left" valign="bottom" width="12%" id="d26231e6286">To TIMESTAMP</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6296" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">CHAR</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6296 d26231e6230 ">
                                    <p>Not Applicable</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6296 d26231e6238 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6296 d26231e6246 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6296 d26231e6254 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6296 d26231e6262 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6296 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6296 d26231e6278 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6296 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6329" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">NCHAR</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6329 d26231e6230 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6329 d26231e6238 ">
                                    <p>Not Applicable</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6329 d26231e6246 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6329 d26231e6254 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6329 d26231e6262 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6329 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6329 d26231e6278 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6329 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6362" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">VARCHAR2</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6362 d26231e6230 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6362 d26231e6238 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6362 d26231e6246 ">
                                    <p>Not Applicable</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6362 d26231e6254 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6362 d26231e6262 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6362 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6362 d26231e6278 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6362 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6395" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">NVARCHAR2</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6395 d26231e6230 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6395 d26231e6238 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6395 d26231e6246 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6395 d26231e6254 ">
                                    <p>Not Applicable</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6395 d26231e6262 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6395 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6395 d26231e6278 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6395 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6428" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">NUMBER</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6428 d26231e6230 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6428 d26231e6238 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6428 d26231e6246 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6428 d26231e6254 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6428 d26231e6262 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6428 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6428 d26231e6278 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6428 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6461" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">LONG</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6461 d26231e6230 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6461 d26231e6238 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6461 d26231e6246 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6461 d26231e6254 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6461 d26231e6262 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6461 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6461 d26231e6278 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6461 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6494" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">LONG</code></span> <span class="bold"><code class="codeph">RAW</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6494 d26231e6230 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6494 d26231e6238 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6494 d26231e6246 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6494 d26231e6254 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6494 d26231e6262 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6494 d26231e6270 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6494 d26231e6278 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6494 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6531" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">RAW</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6531 d26231e6230 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6531 d26231e6238 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6531 d26231e6246 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6531 d26231e6254 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6531 d26231e6262 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6531 d26231e6270 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6531 d26231e6278 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6531 d26231e6286 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6564" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">DATE</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6564 d26231e6230 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6564 d26231e6238 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6564 d26231e6246 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6564 d26231e6254 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6564 d26231e6262 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6564 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6564 d26231e6278 ">
                                    <p>Not Applicable</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6564 d26231e6286 ">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d26231e6597" headers="d26231e6226 ">
                                    <p><span class="bold">From</span> <span class="bold"><code class="codeph">TIMESTAMP</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6597 d26231e6230 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6597 d26231e6238 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6597 d26231e6246 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6597 d26231e6254 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6597 d26231e6262 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d26231e6597 d26231e6270 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d26231e6597 d26231e6278 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d26231e6597 d26231e6286 ">
                                    <p>Not Applicable</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>An apply process automatically performs data type conversion for a data type combination when <a href="oracle-streams-information-consumption.html#GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4__BABFHJBG" title="This table shows each data type combination and specifies whether the data type is converted automatically during apply.">Table 4-4</a> specifies "Yes" for the combination. An apply process does not perform data type conversion for a data type combination when <a href="oracle-streams-information-consumption.html#GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4__BABFHJBG" title="This table shows each data type combination and specifies whether the data type is converted automatically during apply.">Table 4-4</a> specifies "No" for the combination. For example, an apply process automatically converts a <code class="codeph">CHAR</code> to an <code class="codeph">NCHAR</code>, but it does not convert a <code class="codeph">CHAR</code> to a <code class="codeph">BLOB</code>.
                     </p>
                     <p>Also, if the corresponding table column is not large enough to hold the converted string from a row LCR column, then the apply process raises an error.</p>
                     <p>The following sections provide more information about automatic data type conversion during apply:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-F5B5BF77-E43E-4C66-8D99-85059BCEF59B">Automatic Trimming of Character Data Types During Apply</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-E0127399-18EC-4EF2-B356-E79F668A5C97">Automatic Conversion and LOB Data Types</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4__GUID-DD9C5BF8-7514-4F8E-8675-42F14C52D711">
                        <p class="notep1">Note:</p>
                        <p>An apply process must be part of Oracle Database 11<span class="italic">g</span> Release 1 (11.1.0.7) or later to perform automatic data type conversion. However, an apply process can convert columns in row LCRs that were captured or constructed on an earlier Oracle Database release.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-276B9C81-9A78-4E19-BEA1-4DB648ED60B4__GUID-F931FA99-E581-4F2B-B517-3E62C0080857">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/Data-Types.html#SQLRF0021"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about data types
                        </p>
                     </div>
                  </div><a id="STRMS388"></a><div class="props_rev_3"><a id="GUID-F5B5BF77-E43E-4C66-8D99-85059BCEF59B" name="GUID-F5B5BF77-E43E-4C66-8D99-85059BCEF59B"></a><h5 id="STRMS-GUID-F5B5BF77-E43E-4C66-8D99-85059BCEF59B" class="sect5"><span class="enumeration_section">4.2.7.1 </span>Automatic Trimming of Character Data Types During Apply
                     </h5>
                     <div>
                        <p>The <code class="codeph">rtrim_on_implicit_conversion</code> apply process parameter determines whether the apply process trims data when it converts a <code class="codeph">CHAR</code> or <code class="codeph">NCHAR</code> to a <code class="codeph">VARCHAR2</code>, <code class="codeph">NVARCHAR2</code>, or <code class="codeph">CLOB</code>. When this parameter is set to <code class="codeph">Y</code>, the apply process automatically removes blank padding from the right end of a column during data type conversion. When this parameter is set to <code class="codeph">N</code>, the apply process preserves blank padding during data type conversion.
                        </p>
                        <p>Consider the following example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A row LCR contains <code class="codeph">'abc'</code> for a <code class="codeph">CHAR(10)</code> column.
                              </p>
                           </li>
                           <li>
                              <p>The corresponding table column for the row LCR is <code class="codeph">NVARCHAR2(10)</code>.
                              </p>
                           </li>
                        </ul>
                        <p>If the <code class="codeph">rtrim_on_implicit_conversion</code> apply process parameter is set to <code class="codeph">Y</code>, the apply process inserts <code class="codeph">'abc'</code> into the table column and trims the padding after these characters. If the <code class="codeph">rtrim_on_implicit_conversion</code> apply process parameter is set to <code class="codeph">N</code>, then the apply process inserts <code class="codeph">'abc'</code> into the table column, and the remaining space in the column is filled with blanks.
                        </p>
                        <div class="infoboxnotealso" id="GUID-F5B5BF77-E43E-4C66-8D99-85059BCEF59B__GUID-7CCA27FA-ECB4-4529-A155-DEC9C1D6EA3C">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                        </div>
                     </div>
                  </div><a id="STRMS389"></a><div class="props_rev_3"><a id="GUID-E0127399-18EC-4EF2-B356-E79F668A5C97" name="GUID-E0127399-18EC-4EF2-B356-E79F668A5C97"></a><h5 id="STRMS-GUID-E0127399-18EC-4EF2-B356-E79F668A5C97" class="sect5"><span class="enumeration_section">4.2.7.2 </span>Automatic Conversion and LOB Data Types
                     </h5>
                     <div>
                        <p>Procedure DML handlers and error handlers can use <a href="strms_glossary.html#GUID-DFEA5BD4-A81A-4927-B6BB-4CD92113E95B"><span class="xrefglossterm">LOB assembly</span></a> for data that has been converted from <code class="codeph">LONG</code> to <code class="codeph">CLOB</code> or from <code class="codeph">LONG</code> <code class="codeph">RAW</code> to <code class="codeph">BLOB</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E0127399-18EC-4EF2-B356-E79F668A5C97__GUID-AD9F0146-24C5-42D8-94D2-5A7CDF79FF27">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP137"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="STRMS1092"></a><div class="props_rev_3"><a id="GUID-254DBAF4-21ED-462B-9488-854ADF84E9A1" name="GUID-254DBAF4-21ED-462B-9488-854ADF84E9A1"></a><h4 id="STRMS-GUID-254DBAF4-21ED-462B-9488-854ADF84E9A1" class="sect4"><span class="enumeration_section">4.2.8 </span>SQL Generation
                  </h4>
                  <div>
                     <p>SQL generation is the ability to generate the SQL statement required to perform the change encapsulated in a <a href="strms_glossary.html#GUID-AE0440A4-BB98-4135-8EB5-FB933D1E51CC"><span class="xrefglossterm">row logical change record (row LCR)</span></a>. Apply processes can generate the SQL statement necessary to perform the insert, update, or delete operation in a row LCR.
                     </p>
                     <p>This section contains these topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-4D396A1A-7EBA-4724-B7D3-080AAE7B85B6">Interfaces for Performing SQL Generation</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-E2784BC8-1C08-477C-B704-027B1D2723B7">SQL Generation Formats</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-5E32F6A9-A376-43BC-A4D6-998D04AE5499">SQL Generation and Data Types</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-33ACF379-7013-4A79-8725-4A0149340669">SQL Generation and Character Sets</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-4FB0ED93-365C-44EF-A772-98A82412BE69">Sample Generated SQL Statements</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-254DBAF4-21ED-462B-9488-854ADF84E9A1__GUID-80B48495-17B1-4266-8A56-8B1F92869923">
                        <p class="notep1">Note:</p>
                        <p>This section describes using SQL generation with the PL/SQL interface. You can also use SQL generation with XStream interfaces.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-254DBAF4-21ED-462B-9488-854ADF84E9A1__GUID-C53082A4-01C6-420F-A6EF-9CEEBF6890CD">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-EC007F49-7EEA-4C26-959F-1F001C97CA71">Creating a Procedure DML Handler</a>"</span> for an example of a procedure DML handler that uses SQL generation
                              </p>
                           </li>
                           <li>
                              <p><a href="../xstrm/general-xstream-concepts.html#XSTRM72457"><span class="italic">Oracle Database XStream Guide</span></a> for information about using SQL generation with XStream
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="STRMS1611"></a><div class="props_rev_3"><a id="GUID-4D396A1A-7EBA-4724-B7D3-080AAE7B85B6" name="GUID-4D396A1A-7EBA-4724-B7D3-080AAE7B85B6"></a><h5 id="STRMS-GUID-4D396A1A-7EBA-4724-B7D3-080AAE7B85B6" class="sect5"><span class="enumeration_section">4.2.8.1 </span>Interfaces for Performing SQL Generation
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">GET_ROW_TEXT</code> and <code class="codeph">GET_WHERE_CLAUSE</code> member procedures for row LCRs to perform SQL generation. The PL/SQL interface generates SQL in a <code class="codeph">CLOB</code> data type.
                        </p>
                        <div class="infoboxnotealso" id="GUID-4D396A1A-7EBA-4724-B7D3-080AAE7B85B6__GUID-E4C81DB0-C5C5-4673-98AD-EC294E066372">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS368"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                        </div>
                     </div>
                  </div><a id="STRMS1612"></a><div class="props_rev_3"><a id="GUID-E2784BC8-1C08-477C-B704-027B1D2723B7" name="GUID-E2784BC8-1C08-477C-B704-027B1D2723B7"></a><h5 id="STRMS-GUID-E2784BC8-1C08-477C-B704-027B1D2723B7" class="sect5"><span class="enumeration_section">4.2.8.2 </span>SQL Generation Formats
                     </h5>
                     <div>
                        <p>SQL statement can be generated in one of two formats: inline values or bind variables. Use inline values when the returned SQL statement is relatively small. For larger SQL statements, use bind variables. In this case, the bind variables are passed in a separate list that includes pointers to both old and new column values.</p>
                        <p>For information about using bind variables with each interface, see the documentation about the <code class="codeph">GET_ROW_TEXT</code> and <code class="codeph">GET_WHERE_CLAUSE</code> row LCR member procedures in <a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS368"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                        </p>
                        <div class="infoboxnote" id="GUID-E2784BC8-1C08-477C-B704-027B1D2723B7__GUID-42C72928-84A1-4EC0-9DCC-860638D0C717">
                           <p class="notep1">Note:</p>
                           <p>For generated SQL statements with the values inline, SQL injection is possible. SQL injection is a technique for maliciously exploiting applications that use client-supplied data in SQL statements, thereby gaining unauthorized access to a database in order to view or manipulate restricted data. Oracle strongly recommends using bind variables if you plan to execute the generated SQL statement. See <a href="../lnpls/dynamic-sql.html#LNPLS01109"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about SQL injection.
                           </p>
                        </div>
                     </div>
                  </div><a id="STRMS1418"></a><div class="props_rev_3"><a id="GUID-5E32F6A9-A376-43BC-A4D6-998D04AE5499" name="GUID-5E32F6A9-A376-43BC-A4D6-998D04AE5499"></a><h5 id="STRMS-GUID-5E32F6A9-A376-43BC-A4D6-998D04AE5499" class="sect5"><span class="enumeration_section">4.2.8.3 </span>SQL Generation and Data Types
                     </h5>
                     <div>
                        <p>SQL generation supports the following data types:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">VARCHAR2</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">NVARCHAR2</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">NUMBER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">FLOAT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DATE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">BINARY_FLOAT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">BINARY_DOUBLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LONG</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TIMESTAMP</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RAW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CHAR</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">NCHAR</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CLOB</code> with <code class="codeph">BASICFILE</code> storage
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NCLOB</code> with <code class="codeph">BASICFILE</code> storage
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">BLOB</code> with <code class="codeph">BASICFILE</code> storage
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLType</code> stored as <code class="codeph">CLOB</code></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-5E32F6A9-A376-43BC-A4D6-998D04AE5499__GUID-4AF1B829-4BD9-4276-BFCD-02C48667CDE3">
                           <p class="notep1">Note:</p>
                           <p>SQL generation does not support extended data types introduced in Oracle Database 12<span class="italic">c</span>.
                           </p>
                        </div>
                     </div><a id="STRMS1613"></a><div class="props_rev_3"><a id="GUID-EBFB6E82-ABAA-458B-9AC4-90C2849345C0" name="GUID-EBFB6E82-ABAA-458B-9AC4-90C2849345C0"></a><h6 id="STRMS-GUID-EBFB6E82-ABAA-458B-9AC4-90C2849345C0" class="sect6"><span class="enumeration_section">4.2.8.3.1 </span>SQL Generation and Automatic Data Type Conversion
                        </h6>
                        <div>
                           <p>An <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> performs implicit data type conversion where it is possible, and the generated SQL follows ANSI standards where it is possible. The following are considerations for automatic data type conversions:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">NULL</code> is specified as <code class="codeph">"NULL"</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Single quotation marks are converted into double quotation marks for the following data types when they are inline values: <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">NVARCHAR2</code>, <code class="codeph">NCHAR</code>, <code class="codeph">CLOB</code>, and <code class="codeph">NCLOB</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">LONG</code> data is converted into <code class="codeph">CLOB</code> data.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">LONG</code> <code class="codeph">RAW</code> data is converted into <code class="codeph">BLOB</code> data.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="STRMS1614"></a><div class="props_rev_3"><a id="GUID-A9EBCE88-054C-4259-B180-B675E9FDC1AE" name="GUID-A9EBCE88-054C-4259-B180-B675E9FDC1AE"></a><h6 id="STRMS-GUID-A9EBCE88-054C-4259-B180-B675E9FDC1AE" class="sect6"><span class="enumeration_section">4.2.8.3.2 </span>SQL Generation and LOB, LONG, LONG RAW, and XMLType Data Types
                        </h6>
                        <div>
                           <p>For <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code> operations on LOB columns, an apply process automatically assembles the LOB chunks using <a href="strms_glossary.html#GUID-DFEA5BD4-A81A-4927-B6BB-4CD92113E95B"><span class="xrefglossterm">LOB assembly</span></a>. For these operations, the generated SQL includes a non-<code class="codeph">NULL</code> empty value. The actual values of the chunked columns arrive in subsequent LCRs. For each chunk, you must perform the correct SQL operation on the correct column.
                           </p>
                           <p>Similarly, for <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, and <code class="codeph">XMLType</code> data types, an apply process generates a non-<code class="codeph">NULL</code> empty value, and the actual values of the column arrive in chunks in subsequent LCRs. For each chunk, you must perform the correct SQL operation on the correct column.
                           </p>
                           <p>In the inline version of the generated SQL, for LOB, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, and <code class="codeph">XMLType</code> data type columns, the following SQL is generated for inserts and updates:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>For <code class="codeph">CLOB</code>, <code class="codeph">NCLOB</code>, and <code class="codeph">LONG</code> data type columns:
                                 </p><pre class="oac_no_warn" dir="ltr">EMPTY_CLOB()
</pre></li>
                              <li>
                                 <p>For <code class="codeph">BLOB</code> and <code class="codeph">LONG</code> <code class="codeph">RAW</code> data type columns:
                                 </p><pre class="oac_no_warn" dir="ltr">EMPTY_BLOB()
</pre></li>
                              <li>
                                 <p>For <code class="codeph">XMLType</code> columns:
                                 </p><pre class="oac_no_warn" dir="ltr">XMLTYPE.CREATEXML('<span class="italic">xml /</span>')
</pre><p>where <span class="italic"><code class="codeph">xml</code></span> <span class="italic"><code class="codeph">/</code></span> is the XML chunk.
                                 </p>
                              </li>
                           </ul>
                           <p>After the LCR that contains the DML statement arrives, the data for these changes arrive in separate chunks. You can generate the <code class="codeph">WHERE</code> clause for such a change and use the generated <code class="codeph">WHERE</code> clause to identify the row for the modifications contained in the chunks. For example, in PL/SQL you can use the <code class="codeph">GET_WHERE_CLAUSE</code> row LCR member procedure to generate the <code class="codeph">WHERE</code> clause for a row change.
                           </p>
                           <p>For <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code> operations, the generated <code class="codeph">WHERE</code> clause identifies the row after the insert or update. For example, consider the following update to the <code class="codeph">hr.departments</code> table:
                           </p><pre class="oac_no_warn" dir="ltr">UPDATE hr.departments SET department_name='Management' 
  WHERE department_name='Administration';
</pre><p>The generated <code class="codeph">WHERE</code> clause for this change is the following:
                           </p><pre class="oac_no_warn" dir="ltr">WHERE "DEPARTMENT_NAME"='Management'
</pre><p>For piecewise LOB operation performed by subprograms in the <code class="codeph">DBMS_LOB</code> package (including the <code class="codeph">WRITE</code>, <code class="codeph">TRIM</code>, and <code class="codeph">ERASE</code> procedures), the generated SQL includes a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement.
                           </p>
                           <p>For example, a <code class="codeph">LOB_WRITE</code> operation on a <code class="codeph">clob_col</code> results in generated SQL similar to the following:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT "CLOB_COL" FROM "HR"."LOB_TAB" WHERE "N1"=2 FOR UPDATE
</pre><p>The selected <code class="codeph">clob_col</code> must be defined. You can use the LOB locator to perform piecewise LOB operations with the LOB chunks that follow the row LCR.
                           </p>
                           <div class="infoboxnotealso" id="GUID-A9EBCE88-054C-4259-B180-B675E9FDC1AE__GUID-208CF938-CA85-4CF5-AF08-10E00D294093">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="oracle-streams-information-consumption.html#GUID-4B486C04-2585-451E-B76C-233E12EE4939">Sample Generated SQL Statements for a Table With LOB Columns</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../strep/managing-lcrs.html#STREP490"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> for information about LOB assembly
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="STRMS1422"></a><div class="props_rev_3"><a id="GUID-33ACF379-7013-4A79-8725-4A0149340669" name="GUID-33ACF379-7013-4A79-8725-4A0149340669"></a><h5 id="STRMS-GUID-33ACF379-7013-4A79-8725-4A0149340669" class="sect5"><span class="enumeration_section">4.2.8.4 </span>SQL Generation and Character Sets
                     </h5>
                     <div>
                        <p>When you use the LCR methods, the generated SQL is in the database character set. SQL keywords, such as <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">INTO</code>, do not change with the character set.
                        </p>
                        <div class="infoboxnotealso" id="GUID-33ACF379-7013-4A79-8725-4A0149340669__GUID-FFAD8D94-F69B-43AD-9D23-703BD255BDB4">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=NLSPG364"><span class="italic">Oracle Database Globalization Support Guide</span></a> for information about data conversion in JDBC
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=SQLRF51129"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about SQL keywords
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS1615"></a><div class="props_rev_3"><a id="GUID-4FB0ED93-365C-44EF-A772-98A82412BE69" name="GUID-4FB0ED93-365C-44EF-A772-98A82412BE69"></a><h5 id="STRMS-GUID-4FB0ED93-365C-44EF-A772-98A82412BE69" class="sect5"><span class="enumeration_section">4.2.8.5 </span>Sample Generated SQL Statements
                     </h5>
                     <div>
                        <p>This section provides examples of generated SQL statements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="oracle-streams-information-consumption.html#GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F">Sample Generated SQL Statements for the hr.employees Table</a></p>
                           </li>
                           <li>
                              <p><a href="oracle-streams-information-consumption.html#GUID-4B486C04-2585-451E-B76C-233E12EE4939">Sample Generated SQL Statements for a Table With LOB Columns</a></p>
                           </li>
                        </ul>
                     </div><a id="STRMS1093"></a><a id="STRMS1095"></a><a id="STRMS1097"></a><a id="STRMS1424"></a><div class="props_rev_3"><a id="GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F" name="GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F"></a><h6 id="STRMS-GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F" class="sect6"><span class="enumeration_section">4.2.8.5.1 </span>Sample Generated SQL Statements for the hr.employees Table
                        </h6>
                        <div>
                           <p>This section provides examples of SQL statements generated by an apply process for changes made to the <code class="codeph">hr.employees</code> table.
                           </p>
                           <p>This section includes these examples:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oracle-streams-information-consumption.html#GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F__BCEHEBAE">Example 4-1</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-streams-information-consumption.html#GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F__BCECCHJD">Example 4-2</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-streams-information-consumption.html#GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F__BCEIHAFD">Example 4-3</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F__GUID-B382E07F-91A7-4AB7-AA05-5DF3B1D712EF">
                              <p class="notep1">Note:</p>
                              <p>Generated SQL is in a single line and is not formatted.</p>
                           </div>
                           <div class="example" id="GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F__BCEHEBAE">
                              <p class="titleinexample">Example 4-1 Generated Insert</p>
                              <p>Assume the following insert is executed:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO hr.employees (employee_id, 
                           last_name, 
                           email, 
                           hire_date, 
                           job_id, 
                           salary, 
                           commission_pct) 
                   VALUES (207, 
                           'Gregory', 
                           'pgregory@example.com', 
                           SYSDATE, 
                           'PU_CLERK', 
                           9000, 
                           NULL);
</pre><p>The following is the generated SQL with inline values:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO "HR"."EMPLOYEES"("EMPLOYEE_ID","FIRST_NAME","LAST_NAME",
"EMAIL","PHONE_NUMBER","HIRE_DATE","JOB_ID","SALARY","COMMISSION_PCT",
"MANAGER_ID","DEPARTMENT_ID" ) VALUES ( 207, NULL,'Gregory',
'pgregory@example.com', NULL , TO_DATE(' 2009-04-15','syyyy-mm-dd'),
'PU_CLERK',9000, NULL , NULL , NULL )
</pre><p>The following is the generated SQL with bind variables:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO "HR"."EMPLOYEES"("EMPLOYEE_ID","FIRST_NAME","LAST_NAME",
"EMAIL","PHONE_NUMBER","HIRE_DATE","JOB_ID","SALARY",
"COMMISSION_PCT","MANAGER_ID","DEPARTMENT_ID" ) VALUES ( :1   ,:2   ,:3   
,:4   ,:5   ,:6   ,:7   ,:8   ,:9   ,:10  ,:11  )
</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F__BCECCHJD">
                              <p class="titleinexample">Example 4-2 Generated Update</p>
                              <p>Assume the following update is executed:</p><pre class="oac_no_warn" dir="ltr">UPDATE hr.employees SET salary=10000 WHERE employee_id=207;
</pre><p>The following is the generated SQL with inline values:</p><pre class="oac_no_warn" dir="ltr">UPDATE "HR"."EMPLOYEES" SET "SALARY"=10000 WHERE "EMPLOYEE_ID"=207 
AND "SALARY"=9000
</pre><p>The following is the generated SQL with bind variables:</p><pre class="oac_no_warn" dir="ltr">UPDATE "HR"."EMPLOYEES" SET "SALARY"=:1    WHERE "EMPLOYEE_ID"=:2    
AND "SALARY"=:3
</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-E3DCBA87-3957-47DD-A38E-01063CB6982F__BCEIHAFD">
                              <p class="titleinexample">Example 4-3 Generated Delete</p>
                              <p>Assume the following delete is executed:</p><pre class="oac_no_warn" dir="ltr">DELETE FROM hr.employees WHERE employee_id=207;
</pre><p>The following is the generated SQL with inline values:</p><pre class="oac_no_warn" dir="ltr">DELETE  FROM "HR"."EMPLOYEES" WHERE "EMPLOYEE_ID"=207 AND "FIRST_NAME" IS NULL 
AND "LAST_NAME"='Gregory' AND "EMAIL"='pgregory@example.com' AND 
"PHONE_NUMBER" IS NULL  AND "HIRE_DATE"= TO_DATE(' 2009-04-15','syyyy-mm-dd') 
AND "JOB_ID"='PU_CLERK' AND "SALARY"=10000 AND "COMMISSION_PCT" IS NULL  
AND "MANAGER_ID" IS NULL  AND "DEPARTMENT_ID" IS NULL 
</pre><p>The following is the generated SQL with bind variables:</p><pre class="oac_no_warn" dir="ltr">DELETE  FROM "HR"."EMPLOYEES" WHERE "EMPLOYEE_ID"=:1    AND "FIRST_NAME"=:2    
AND "LAST_NAME"=:3    AND "EMAIL"=:4    AND "PHONE_NUMBER"=:5    AND 
"HIRE_DATE"=:6    AND "JOB_ID"=:7    AND "SALARY"=:8    AND 
"COMMISSION_PCT"=:9   AND "MANAGER_ID"=:10   AND "DEPARTMENT_ID"=:11 
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="STRMS1617"></a><a id="STRMS1618"></a><a id="STRMS1619"></a><a id="STRMS1616"></a><div class="props_rev_3"><a id="GUID-4B486C04-2585-451E-B76C-233E12EE4939" name="GUID-4B486C04-2585-451E-B76C-233E12EE4939"></a><h6 id="STRMS-GUID-4B486C04-2585-451E-B76C-233E12EE4939" class="sect6"><span class="enumeration_section">4.2.8.5.2 </span>Sample Generated SQL Statements for a Table With LOB Columns
                        </h6>
                        <div>
                           <p>This section provides examples of SQL statements generated by an apply process for changes made to the following table:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.lob_tab(
   n1        number primary key,
   clob_col  CLOB,
   nclob_col NCLOB,
   blob_col  BLOB);
</pre><p>This section includes these examples:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oracle-streams-information-consumption.html#GUID-4B486C04-2585-451E-B76C-233E12EE4939__BGBDJDIF">Example 4-4</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-streams-information-consumption.html#GUID-4B486C04-2585-451E-B76C-233E12EE4939__BGBEBFHD">Example 4-5</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-streams-information-consumption.html#GUID-4B486C04-2585-451E-B76C-233E12EE4939__BGBFIGCD">Example 4-6</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-4B486C04-2585-451E-B76C-233E12EE4939__GUID-EC5274E8-BB92-409D-A068-5078B708BA30">
                              <p class="notep1">Note:</p>
                              <p>Generated SQL is in a single line and is not formatted.</p>
                           </div>
                           <p>The <code class="codeph">GET_WHERE_CLAUSE</code> member procedure generates the following <code class="codeph">WHERE</code> clause for this insert:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Inline:</p><pre class="oac_no_warn" dir="ltr">WHERE "N1"=2
</pre></li>
                              <li>
                                 <p>Bind variables:</p><pre class="oac_no_warn" dir="ltr">WHERE "N1"=:1
</pre></li>
                           </ul>
                           <p>You can use the <code class="codeph">WHERE</code> clause to identify the row that was inserted when the subsequent chunks arrive for the LOB column change.
                           </p>
                           <div class="example" id="GUID-4B486C04-2585-451E-B76C-233E12EE4939__BGBDJDIF">
                              <p class="titleinexample">Example 4-4 Generated Insert for a Table with LOB Columns</p>
                              <p>Assume the following insert is executed:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO hr.lob_tab VALUES (2, 'test insert', NULL, NULL);
</pre><p>The following is the generated SQL with inline values:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO "HR"."LOB_TAB"("N1","BLOB_COL","CLOB_COL","NCLOB_COL" ) 
VALUES ( 2,, EMPTY_CLOB() ,)
</pre><p>The following is the generated SQL with bind variables:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO "HR"."LOB_TAB"("N1","BLOB_COL","CLOB_COL","NCLOB_COL" ) 
VALUES ( :1   ,:2   ,:3   ,:4   )
</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-4B486C04-2585-451E-B76C-233E12EE4939__BGBEBFHD">
                              <p class="titleinexample">Example 4-5 Generated Update for a Table with LOB Columns</p>
                              <p>Assume the following update is executed:</p><pre class="oac_no_warn" dir="ltr">UPDATE hr.lob_tab SET clob_col='test update' WHERE n1=2;
</pre><p>The following is the generated SQL with inline values:</p><pre class="oac_no_warn" dir="ltr">UPDATE "HR"."LOB_TAB" SET "CLOB_COL"= EMPTY_CLOB()  WHERE "N1"=2
</pre><p>The following is the generated SQL with bind variables:</p><pre class="oac_no_warn" dir="ltr">UPDATE "HR"."LOB_TAB" SET "CLOB_COL"=:1    WHERE "N1"=:2
</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-4B486C04-2585-451E-B76C-233E12EE4939__BGBFIGCD">
                              <p class="titleinexample">Example 4-6 Generated Delete for a Table with LOB Columns</p>
                              <p>Assume the following delete is executed:</p><pre class="oac_no_warn" dir="ltr">DELETE FROM hr.lob_tab WHERE n1=2;
</pre><p>The following is the generated SQL with inline values:</p><pre class="oac_no_warn" dir="ltr">DELETE  FROM "HR"."LOB_TAB" WHERE "N1"=2
</pre><p>The following is the generated SQL with bind variables:</p><pre class="oac_no_warn" dir="ltr">DELETE  FROM "HR"."LOB_TAB" WHERE "N1"=:1
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div><a id="STRMS390"></a><div class="props_rev_3"><a id="GUID-EA7A5FBD-646C-4B86-B412-7462861920DD" name="GUID-EA7A5FBD-646C-4B86-B412-7462861920DD"></a><h4 id="STRMS-GUID-EA7A5FBD-646C-4B86-B412-7462861920DD" class="sect4"><span class="enumeration_section">4.2.9 </span>Oracle Streams Apply Processes and RESTRICTED SESSION
                  </h4>
                  <div>
                     <p>When restricted session is enabled during system startup by issuing a <code class="codeph">STARTUP</code> <code class="codeph">RESTRICT</code> statement, <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es do not start, even if they were running when the database shut down. When the restricted session is disabled, each apply process that was not stopped is started.
                     </p>
                     <p>When restricted session is enabled in a running database by the SQL statement <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">ENABLE</code> <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>, it does not affect any running apply processes. These apply processes continue to run and apply messages. If a stopped apply process is started in a restricted session, then the apply process does not actually start until the restricted session is disabled.
                     </p>
                  </div>
               </div><a id="STRMS146"></a><a id="STRMS_APPLY_PROCESS_COMPONENTS"></a><div class="props_rev_3"><a id="GUID-643C9FCF-4E96-4127-920B-61E3BAF7CB44" name="GUID-643C9FCF-4E96-4127-920B-61E3BAF7CB44"></a><h4 id="STRMS-GUID-643C9FCF-4E96-4127-920B-61E3BAF7CB44" class="sect4"><span class="enumeration_section">4.2.10 </span>Apply Process Subcomponents
                  </h4>
                  <div>
                     <p>An <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> consists of the following subcomponents:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A <span class="bold">reader server</span> that dequeues <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s. The reader server is a process that computes dependencies between logical change records (LCRs) and assembles messages into transactions. The reader server then returns the assembled transactions to the coordinator process.
                           </p>
                        </li>
                        <li>
                           <p>A <span class="bold">coordinator process</span> that gets transactions from the reader server and passes them to apply servers. The coordinator process name is <code class="codeph">AP</code><span class="italic"><code class="codeph">nn</code></span>, where <span class="italic"><code class="codeph">nn</code></span> can include letters and numbers. The coordinator process is an Oracle background process.
                           </p>
                        </li>
                        <li>
                           <p>One or more <span class="bold">apply servers</span> that apply LCRs to database objects as DML or DDL statements or that pass the LCRs to their appropriate <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>s. For non-LCR messages, the apply servers pass the messages to the <a href="strms_glossary.html#GUID-28E08694-4A8E-4D30-A805-876E82C4906A"><span class="xrefglossterm">message handler</span></a>. Apply servers can also enqueue LCR and non-LCR messages into the <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a> portion of a <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a> specified by the <code class="codeph">DBMS_APPLY_ADM.SET_ENQUEUE_DESTINATION</code> procedure. Each apply server is a process. If an apply server encounters an error, then it then tries to resolve the error with a user-specified <a href="strms_glossary.html#GUID-60799E10-76F3-475D-B080-FAF5930E6942"><span class="xrefglossterm">conflict</span></a> handler or error handler. If an apply server cannot resolve an error, then it rolls back the transaction and places the entire transaction, including all of its messages, in the error queue.
                           </p>
                           <p>When an apply server commits a completed transaction, this transaction has been applied. When an apply server places a transaction in the error queue and commits, this transaction also has been applied.</p>
                        </li>
                     </ul>
                     <p>The reader server and the apply server process names are <code class="codeph">AS</code><span class="italic"><code class="codeph">nn</code></span>, where <span class="italic"><code class="codeph">nn</code></span> can include letters and numbers. If a transaction being handled by an apply server has a dependency on another transaction that is not known to have been applied, then the apply server contacts the coordinator process and waits for instructions. The coordinator process monitors all of the apply servers to ensure that transactions are applied and committed in the correct order.
                     </p>
                     <p>The following sections describe the possible states for each apply process subcomponent:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-5DD3722B-2725-485B-9542-2F0A756DC28C">Reader Server States</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-22550B5A-5447-4B62-912E-C68AFFC3C191">Coordinator Process States</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-streams-information-consumption.html#GUID-AC8FBD1C-DAE9-47A7-AFFD-02AC19E2BDE7">Apply Server States</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-643C9FCF-4E96-4127-920B-61E3BAF7CB44__GUID-E530AC8B-64FB-4D52-B7D9-23743D6C2800">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="advanced-apply-process-concepts.html#GUID-43293B61-B034-4744-AE93-57A0DAAC39DD">Apply Processes and Dependencies</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="STRMS391"></a><div class="props_rev_3"><a id="GUID-5DD3722B-2725-485B-9542-2F0A756DC28C" name="GUID-5DD3722B-2725-485B-9542-2F0A756DC28C"></a><h5 id="STRMS-GUID-5DD3722B-2725-485B-9542-2F0A756DC28C" class="sect5"><span class="enumeration_section">4.2.10.1 </span>Reader Server States
                     </h5>
                     <div>
                        <p>The state of a reader server describes what the reader server is doing currently. You can view the state of the reader server for an apply process by querying the <code class="codeph">V$STREAMS_APPLY_READER</code> dynamic performance view. The following reader server states are possible:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">INITIALIZING</code> - Starting up
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">IDLE</code> - Performing no work
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DEQUEUE</code> <code class="codeph">MESSAGES</code> - Dequeuing messages from the apply process's queue
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SCHEDULE</code> <code class="codeph">MESSAGES</code> - Computing dependencies between messages and assembling messages into transactions
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SPILLING</code> - Spilling unapplied messages from memory to hard disk
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PAUSED</code> <code class="codeph">-</code> <code class="codeph">WAITING</code> <code class="codeph">FOR</code> <code class="codeph">DDL</code> <code class="codeph">TO</code> <code class="codeph">COMPLETE</code> - Paused while waiting for a DDL LCR to be applied
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-5DD3722B-2725-485B-9542-2F0A756DC28C__GUID-3CC5DE2B-A9FC-4133-9E35-1DD915851DC5">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-oracle-streams-apply-processes.html#GUID-4EF8BC99-1363-422B-8BF0-ADB9A5E9100A">Displaying Information About the Reader Server for Each Apply Process</a>"</span> for a query that displays the state of an apply process reader server
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS392"></a><div class="props_rev_3"><a id="GUID-22550B5A-5447-4B62-912E-C68AFFC3C191" name="GUID-22550B5A-5447-4B62-912E-C68AFFC3C191"></a><h5 id="STRMS-GUID-22550B5A-5447-4B62-912E-C68AFFC3C191" class="sect5"><span class="enumeration_section">4.2.10.2 </span>Coordinator Process States
                     </h5>
                     <div>
                        <p>The state of a coordinator process describes what the coordinator process is doing currently. You can view the state of a coordinator process by querying the <code class="codeph">V$STREAMS_APPLY_COORDINATOR</code> dynamic performance view. The following coordinator process states are possible:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">INITIALIZING</code> - Starting up
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">IDLE</code> - Performing no work
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">APPLYING</code> - Passing transactions to apply servers
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SHUTTING</code> <code class="codeph">DOWN</code> <code class="codeph">CLEANLY</code> - Stopping without an error
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ABORTING</code> - Stopping because of an apply error
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-22550B5A-5447-4B62-912E-C68AFFC3C191__GUID-C5B0DAB2-C8CF-4E64-8DE2-7A603200EAEE">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-oracle-streams-apply-processes.html#GUID-097CC6D4-A68F-4916-9496-A4C494C24234">Displaying General Information About Each Coordinator Process</a>"</span> for a query that displays the state of a coordinator process
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="STRMS393"></a><div class="props_rev_3"><a id="GUID-AC8FBD1C-DAE9-47A7-AFFD-02AC19E2BDE7" name="GUID-AC8FBD1C-DAE9-47A7-AFFD-02AC19E2BDE7"></a><h5 id="STRMS-GUID-AC8FBD1C-DAE9-47A7-AFFD-02AC19E2BDE7" class="sect5"><span class="enumeration_section">4.2.10.3 </span>Apply Server States
                     </h5>
                     <div>
                        <p>The state of an apply server describes what the apply server is doing currently. You can view the state of each apply server for an apply process by querying the <code class="codeph">V$STREAMS_APPLY_SERVER</code> dynamic performance view. The following apply server states are possible:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">INITIALIZING</code> - Starting up.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">IDLE</code> - Performing no work.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RECORD</code> <code class="codeph">LOW-WATERMARK</code> - Performing an administrative action that maintains information about the apply progress, which is used in the <code class="codeph">ALL_APPLY_PROGRESS</code> and <code class="codeph">DBA_APPLY_PROGRESS</code> data dictionary views.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ADD</code> <code class="codeph">PARTITION</code> - Performing an administrative action that adds a partition that is used for recording information about in-progress transactions.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP</code> <code class="codeph">PARTITION</code> - Performing an administrative action that drops a partition that was used to record information about in-progress transactions.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EXECUTE</code> <code class="codeph">TRANSACTION</code> - Applying a transaction.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">WAIT</code> <code class="codeph">COMMIT</code> - Waiting to commit a transaction until all other transactions with a lower commit SCN are applied. This state is possible only if the <code class="codeph">commit_serialization</code> apply process parameter is set to a value other than <code class="codeph">DEPENDENT_TRANSACTIONS</code> and the <code class="codeph">parallelism</code> apply process parameter is set to a value greater than <code class="codeph">1</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">WAIT</code> <code class="codeph">DEPENDENCY</code> - Waiting to apply an LCR in a transaction until another transaction, on which it has a dependency, is applied. This state is possible only if the <code class="codeph">PARALLELISM</code> apply process parameter is set to a value greater than <code class="codeph">1</code>. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">WAIT</code> <code class="codeph">FOR</code> <code class="codeph">CLIENT</code> - Waiting for an XStream In client application to request more logical change records (LCRs).
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">WAIT</code> <code class="codeph">FOR</code> <code class="codeph">NEXT</code> <code class="codeph">CHUNK</code> - Waiting for the next set of LCRs for a large transaction.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ROLLBACK</code> <code class="codeph">TRANSACTION</code> - Rolling back a transaction. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">TRANSACTION</code> <code class="codeph">CLEANUP</code> - Cleaning up an applied transaction, which includes removing LCRs from the apply process's queue.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-AC8FBD1C-DAE9-47A7-AFFD-02AC19E2BDE7__GUID-A3F4945D-0F90-4365-8260-B9BE765DE927">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-oracle-streams-apply-processes.html#GUID-3F276F71-660F-4D2F-9CBA-E9525B1E67EB">Displaying Information About the Apply Servers for Each Apply Process</a>"</span> for a query that displays the state of each apply process apply server
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=ARPLS314"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about apply process parameters
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=XSTRM"><span class="italic">Oracle Database XStream Guide</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="STRMS394"></a><div class="props_rev_3"><a id="GUID-FA07061A-A574-450E-8791-878BDA3FEC03" name="GUID-FA07061A-A574-450E-8791-878BDA3FEC03"></a><h4 id="STRMS-GUID-FA07061A-A574-450E-8791-878BDA3FEC03" class="sect4"><span class="enumeration_section">4.2.11 </span>Apply User
                  </h4>
                  <div>
                     <p>An apply process applies messages in the security domain of its <a href="strms_glossary.html#GUID-87C6D214-6D80-452F-87A2-EA39B884189E"><span class="xrefglossterm">apply user</span></a>. The apply user dequeues all messages that satisfy the apply process <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>s. The apply user can apply messages directly to database objects. In addition, the apply user runs all <a href="strms_glossary.html#GUID-0E99A3FC-C59B-46D3-9908-A5E26A7AA91A"><span class="xrefglossterm">custom rule-based transformation</span></a>s specified by the rules in these rule sets. The apply user also runs user-defined <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>s. 
                     </p>
                     <p>The apply user must have the necessary privileges to apply changes, including the following privileges:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">EXECUTE</code> privilege on the rule sets used by the apply process
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">EXECUTE</code> privilege on all custom rule-based transformation functions specified for rules in the <a href="strms_glossary.html#GUID-A810B839-61A2-4DEB-85C9-8F2F09455268"><span class="xrefglossterm">positive rule set</span></a></p>
                        </li>
                        <li>
                           <p><code class="codeph">EXECUTE</code> privilege on any apply handlers
                           </p>
                        </li>
                        <li>
                           <p>Privileges to dequeue messages from the apply process's queue</p>
                        </li>
                     </ul>
                     <p>An apply process can be associated with only one user, but one user can be associated with many apply processes.</p>
                     <div class="infoboxnotealso" id="GUID-FA07061A-A574-450E-8791-878BDA3FEC03__GUID-4AC42468-A846-4CF0-8D4D-FDFB9AD6DF28">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=STREP200"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> for information about the required privileges
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STRMS131"></a><div class="props_rev_3"><a id="GUID-8222F401-A0FD-405D-85BA-FCD0C7DB929C" name="GUID-8222F401-A0FD-405D-85BA-FCD0C7DB929C"></a><h4 id="STRMS-GUID-8222F401-A0FD-405D-85BA-FCD0C7DB929C" class="sect4"><span class="enumeration_section">4.2.12 </span>Apply Process Parameters
                  </h4>
                  <div>
                     <p>After creation, an <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> is disabled so that you can set the apply process parameters for your environment before starting the process for the first time. Apply process parameters control the way an apply process operates. For example, the parallelism apply process parameter specifies the number of <a href="strms_glossary.html#GUID-B1090C5C-98E3-4B08-8A22-FAE4C35735B4"><span class="xrefglossterm">apply servers</span></a> that can concurrently apply transactions, and the <code class="codeph">time_limit</code> apply process parameter specifies the amount of time an apply process runs before it is shut down automatically. After you set the apply process parameters, you can start the apply process.
                     </p>
                     <div class="infoboxnotealso" id="GUID-8222F401-A0FD-405D-85BA-FCD0C7DB929C__GUID-4B086FD4-C223-4CAC-B9D8-C58FF797AB26">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-A24A2FCA-845A-43EA-A7E2-033335CBE558">Setting an Apply Process Parameter</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=ARPLS314"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for detailed information about all of the apply process parameters
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="STRMS395"></a><div class="props_rev_3"><a id="GUID-8DF6096D-645F-4B3B-9AFC-64C30B207C39" name="GUID-8DF6096D-645F-4B3B-9AFC-64C30B207C39"></a><h4 id="STRMS-GUID-8DF6096D-645F-4B3B-9AFC-64C30B207C39" class="sect4"><span class="enumeration_section">4.2.13 </span>Persistent Apply Process Status Upon Database Restart
                  </h4>
                  <div>
                     <p>An <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a> maintains a persistent status when the database running the apply process is shut down and restarted. For example, if an apply process is enabled when the database is shut down, then the apply process automatically starts when the database is restarted. Similarly, if an apply process is disabled or aborted when a database is shut down, then the apply process is not started and retains the disabled or aborted status when the database is restarted.
                     </p>
                  </div>
               </div><a id="STRMS156"></a><a id="STRMS_ERROR_QUEUE"></a><div class="props_rev_3"><a id="GUID-0996F5C0-F684-4495-A20E-02FD995FDAD8" name="GUID-0996F5C0-F684-4495-A20E-02FD995FDAD8"></a><h4 id="STRMS-GUID-0996F5C0-F684-4495-A20E-02FD995FDAD8" class="sect4"><span class="enumeration_section">4.2.14 </span>The Error Queue
                  </h4>
                  <div>
                     <p>The error queue contains all of the current apply errors for a database. If there are multiple <a href="strms_glossary.html#GUID-8FCB69CE-7655-4991-B988-0373A0A20085"><span class="xrefglossterm">apply process</span></a>es in a database, then the error queue contains the apply errors for each apply process. To view information about apply errors, query the <code class="codeph">DBA_APPLY_ERROR</code> data dictionary view or use Oracle Enterprise Manager Cloud Control.
                     </p>
                     <p>The error queue stores information about transactions that could not be applied successfully by the apply processes running in a database. A transaction can include many <a href="strms_glossary.html#GUID-62ABA207-07D4-453A-AC59-B0C780A3FB59"><span class="xrefglossterm">message</span></a>s. When an unhandled error occurs during apply, an apply process automatically moves all of the messages in the transaction that satisfy the apply process <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>s to the error queue.
                     </p>
                     <p>You can correct the condition that caused an error and then reexecute the transaction that caused the error. For example, you might modify a row in a table to correct the condition that caused an error. </p>
                     <p>When the condition that caused the error has been corrected, you can either reexecute the transaction in the error queue using the <code class="codeph">EXECUTE_ERROR</code> or <code class="codeph">EXECUTE_ALL_ERRORS</code> procedure, or you can delete the transaction from the error queue using the <code class="codeph">DELETE_ERROR</code> or <code class="codeph">DELETE_ALL_ERRORS</code> procedure. These procedures are in the <code class="codeph">DBMS_APPLY_ADM</code> package.
                     </p>
                     <p>When you reexecute a transaction in the error queue, you can specify that the transaction be executed either by the user who originally placed the error in the error queue or by the user who is reexecuting the transaction. Also, the current Oracle Streams <a href="strms_glossary.html#GUID-D667D798-F9C9-437F-92AB-8C04FAD19B64"><span class="xrefglossterm">tag</span></a> for the apply process is used when you reexecute a transaction in the error queue.
                     </p>
                     <p>A reexecuted transaction uses any relevant <a href="strms_glossary.html#GUID-4CEA651A-4197-4731-93D4-315BCB5CBE70"><span class="xrefglossterm">apply handler</span></a>s and <a href="strms_glossary.html#GUID-F4E03593-314E-4D6D-8D2A-FF26B08AAA20"><span class="xrefglossterm">conflict resolution</span></a> handlers. If, to resolve the error, a row LCR in an error queue must be modified before it is executed, then you can configure a <a href="strms_glossary.html#GUID-8F26223B-B771-4E5B-9C57-0F748A0904F1"><span class="xrefglossterm">procedure DML handler</span></a> to process the row LCR that caused the error in the error queue. In this case, the DML handler can modify the row LCR to avoid a repetition of the same error. The row LCR is passed to the DML handler when you reexecute the error containing the row LCR. For example, a statement DML handler might insert different values than the ones present in an insert row LCR, while a procedure DML handler might modify one or more columns in the row LCR to avoid a repetition of the same error.
                     </p>
                     <p>The error queue contains information about errors encountered at the local <a href="strms_glossary.html#GUID-C73813B0-D8A7-46D5-85B2-15BAB0A146B5"><span class="xrefglossterm">destination database</span></a> only. It does not contain information about errors for apply processes running in other databases in an Oracle Streams environment.
                     </p>
                     <p>The error queue uses the <a href="strms_glossary.html#GUID-E94DBA36-9FEB-4C59-8D28-DCB32EB8FBC9"><span class="xrefglossterm">exception queue</span></a>s in the database. When you create an <code class="codeph">ANYDATA</code> queue using the <code class="codeph">SET_UP_QUEUE</code> procedure in the <code class="codeph">DBMS_STREAMS_ADM</code> package, the procedure creates a <a href="strms_glossary.html#GUID-AEF42D36-AFC0-4198-8904-B12531197320"><span class="xrefglossterm">queue table</span></a> for the queue if one does not already exist. When a queue table is created, an exception queue is created automatically for the queue table. Multiple queues can use a single queue table, and each queue table has one exception queue. Therefore, a single exception queue can store errors for multiple queues and multiple apply processes.
                     </p>
                     <p>An exception queue only contains the apply errors for its queue table, but the Oracle Streams error queue contains information about all of the apply errors in each exception queue in a database. You should use the procedures in the <code class="codeph">DBMS_APPLY_ADM</code> package to manage Oracle Streams apply errors. You should not dequeue apply errors from an exception queue directly.
                     </p>
                     <div class="infoboxnote" id="GUID-0996F5C0-F684-4495-A20E-02FD995FDAD8__GUID-4312C026-D329-41E5-A593-D891DD375873">
                        <p class="notep1">Note:</p>
                        <p>If a <a href="strms_glossary.html#GUID-9EAF35D2-24C0-4E0B-ACC4-9EDC22A169C1"><span class="xrefglossterm">messaging client</span></a> encounters an error when it is dequeuing messages, then the messaging client moves these messages to the exception queue associated with the its queue table. However, information about messaging client errors is not stored in the error queue. Only information about apply process errors is stored in the error queue.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-0996F5C0-F684-4495-A20E-02FD995FDAD8__GUID-08E81F89-FB7D-4C75-AEF1-BCFAB7A95A77">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-3C45493C-6DD6-478F-98D7-71A857D17FDD">Managing Apply Errors</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="monitoring-oracle-streams-apply-processes.html#GUID-B3E9BD13-C4A2-4E7F-9571-A9687AEB5E07">Checking for Apply Errors</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="monitoring-oracle-streams-apply-processes.html#GUID-B2BCDB9E-5B7C-457C-8AB1-B5A7F1711148">Displaying Detailed Information About Apply Errors</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-oracle-streams-information-consumption.html#GUID-B753BE7F-596C-496B-82E5-C0F24947420A">Managing an Error Handler</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="how-rules-are-used-in-oracle-streams.html#GUID-FBC295B1-E3CD-428C-A3BF-69F74214DA14"> How Rules Are Used in Oracle Streams</a></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_APPLY_ADM.html#ARPLS300"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information about the <code class="codeph">DBMS_APPLY_ADM</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/index.html"><span class="italic">Oracle Database Reference </span></a>for more information about the <code class="codeph">DBA_APPLY_ERROR</code> data dictionary view
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="STRMS397"></a><a id="STRMS396"></a><div class="props_rev_3"><a id="GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9" name="GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9"></a><h3 id="STRMS-GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9" class="sect3"><span class="enumeration_section">4.3 </span>Explicit Consumption with a Messaging Client
               </h3>
               <div>
                  <p>A <span class="bold">messaging client</span> dequeues messages from its <a href="strms_glossary.html#GUID-8D447372-AA6C-4326-8A8F-2E13F9350AF1"><span class="xrefglossterm">persistent queue</span></a> when it is invoked by an application or a user. You use <a href="strms_glossary.html#GUID-6779E306-1287-45C6-8182-CD04A7325F91"><span class="xrefglossterm">rule</span></a>s to specify which messages in the <a href="strms_glossary.html#GUID-8D7B2770-B1EC-44C7-B861-B78E571CADA6"><span class="xrefglossterm">queue</span></a> are dequeued by a messaging client. These messages can be <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a>s or <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s.
                  </p>
                  <p>You can create a messaging client by specifying <code class="codeph">dequeue</code> for the <code class="codeph">streams_type</code> parameter when you run one of the following procedures in the <code class="codeph">DBMS_STREAMS_ADM</code> package:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="../arpls/DBMS_STREAMS_ADM.html#ARPLS521"><code class="codeph">ADD_MESSAGE_RULE</code></a></p>
                     </li>
                     <li>
                        <p><a href="../arpls/DBMS_STREAMS_ADM.html#ARPLS308"><code class="codeph">ADD_TABLE_RULES</code></a></p>
                     </li>
                     <li>
                        <p><a href="../arpls/DBMS_STREAMS_ADM.html#ARPLS329"><code class="codeph">ADD_SUBSET_RULES</code></a></p>
                     </li>
                     <li>
                        <p><a href="../arpls/DBMS_STREAMS_ADM.html#ARPLS309"><code class="codeph">ADD_SCHEMA_RULES</code></a></p>
                     </li>
                     <li>
                        <p><a href="../arpls/DBMS_STREAMS_ADM.html#ARPLS310"><code class="codeph">ADD_GLOBAL_RULES</code></a></p>
                     </li>
                  </ul>
                  <p>When you create a messaging client, you specify the name of the messaging client and the <code class="codeph">ANYDATA</code> queue from which the messaging client dequeues messages. These procedures can also add rules to the <a href="strms_glossary.html#GUID-A810B839-61A2-4DEB-85C9-8F2F09455268"><span class="xrefglossterm">positive rule set</span></a> or <a href="strms_glossary.html#GUID-F44D0886-397B-4E00-A666-A19F96F3C242"><span class="xrefglossterm">negative rule set</span></a> of a messaging client. You specify the message type for each rule, and a single messaging client can dequeue messages of different types.
                  </p>
                  <p>The user who creates a messaging client is granted the privileges to dequeue from the queue using the messaging client. This user is the <span class="bold">messaging client user</span>. The messaging client user can dequeue messages that satisfy the messaging client <a href="strms_glossary.html#GUID-36BC41F8-E073-4AFE-ADF1-5036DD323379"><span class="xrefglossterm">rule set</span></a>s. A messaging client can be associated with only one user, but one user can be associated with many messaging clients.
                  </p>
                  <p><a href="oracle-streams-information-consumption.html#GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9__i1008509">Figure 4-2</a> shows a messaging client dequeuing messages.
                  </p>
                  <div class="figure" id="GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9__i1008509">
                     <p class="titleinfigure">Figure 4-2 Messaging Client</p><img width="376" src="img/strms045.gif" alt="Description of Figure 4-2 follows" title="Description of Figure 4-2 follows" longdesc="img_text/strms045.html"><br><a href="img_text/strms045.html">Description of "Figure 4-2 Messaging Client"</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-3794AB4D-3041-4A59-B3E5-8EF80B40E5B9__GUID-D797DBAC-CB4A-44CF-8D26-297631E40906">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="how-rules-are-used-in-oracle-streams.html#GUID-FBC295B1-E3CD-428C-A3BF-69F74214DA14"> How Rules Are Used in Oracle Streams</a></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="oracle-streams-restrictions.html#GUID-15D4681A-292D-4F17-9482-9F5CD1164C7C">Messaging Client Restrictions</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../adque/toc.htm"><span class="italic">Oracle Database Advanced Queuing User's Guide</span></a> for information about the <code class="codeph">DBMS_AQ</code> package
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="STRMS398"></a><div class="props_rev_3"><a id="GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6" name="GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6"></a><h3 id="STRMS-GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6" class="sect3"><span class="enumeration_section">4.4 </span>Explicit Consumption with Manual Dequeue
               </h3>
               <div>
                  <p>With <a href="strms_glossary.html#GUID-94310F56-8F7F-4CA8-8D1C-F574C706429D"><span class="xrefglossterm">explicit consumption</span></a> with manual dequeue, an application explicitly dequeues <a href="strms_glossary.html#GUID-95FF7ACD-11FF-4ACF-8E06-60033BEC621B"><span class="xrefglossterm">buffered LCR</span></a>s, <a href="strms_glossary.html#GUID-32700BD5-7584-46D3-8224-B534FAC20DD7"><span class="xrefglossterm">persistent LCR</span></a>s, <a href="strms_glossary.html#GUID-2587F4F8-8B48-40F7-8541-D039E22291C3"><span class="xrefglossterm">buffered user message</span></a>s, or <a href="strms_glossary.html#GUID-8F1FA1C4-ADB5-4A4D-9374-B50AADB53066"><span class="xrefglossterm">persistent user message</span></a>s manually and processes them. The queue from which the messages are dequeued can be an <a href="strms_glossary.html#GUID-6A60BF27-6419-4518-800F-9C17D952DF46"><span class="xrefglossterm">ANYDATA queue</span></a> or a <a href="strms_glossary.html#GUID-A1B782A4-0767-457D-8CFD-D8ABF546A71D"><span class="xrefglossterm">typed queue</span></a>. You can use either the <code class="codeph">DBMS_STREAMS_MESSAGING</code> package or the <code class="codeph">DBMS_AQ</code> package to dequeue messages.
                  </p>
                  <p>The dequeue features available with Oracle Database Advanced Queuing include the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Dequeue from a buffered queue or a persistent queue</p>
                     </li>
                     <li>
                        <p>Concurrent dequeues</p>
                     </li>
                     <li>
                        <p>Dequeue methods</p>
                     </li>
                     <li>
                        <p>Dequeue modes</p>
                     </li>
                     <li>
                        <p>Dequeue an array of messages</p>
                     </li>
                     <li>
                        <p>Message states</p>
                     </li>
                     <li>
                        <p>Navigation of messages in dequeuing</p>
                     </li>
                     <li>
                        <p>Waiting for messages</p>
                     </li>
                     <li>
                        <p>Retries with delays</p>
                     </li>
                     <li>
                        <p>Optional transaction protection</p>
                     </li>
                     <li>
                        <p>Exception queues</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A5B0560D-9B0B-43AE-B723-AD5BFEA47DC6__GUID-D434FF27-8F7D-4199-B0BC-8D07DB3AE501">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/strms&amp;id=ADQUE"><span class="italic">Oracle Database Advanced Queuing User's Guide</span></a> for detailed information about these features and for information about other features available with Oracle Database Advanced Queuing
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="oracle-streams-restrictions.html#GUID-AFDF5F82-AF8C-4821-90A3-FD4DDD0C3079">Restrictions for Buffered Messaging</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>