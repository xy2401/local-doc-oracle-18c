<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.">
      <meta name="description" content="This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.">
      <title>Installation, Migration, Compatibility, and Upgrade</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-07-05T11:13:08-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E84311-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="spatial-supplementary-information.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-locator.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="spatial-supplementary-information.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-locator.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-supplementary-information.html" property="item" typeof="WebPage"><span property="name"> Supplementary Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Installation, Migration, Compatibility, and Upgrade</li>
            </ol>
            <a id="GUID-EB48F5B9-5790-4242-8665-D9CBE01775CC" name="GUID-EB48F5B9-5790-4242-8665-D9CBE01775CC"></a><a id="SPATL320"></a>
            
            <h2 id="SPATL-GUID-EB48F5B9-5790-4242-8665-D9CBE01775CC" class="sect2"><span class="enumeration_chapter">A </span> Installation, Migration, Compatibility, and Upgrade
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.</p>
               <p><a id="d172773e50" class="indexterm-anchor"></a><a id="d172773e52" class="indexterm-anchor"></a><a id="d172773e54" class="indexterm-anchor"></a><a id="d172773e58" class="indexterm-anchor"></a>If you are upgrading to the current Oracle Database release, Oracle Spatial and Graph is automatically upgraded as part of the operation. For information about the upgrade procedure, see <a href="../upgrd/major-steps-upgrade-process-oracle-database.html#UPGRD52705" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a>.
               </p>
               <p><a id="d172773e71" class="indexterm-anchor"></a>If you need to downgrade Spatial and Graph to the previous Oracle Database release, follow the instructions for downgrading a database back to the previous Oracle Database release in <a href="../upgrd/downgrading-oracle-db-after-upgrade.html#UPGRD007" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a>.
               </p>
               <p>If you need to migrate spatial data from one database to another, see <a href="spatial-install-migrate-upgrade.html#GUID-7269F46A-7497-40BA-B76B-E4C153470CD2">Migrating Spatial Data from One Database to Another</a>.
               </p>
               <p>If you use Oracle Spatial and Graph GeoRaster, see <a href="spatial-install-migrate-upgrade.html#GUID-58D40902-462D-435D-A347-5EEC1850723D">Ensuring That GeoRaster Works Properly After an Installation or Upgrade</a>.
               </p>
               <p>If you are using Spatial and Graph Web Feature Service (WFS) or Catalog Services for the Web (CSW) support, and if you have data from a previous release that was indexed using one or more SYS.XMLTABLEINDEX indexes, see <a href="spatial-install-migrate-upgrade.html#GUID-BA763A55-9CB8-4F08-8CC3-5DE13102FDAB">Index Maintenance Before and After an Upgrade (WFS and CSW)</a>.
               </p>
               <p>If you need to support geometries with more than 1,048,576 ordinates, see <a href="spatial-install-migrate-upgrade.html#GUID-9E23D46A-5B3A-4328-95C0-EA4F4C70FE89">Increasing the Size of Ordinate Arrays to Support Very Large Geometries</a>.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="spatial-install-migrate-upgrade.html#GUID-7269F46A-7497-40BA-B76B-E4C153470CD2">Migrating Spatial Data from One Database to Another</a><br></li>
                  <li class="ulchildlink"><a href="spatial-install-migrate-upgrade.html#GUID-58D40902-462D-435D-A347-5EEC1850723D">Ensuring That GeoRaster Works Properly After an Installation or Upgrade</a><br></li>
                  <li class="ulchildlink"><a href="spatial-install-migrate-upgrade.html#GUID-BA763A55-9CB8-4F08-8CC3-5DE13102FDAB">Index Maintenance Before and After an Upgrade (WFS and CSW)</a><br></li>
                  <li class="ulchildlink"><a href="spatial-install-migrate-upgrade.html#GUID-9E23D46A-5B3A-4328-95C0-EA4F4C70FE89">Increasing the Size of Ordinate Arrays to Support Very Large Geometries</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="spatial-supplementary-information.html#GUID-27D2A555-529F-4F08-ADDC-C6587A35358C">Supplementary Information</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1517"></a><div class="props_rev_3"><a id="GUID-7269F46A-7497-40BA-B76B-E4C153470CD2" name="GUID-7269F46A-7497-40BA-B76B-E4C153470CD2"></a><h3 id="SPATL-GUID-7269F46A-7497-40BA-B76B-E4C153470CD2" class="sect3"><span class="enumeration_section">A.1 </span>Migrating Spatial Data from One Database to Another
               </h3>
               <div>
                  <p>Migrating spatial data refers to moving or copying Oracle Spatial and Graph geometry objects from one Oracle database to another. (The databases can have the same or different Oracle Database release numbers.)</p>
                  <p>If you are migrating spatial data using database links, export/import, Oracle Data Pump, or transportable tablespaces, the MDSYS schema must already exist in the destination database.</p>
                  <p>In limited situations you might also need to use the <a href="SDO_MIGRATE-reference.html#GUID-83196024-5E64-4DA7-A588-0A31717FF150">SDO_MIGRATE.TO_CURRENT</a> subprogram (described in <a href="SDO_MIGRATE-reference.html#GUID-60525DFE-EE7A-4302-BFC9-5F9CDBF9728E" title="The MDSYS.SDO_MIGRATE package contains a single subprogram, SDO_MIGRATE.TO_CURRENT."> SDO_MIGRATE Package (Upgrading) </a>). See the Usage Notes for that subprogram.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-install-migrate-upgrade.html#GUID-EB48F5B9-5790-4242-8665-D9CBE01775CC" title="This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.">Installation, Migration, Compatibility, and Upgrade</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL330"></a><div class="props_rev_3"><a id="GUID-58D40902-462D-435D-A347-5EEC1850723D" name="GUID-58D40902-462D-435D-A347-5EEC1850723D"></a><h3 id="SPATL-GUID-58D40902-462D-435D-A347-5EEC1850723D" class="sect3"><span class="enumeration_section">A.2 </span>Ensuring That GeoRaster Works Properly After an Installation or Upgrade
               </h3>
               <div>
                  <p>To use the GeoRaster feature of Oracle Spatial and Graph, you must enable it and ensure that Oracle XML DB Repository is properly installed.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-install-migrate-upgrade.html#GUID-20119C51-6B07-4535-954E-7C55850F51F3">Enabling GeoRaster</a><br></li>
                     <li class="ulchildlink"><a href="spatial-install-migrate-upgrade.html#GUID-C7A8424E-9569-43A5-BB98-8ADEDA6A4ED7">Ensuring Oracle XML DB Repository is Installed</a><br></li>
                     <li class="ulchildlink"><a href="spatial-install-migrate-upgrade.html#GUID-AB503B92-9FC6-4831-8E2E-60E4B1C5DF82">Checking if the SDO_GEORASTER Type Needs to be Altered After an Upgrade</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-install-migrate-upgrade.html#GUID-EB48F5B9-5790-4242-8665-D9CBE01775CC" title="This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.">Installation, Migration, Compatibility, and Upgrade</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1559"></a><div class="props_rev_3"><a id="GUID-20119C51-6B07-4535-954E-7C55850F51F3" name="GUID-20119C51-6B07-4535-954E-7C55850F51F3"></a><h4 id="SPATL-GUID-20119C51-6B07-4535-954E-7C55850F51F3" class="sect4"><span class="enumeration_section">A.2.1 </span>Enabling GeoRaster
                  </h4>
                  <div>
                     <div class="section">
                        <p>By default the GeoRaster feature is disabled after the Oracle Spatial and Graph is initially installed. To enable GeoRaster, follow these steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect to the database as SYS AS SYSDBA.</span></li>
                        <li class="stepexpand"><span>Enter the following statement:</span><div><pre class="oac_no_warn" dir="ltr">EXECUTE MDSYS.enableGeoRaster;
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>After GeoRaster is enabled, if you later upgrade the database, you do <span class="italic"><span class="bold">not</span></span> need to re-enable GeoRaster.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-install-migrate-upgrade.html#GUID-58D40902-462D-435D-A347-5EEC1850723D">Ensuring That GeoRaster Works Properly After an Installation or Upgrade</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1560"></a><div class="props_rev_3"><a id="GUID-C7A8424E-9569-43A5-BB98-8ADEDA6A4ED7" name="GUID-C7A8424E-9569-43A5-BB98-8ADEDA6A4ED7"></a><h4 id="SPATL-GUID-C7A8424E-9569-43A5-BB98-8ADEDA6A4ED7" class="sect4"><span class="enumeration_section">A.2.2 </span>Ensuring Oracle XML DB Repository is Installed 
                  </h4>
                  <div>
                     <p>For more information, see the installation and upgrade notes near the start of Chapter 1 in <a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster Developer's Guide</span></a>.
                     </p>
                     <p>To use the GeoRaster feature of Oracle Spatial and Graph, Oracle XML DB Repository must be installed properly. (In general, you should ensure that Oracle XML DB Repository is installed before you install Oracle Spatial and Graph.)</p>
                     <p>If Oracle Spatial and Graph has been installed (such as during an upgrade) but Oracle XML DB Repository is not installed, you need to install the Oracle XML DB Repository and reload related GeoRaster PL/SQL packages. In this case, follow these steps</p>
                     <ol>
                        <li>
                           <p>Install Oracle XML DB Repository.</p>
                           <p>For information about installing Oracle XML DB Repository, see <a href="../adxdb/getting-started-with-XML-DB.html#ADXDB4006" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a>.
                           </p>
                        </li>
                        <li>
                           <p>Go to the <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/md/admin</code> directory.
                           </p>
                        </li>
                        <li>
                           <p>Connect to the database as <code class="codeph">SYS AS SYSDBA</code>.
                           </p>
                        </li>
                        <li>
                           <p>Enter the following SQL statements:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CURRENT_SCHEMA=MDSYS;
@prvtgrs.plb
@sdogrxml.sql</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-install-migrate-upgrade.html#GUID-58D40902-462D-435D-A347-5EEC1850723D">Ensuring That GeoRaster Works Properly After an Installation or Upgrade</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-AB503B92-9FC6-4831-8E2E-60E4B1C5DF82" name="GUID-AB503B92-9FC6-4831-8E2E-60E4B1C5DF82"></a><h4 id="SPATL-GUID-AB503B92-9FC6-4831-8E2E-60E4B1C5DF82" class="sect4"><span class="enumeration_section">A.2.3 </span>Checking if the SDO_GEORASTER Type Needs to be Altered After an Upgrade
                  </h4>
                  <div>
                     <p>If you upgrade Spatial and Graph to Release 12.2, you might need to alter the SDO_GEORASTER type if any user tablespaces containing SDO_GEORASTER objects were read-only during the upgrade.</p>
                     <p>During the upgrade, the SDO_GEORASTER type is automatically altered (to permit longer RDT names) as part of the upgrade <span class="bold">unless</span> any user tablespaces containing SDO_GEORASTER objects are read-only; and in that case, the type is not altered, and you must take steps to alter it.
                     </p>
                     <p>You can check whether the SDO_GEORASTER type needs to be altered by entering the following SQL statement and checking the RASTERDATATABLE length is 128 or 32:</p><pre class="pre codeblock"><code>SQL&gt; DESCRIBE sdo_georaster
 Name                            Null?    Type
 ------------------------------- -------- ----------------------------
 RASTERTYPE                               NUMBER
 SPATIALEXTENT                            MDSYS.SDO_GEOMETRY
 RASTERDATATABLE                          VARCHAR2(128)
 RASTERID                                 NUMBER
 METADATA                                 XMLTYPE</code></pre><ul style="list-style-type: disc;">
                        <li>
                           <p>If the RASTERDATATABLE column type is VARCHAR2(<span class="bold">128</span>), then the SDO_GEORASTER type was successfully altered, and you do not need to alter it.
                           </p>
                        </li>
                        <li>
                           <p>If the RASTERDATATABLE column type is VARCHAR2(<span class="bold">32</span>), then the SDO_GEORASTER type was not successfully altered, and you must alter it by following the instructions in the rest of this topic.
                           </p>
                        </li>
                     </ul>
                     <p>If you need to alter the SDO_GEORASTER type, follow these steps.</p>
                     <ol>
                        <li>
                           <p>Enter the following statements to find a list of read-only tablespaces that contain SDO_GEORASTER objects:</p><pre class="pre codeblock"><code>SQL&gt; connect / as sysdba
Connected.
SQL&gt; select distinct TABLESPACE_NAME from dba_tables a, mdsys.sdo_geor_sysdata_table b where a.owner=b.SDO_OWNER and a.TABLE_NAME=b.GEORASTER_TABLE_NAME;

TABLESPACE_NAME
------------------------------
TBS_3
</code></pre></li>
                        <li>
                           <p>For each read-only tablespace found in the preceding step, manually change it to read/write. For example (and do similarly for each tablespace):</p><pre class="pre codeblock"><code>SQL&gt; alter tablespace tbs_3 read write;
</code></pre></li>
                        <li>
                           <p>Alter the SDO_GEORASTER type by entering the following statements:</p><pre class="pre codeblock"><code>SQL&gt; connect / as sysdba

Connected.

SQL&gt; alter session set current_schema=MDSYS;

Session altered.

SQL&gt; alter type SDO_GEORASTER modify attribute ( rasterDataTable VARCHAR2(128) ) cascade including table data;

Type altered.</code></pre></li>
                        <li>
                           <p>For each tablespace that you changed to read/write in step 2, change it back to read-only. For example (and do similarly for each tablespace):</p><pre class="pre codeblock"><code>SQL&gt; alter tablespace tbs_3 read only;
</code></pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-install-migrate-upgrade.html#GUID-58D40902-462D-435D-A347-5EEC1850723D">Ensuring That GeoRaster Works Properly After an Installation or Upgrade</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL1425"></a><div class="props_rev_3"><a id="GUID-BA763A55-9CB8-4F08-8CC3-5DE13102FDAB" name="GUID-BA763A55-9CB8-4F08-8CC3-5DE13102FDAB"></a><h3 id="SPATL-GUID-BA763A55-9CB8-4F08-8CC3-5DE13102FDAB" class="sect3"><span class="enumeration_section">A.3 </span>Index Maintenance Before and After an Upgrade (WFS and CSW)
               </h3>
               <div>
                  <p>Effective with Release 11.2, the SYS.XMLTABLEINDEX index type is deprecated, and therefore the Spatial WFS and CSW <code class="codeph">createXMLTableIndex</code> methods create indexes of type XDB.XMLINDEX instead of type SYS.XMLTABLEINDEX as in previous releases. However, if you have data from a previous release that was indexed using one or more SYS.XMLTABLEINDEX indexes, you must drop the associated indexes before the upgrade and re-create the indexes after the upgrade, as follows:
                  </p>
                  <ol>
                     <li>
                        <p>Using Oracle Database Release 11.1, call the <code class="codeph">dropXMLTableIndex</code> method (in <code class="codeph">oracle.spatial.csw.CSWAdmin</code> or <code class="codeph">oracle.spatial.wfs.WFSAdmin</code>, as appropriate depending on the application) to drop associated indexes.
                        </p>
                     </li>
                     <li>
                        <p>Upgrade the database from Release 11.1 to Release 11.2.</p>
                     </li>
                     <li>
                        <p>Using Oracle Database Release 11.2, call the <code class="codeph">createXMLTableIndex</code> (in <code class="codeph">oracle.spatial.csw.CSWAdmin</code> or <code class="codeph">oracle.spatial.wfs.WFSAdmin</code>, as appropriate depending on the application) to create indexes that were dropped in step 1.
                        </p>
                     </li>
                  </ol>
                  <p>For information about Spatial and Graph Web Feature Service (WFS) support, see <a href="web-feature-service-wfs-concepts.html#GUID-7FBC9712-D9AF-4123-B7FD-5FD0D74C22EC" title="Oracle Spatial and Graph includes Web Feature Service (WFS) support."> Web Feature Service (WFS) Support</a>.
                  </p>
                  <p>For information about Spatial and Graph Catalog Services for the Web (CSW) support, see <a href="catalog-services-web-csw-concepts.html#GUID-8B8405D9-8851-4793-A33A-0DCCE72BA98A" title="Oracle Spatial and Graph provides an implementation of the Open GIS Consortium specification for catalog services."> Catalog Services for the Web (CSW) Support</a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-install-migrate-upgrade.html#GUID-EB48F5B9-5790-4242-8665-D9CBE01775CC" title="This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.">Installation, Migration, Compatibility, and Upgrade</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1426"></a><div class="props_rev_3"><a id="GUID-9E23D46A-5B3A-4328-95C0-EA4F4C70FE89" name="GUID-9E23D46A-5B3A-4328-95C0-EA4F4C70FE89"></a><h3 id="SPATL-GUID-9E23D46A-5B3A-4328-95C0-EA4F4C70FE89" class="sect3"><span class="enumeration_section">A.4 </span>Increasing the Size of Ordinate Arrays to Support Very Large Geometries
               </h3>
               <div>
                  <div class="section">
                     <p>If you need to support geometries with more than 1,048,576 ordinates, you must follow the instructions in this section. However, doing so involves significant extra work (running a script, migrating existing spatial data), some database downtime , and some considerations and restrictions. Therefore, you should not perform the actions in this section unless you need to.</p>
                     <p>To increase the size of ordinate arrays to support geometries with up to 10M ordinates, follow these steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Ensure that no users are using any spatial tables or Oracle Spatial and Graph or Locator features.</span></li>
                     <li class="stepexpand"><span>Connect to the database as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted).</span></li>
                     <li class="stepexpand"><span>Enter the following statement:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Linux: <code class="codeph">@$ORACLE_HOME/md/admin/sdoupggeom.sql</code> 
                                 </p>
                              </li>
                              <li>
                                 <p>Windows: <code class="codeph">@%ORACLE_HOME%\md\admin\sdoupggeom.sql</code></p>
                              </li>
                           </ul>
                           <p>One of the actions of the <code class="codeph">sdoupggeom.sql</code> script is to automatically migrate all spatial data to accommodate the new SDO_ORDINATE_ARRAY definition. This script may take a long time to complete, and the amount of time will depend on the amount of spatial data that exists in the database.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>After you perform these steps, the following considerations and restrictions apply:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Any existing transportable tablespaces that were created with the old SDO_ORDINATE_ARRAY definition will not work.</p>
                        </li>
                        <li>
                           <p>If an export file was created using the Original Export utility on a database with the old SDO_ORDINATE_ARRAY definition, and if that file needs to be imported into a database that is using the new SDO_ORDINATE_ARRAY definition, you must specify the <code class="codeph">TOID_NOVALIDATE</code> flag with the Original Import utility, as in the following example:
                           </p><pre class="oac_no_warn" dir="ltr">imp scott/<span class="italic">&lt;password&gt;</span> file=states.dmp tables=states TOID_NOVALIDATE=MDSYS.SDO_GEOMETRY,MDSYS.SDO_ORDINATE_ARRAY,MDSYS.SDO_ELEM_INFO_ARRAY
</pre></li>
                        <li>
                           <p>If you plan to use Oracle Data Pump to import data after <code class="codeph">sdoupggeom.sql</code> has been executed on a source database, you must also run <code class="codeph">sdoupggeom.sql</code> on the target (destination) database after the import operation.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-install-migrate-upgrade.html#GUID-EB48F5B9-5790-4242-8665-D9CBE01775CC" title="This appendix provides information about installation, migration, compatibility, and upgrade relating to Oracle Spatial and Graph.">Installation, Migration, Compatibility, and Upgrade</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>