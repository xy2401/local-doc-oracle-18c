<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Code Access Security</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-data-provider-net.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-08-24T00:49:54-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90593-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="featClasses.html" title="Previous" type="text/html">
      <link rel="next" href="featConnecting.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Data Provider for .NET">
    <meta name="dcterms.isVersionOf" content="ODPNT">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="featClasses.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="featConnecting.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="features.html" property="item" typeof="WebPage"><span property="name">Features of Oracle Data Provider for .NET</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Code Access Security</li>
            </ol>
            <a id="GUID-35586B6E-4D5B-42A8-ACF1-F9FEFD90BCFD" name="GUID-35586B6E-4D5B-42A8-ACF1-F9FEFD90BCFD"></a><a id="ODPNT201"></a>
            
            <h2 id="ODPNT-GUID-35586B6E-4D5B-42A8-ACF1-F9FEFD90BCFD" class="sect2"><span class="enumeration_section">3.2 </span>Code Access Security
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>ODP.NET implements code access security through the <code class="codeph">OraclePermission</code> class. This ensures that application code trying to access the database has the requisite permission to do so. 
               </p>
               <p>When a .NET assembly tries to access Oracle Database through ODP.NET, ODP.NET demands <code class="codeph">OraclePermission</code>. The .NET runtime security system checks to see whether the calling assembly, and all other assemblies in the call stack, have <code class="codeph">OraclePermission</code> granted to them. If all assemblies in the call stack have <code class="codeph">OraclePermission</code> granted to them, then the calling assembly can access the database. If any one of the assemblies in the call stack does not have <code class="codeph">OraclePermission</code> granted to it, then a security exception is thrown.
               </p>
            </div><a id="ODPNT202"></a><div class="props_rev_3"><a id="GUID-1D1BB227-A0A9-4D63-8AFF-F55E672E5563" name="GUID-1D1BB227-A0A9-4D63-8AFF-F55E672E5563"></a><h3 id="ODPNT-GUID-1D1BB227-A0A9-4D63-8AFF-F55E672E5563" class="sect3"><span class="enumeration_section">3.2.1 </span>Configuring OraclePermission
               </h3>
               <div>
                  <div class="section">
                     <p>The <code class="codeph">DemandOraclePermission</code> configuration attribute is used to enable or disable <code class="codeph">OraclePermission</code> demand for an ODP.NET API. The <code class="codeph">DemandOraclePermission</code> value can be specified in the Windows registry for unmanaged ODP.NET only, or an individual application configuration file for both unmanaged and managed ODP.NET.
                     </p>
                     <p>The following Windows registry key is used to configure the <code class="codeph">DemandOraclePermission</code> configuration attribute:
                     </p><pre class="oac_no_warn" dir="ltr">HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\ODP.NET\<span class="italic">Assembly_Version</span>\DemandOraclePermission
</pre><p>Here <span class="italic"><code class="codeph">Assembly_Version</code></span> is the full assembly version number of <code class="codeph">Oracle.DataAccess.dll.</code> The <code class="codeph">DemandOraclePermission</code> key is of type <code class="codeph">REG_SZ</code>. It can be set to either <code class="codeph">1</code> (enabled) or <code class="codeph">0</code> (disabled).
                     </p>
                     <p>You can also enable <code class="codeph">OraclePermission</code> demand for an individual application using its application configuration file. The following example enables the <code class="codeph">DemandOraclePermission</code> property in an application configuration file for ODP.NET, Unmanaged Driver:
                     </p><pre class="oac_no_warn" dir="ltr">&lt;configuration&gt;
  &lt;oracle.dataaccess.client&gt;
    &lt;settings&gt;
      &lt;add name="DemandOraclePermission" value="1"/&gt;
    &lt;/settings&gt;
  &lt;/oracle.dataaccess.client&gt;
&lt;/configuration&gt;
</pre><p>Similarly, you can use <code class="codeph">DemandOraclePermission</code> to configure ODP.NET, Managed Driver under the settings section for managed provider configuration. See also <span class="q">"<a href="InstallManagedConfig.html#GUID-A9EF5624-1828-46DD-84D1-CC5F40BFB6F5">settings section</a>"</span> for more information.
                     </p>
                     <p>An application or assembly can successfully access the database if <code class="codeph">OraclePermission</code> has been added to the permission set associated with the assembly's code group. A system administrator can modify the appropriate permission set manually or by using the Microsoft .NET configuration tool (<code class="codeph">Mscorcfg.msc</code>).
                     </p>
                     <p>Administrators may also use an appropriate .NET Framework Tool, such as the Code Access Security Policy Tool (<code class="codeph">Caspol.exe)</code>, to modify security policy at the machine, user, and enterprise levels for including <code class="codeph">OraclePermission</code>.
                     </p>
                     <p><code class="codeph">OracleConnection</code> makes security demands using the <code class="codeph">OraclePermission</code> object when <code class="codeph">OraclePermission</code> demand has been enabled using <code class="codeph">DemandOraclePermission</code> configuration attribute. Application developers should make sure that their code has sufficient permission before using <code class="codeph">OracleConnection</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-1D1BB227-A0A9-4D63-8AFF-F55E672E5563__GUID-0BA23517-083D-4F52-858E-BC16EEF81F07">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="OraclePermissionClass.html#GUID-580CB511-58DB-47E2-AFDB-C88AE9300DC8">OraclePermission Class</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="OraclePermissionAttributeClass.html#GUID-5520A788-1BFB-4DB5-9A83-E244CDD5DC32">OraclePermissionAttribute Class</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ODPNT203"></a><div class="props_rev_3"><a id="GUID-5AE26436-D72E-43FD-8C65-05013B9AC44A" name="GUID-5AE26436-D72E-43FD-8C65-05013B9AC44A"></a><h3 id="ODPNT-GUID-5AE26436-D72E-43FD-8C65-05013B9AC44A" class="sect3"><span class="enumeration_section">3.2.2 </span>Configuring OraclePermission for Web Applications with High or Medium Trust Levels
               </h3>
               <div>
                  <div class="section">
                     <p>For Web applications operating under high or medium trust, <code class="codeph">OraclePermission</code> needs to be configured in the appropriate <code class="codeph">web_</code><span class="italic"><code class="codeph">TrustLevel</code></span><code class="codeph">.config</code>  file, so that the application does not encounter any security errors.
                     </p>
                     <p><code class="codeph">OraclePermission</code> can be configured using the <code class="codeph">OracProvCfg</code> tool. <code class="codeph">OraProvCfg.exe</code> adds appropriate entries to the <code class="codeph">web_hightrust.config</code> and <code class="codeph">web_mediumtrust.config</code> files associated with the specified .NET framework version.The following example illustrates using the <code class="codeph">OraProvCfg</code> tool for configuring <code class="codeph">OraclePermission</code> in a .NET 2.0 Web application:
                     </p><pre class="oac_no_warn" dir="ltr">OraProvCfg.exe /action:config  /product:odp /component:oraclepermission
               /frameworkversion:v2.0.50727
               /providerpath:<span class="italic">full_path_of_Oracle.DataAccess.dll</span>
</pre><p>On running the preceding command, the following entry is added to the <code class="codeph">web_hightrust.config</code> and  <code class="codeph">web_mediumtrust.config</code> files under the ASP.NET permission set:
                     </p><pre class="oac_no_warn" dir="ltr">&lt;IPermission class="Oracle.DataAccess.Client.OraclePermission, Oracle.DataAccess,
Version=2.112.2.0, Culture=neutral, PublicKeyToken=89b483f429c47342" version="1"
Unrestricted="true" /&gt;
</pre><p><code class="codeph">OraProvCfg</code> can also be used to remove these entries from the <code class="codeph">.config</code> files when required. The following example illustrates this:
                     </p><pre class="oac_no_warn" dir="ltr">OraProvCfg.exe /action:unconfig  /product:odp  /component:oraclepermission
               /frameworkversion:v2.0.50727
               /providerpath:<span class="italic">full_path_of_Oracle.DataAccess.dll</span></pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ODPNT204"></a><div class="props_rev_3"><a id="GUID-65FFDF2C-CEDD-4BC8-AE72-D52743BED516" name="GUID-65FFDF2C-CEDD-4BC8-AE72-D52743BED516"></a><h3 id="ODPNT-GUID-65FFDF2C-CEDD-4BC8-AE72-D52743BED516" class="sect3"><span class="enumeration_section">3.2.3 </span>Configuring OraclePermission for Windows Applications Running in a Partial Trust Environment
               </h3>
               <div>
                  <div class="section">
                     <p>For Windows applications operating in a partial trust environment, the <code class="codeph">OraclePermission</code> entry should be specified under the appropriate permission set in the <code class="codeph">security.config</code> file. The <code class="codeph">security.config</code> file is available in the <code class="codeph">%windir%\Microsoft.NET\Framework\</code><span class="italic"><code class="codeph">{version}</code></span><code class="codeph">\CONFIG</code> folder. 
                     </p>
                     <p>The following example specifies the <code class="codeph">OraclePermission</code> entry for a .NET 2.0 Windows application:
                     </p><pre class="oac_no_warn" dir="ltr">&lt;IPermission class="Oracle.DataAccess.Client.OraclePermission, Oracle.DataAccess,
 Version=2.112.2.0, Culture=neutral, PublicKeyToken=89b483f429c47342" version="1"
 Unrestricted="true" /&gt;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>