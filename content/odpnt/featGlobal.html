<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Globalization Support</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-data-provider-net.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-08-24T00:49:54-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90593-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="featUnique.html" title="Previous" type="text/html">
      <link rel="next" href="featDebug.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Data Provider for .NET">
    <meta name="dcterms.isVersionOf" content="ODPNT">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="featUnique.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="featDebug.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="features.html" property="item" typeof="WebPage"><span property="name">Features of Oracle Data Provider for .NET</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Globalization Support </li>
            </ol>
            <a id="GUID-EE66C558-1C17-4CB5-A31F-72066B9B9FA1" name="GUID-EE66C558-1C17-4CB5-A31F-72066B9B9FA1"></a><a id="ODPNT437"></a>
            
            <h2 id="ODPNT-GUID-EE66C558-1C17-4CB5-A31F-72066B9B9FA1" class="sect2"><span class="enumeration_section">3.22 </span>Globalization Support 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>ODP.NET globalization support enables applications to manipulate culture-sensitive data appropriately. This feature ensures proper string format, date, time, monetary, numeric, sort order, and calendar conventions depending on the Oracle globalization settings. </p>
               <div class="infoboxnote" id="GUID-EE66C558-1C17-4CB5-A31F-72066B9B9FA1__GUID-B8DE628F-FBC4-49E0-A2AA-234D2C47282B">
                  <p class="notep1">Note:</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>ODP.NET, Managed Driver is not <code class="codeph">NLS_LANG</code> sensitive. It is only .NET locale sensitive.
                        </p>
                     </li>
                     <li>
                        <p>ODP.NET, Managed Driver does not support thread-based globalization.</p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-EE66C558-1C17-4CB5-A31F-72066B9B9FA1__GUID-04CA7109-37B5-41B8-98A0-D1EB9D0D6C7A">
                  <p class="notep1">See Also:</p>
                  <p><span class="q">"<a href="OracleGlobalizationClass.html#GUID-0F50EB3E-67A3-4748-A146-E783532F9529">OracleGlobalization Class</a>"</span> 
                  </p>
               </div>
               <p>This section includes the following:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="featGlobal.html#GUID-C71DEFAF-350A-43E9-8440-06931C4A5189">Globalization Settings</a></p>
                  </li>
                  <li>
                     <p><a href="featGlobal.html#GUID-34059335-E7E8-49F1-AD69-A3B0DC0C255F">Globalization-Sensitive Operations</a></p>
                  </li>
               </ul>
            </div><a id="ODPNT438"></a><div class="props_rev_3"><a id="GUID-C71DEFAF-350A-43E9-8440-06931C4A5189" name="GUID-C71DEFAF-350A-43E9-8440-06931C4A5189"></a><h3 id="ODPNT-GUID-C71DEFAF-350A-43E9-8440-06931C4A5189" class="sect3"><span class="enumeration_section">3.22.1 </span>Globalization Settings
               </h3>
               <div>
                  <p>An <code class="codeph">OracleGlobalization</code> object can be used to represent the following: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="featGlobal.html#GUID-1CF4FBF2-B4D1-4DE7-85EB-23D573FC2713">Client Globalization Settings</a></p>
                     </li>
                     <li>
                        <p><a href="featGlobal.html#GUID-F0B0101D-F10A-41CC-B940-6F963D7C286D">Session Globalization Settings</a></p>
                     </li>
                     <li>
                        <p><a href="featGlobal.html#GUID-F041C7BF-970A-49DC-864E-6DFBFA2141D8">Thread-Based Globalization Settings</a></p>
                     </li>
                  </ul>
               </div><a id="ODPNT439"></a><div class="props_rev_3"><a id="GUID-1CF4FBF2-B4D1-4DE7-85EB-23D573FC2713" name="GUID-1CF4FBF2-B4D1-4DE7-85EB-23D573FC2713"></a><h4 id="ODPNT-GUID-1CF4FBF2-B4D1-4DE7-85EB-23D573FC2713" class="sect4"><span class="enumeration_section">3.22.1.1 </span>Client Globalization Settings
                  </h4>
                  <div>
                     <p>Client globalization settings are derived from the Oracle globalization setting (<code class="codeph">NLS_LANG</code>) in the Windows registry of the local computer. The client globalization parameter settings are read-only and remain constant throughout the lifetime of the application. These settings can be obtained by calling the <code class="codeph">OracleGlobalization.GetClientInfo</code> static method.
                     </p>
                     <p>The following example retrieves the client globalization settings:</p><pre class="oac_no_warn" dir="ltr">// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class ClientGlobalizationSample
{
  static void Main()
  {
    OracleGlobalization ClientGlob = OracleGlobalization.GetClientInfo();
 
    Console.WriteLine("Client machine language: " + ClientGlob.Language);
    Console.WriteLine("Client characterset: " + ClientGlob.ClientCharacterSet);
  }
}
</pre><p>The properties of the <code class="codeph">OracleGlobalization</code> object provide the Oracle globalization value settings.
                     </p>
                  </div>
               </div><a id="ODPNT440"></a><div class="props_rev_3"><a id="GUID-F0B0101D-F10A-41CC-B940-6F963D7C286D" name="GUID-F0B0101D-F10A-41CC-B940-6F963D7C286D"></a><h4 id="ODPNT-GUID-F0B0101D-F10A-41CC-B940-6F963D7C286D" class="sect4"><span class="enumeration_section">3.22.1.2 </span>Session Globalization Settings 
                  </h4>
                  <div>
                     <p>Session globalization parameters are initially identical to client globalization settings. Unlike client settings, session globalization settings can be updated. However, they can be obtained only after establishing a connection against the database. The session globalization settings can be obtained by calling the <code class="codeph">GetSessionInfo</code> method on the <code class="codeph">OracleConnection</code> object. Invoking this method returns an instance of an <code class="codeph">OracleGlobalization</code> class whose properties represent the globalization settings of the session. 
                     </p>
                     <p>When the <code class="codeph">OracleConnection</code> object establishes a connection, it implicitly opens a session whose globalization parameters are initialized with those values specified by the client computer's Oracle globalization (or (NLS)) registry settings. The session settings can be updated and can change during its lifetime. 
                     </p>
                     <p>The following example changes the date format setting on the session:</p><pre class="oac_no_warn" dir="ltr">// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class SessionGlobalizationSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    con.ConnectionString = "User Id=scott;Password=tiger;Data Source=oracle;";
    con.Open();
 
    OracleGlobalization SessionGlob = con.GetSessionInfo();
 
    // SetSessionInfo updates the Session with the new value
    SessionGlob.DateFormat = "YYYY/MM/DD";
    con.SetSessionInfo(SessionGlob);
    Console.WriteLine("Date Format successfully changed for the session");
 
    // Close and Dispose OracleConnection object
    con.Close();
    con.Dispose();
  }
}
</pre></div>
               </div><a id="ODPNT441"></a><div class="props_rev_3"><a id="GUID-F041C7BF-970A-49DC-864E-6DFBFA2141D8" name="GUID-F041C7BF-970A-49DC-864E-6DFBFA2141D8"></a><h4 id="ODPNT-GUID-F041C7BF-970A-49DC-864E-6DFBFA2141D8" class="sect4"><span class="enumeration_section">3.22.1.3 </span>Thread-Based Globalization Settings
                  </h4>
                  <div>
                     <p>Thread-based globalization parameter settings are specific to each thread. Initially, these settings are identical to the client globalization parameters, but they can be changed as specified by the application. When ODP.NET Types are converted to and from strings, the thread-based globalization parameters are used, if applicable. </p>
                     <p>Thread-based globalization parameter settings are obtained by invoking the <code class="codeph">GetThreadInfo</code> static method of the <code class="codeph">OracleGlobalization</code> class. The <code class="codeph">SetThreadInfo</code> static method of the <code class="codeph">OracleGlobalization</code> class can be called to set the thread's globalization settings. 
                     </p>
                     <p>ODP.NET classes and structures rely solely on the <code class="codeph">OracleGlobalization</code> settings when manipulating culture-sensitive data. They do not use .NET thread culture information. If the application uses only .NET types, <code class="codeph">OracleGlobalization</code> settings have no effect. However, when conversions are made between ODP.NET types and .NET types, <code class="codeph">OracleGlobalization</code> settings are used where applicable. 
                     </p>
                     <div class="infoboxnote" id="GUID-F041C7BF-970A-49DC-864E-6DFBFA2141D8__GUID-B031F663-2243-47C8-86FB-C11217346736">
                        <p class="notep1">Note:</p>
                        <p>Changes to the <code class="codeph">System.Threading.Thread. CurrentThread.CurrentCulture</code> property do not impact the <code class="codeph">OracleGlobalization</code> settings of the thread or the session, or the reverse.
                        </p>
                     </div>
                     <p>The following example shows how the thread's globalization settings are used by the ODP.NET Types:</p><pre class="oac_no_warn" dir="ltr">// C#
 
using System;
using Oracle.DataAccess.Types;
using Oracle.DataAccess.Client;
 
class ThreadBasedGlobalizationSample
{
  static void Main(string[] args)
  {
    // Set the thread's DateFormat for the OracleDate constructor
    OracleGlobalization info = OracleGlobalization.GetClientInfo();
    info.DateFormat = "YYYY-MON-DD";
    OracleGlobalization.SetThreadInfo(info);
    
    // construct OracleDate from a string using the DateFormat specified.
    OracleDate date = new OracleDate("1999-DEC-01");
    
    // Set a different DateFormat for the thread
    info.DateFormat = "MM/DD/YYYY";
    OracleGlobalization.SetThreadInfo(info);
 
    // Print "12/01/1999"
    Console.WriteLine(date.ToString()); 
  }
}
</pre><p>The <code class="codeph">OracleGlobalization</code> object validates property changes made to it. If an invalid value is used to set a property, an exception is thrown. Note that changes made to the <code class="codeph">Territory</code> and <code class="codeph">Language</code> properties change other properties of the <code class="codeph">OracleGlobalization</code> object implicitly.
                     </p>
                     <div class="infoboxnotealso" id="GUID-F041C7BF-970A-49DC-864E-6DFBFA2141D8__GUID-AA33E886-2ED8-4D25-8C0D-14451210F8B6">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/odpnt&amp;id=NLSPG012" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for more information on the properties affected by <code class="codeph">Territory</code> and <code class="codeph">Language</code> globalization settings
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ODPNT442"></a><div class="props_rev_3"><a id="GUID-34059335-E7E8-49F1-AD69-A3B0DC0C255F" name="GUID-34059335-E7E8-49F1-AD69-A3B0DC0C255F"></a><h3 id="ODPNT-GUID-34059335-E7E8-49F1-AD69-A3B0DC0C255F" class="sect3"><span class="enumeration_section">3.22.2 </span>Globalization-Sensitive Operations
               </h3>
               <div>
                  <p>This section lists ODP.NET types and operations that are dependent on or sensitive to globalization settings.</p>
               </div><a id="ODPNT443"></a><div class="props_rev_3"><a id="GUID-D3BF053D-16F0-4F73-9456-D2679EF6F900" name="GUID-D3BF053D-16F0-4F73-9456-D2679EF6F900"></a><h4 id="ODPNT-GUID-D3BF053D-16F0-4F73-9456-D2679EF6F900" class="sect4"><span class="enumeration_section">3.22.2.1 </span>Operations Dependent on Client Computer's Globalization Settings
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">OracleString</code> structure depends on the <code class="codeph">OracleGlobalization</code> settings of the client computer. The client character set of the local computer is used when it converts a Unicode string to a <code class="codeph">byte[]</code> in the <code class="codeph">GetNonUnicode</code> method and when it converts a <code class="codeph">byte[]</code> of ANSI characters to Unicode in the <code class="codeph">OracleString</code> constructor that accepts a <code class="codeph">byte[]</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ODPNT444"></a><div class="props_rev_3"><a id="GUID-64EE0A89-921E-438B-AE19-BB5D0BA504D5" name="GUID-64EE0A89-921E-438B-AE19-BB5D0BA504D5"></a><h4 id="ODPNT-GUID-64EE0A89-921E-438B-AE19-BB5D0BA504D5" class="sect4"><span class="enumeration_section">3.22.2.2 </span>Operations Dependent on Thread Globalization Settings
                  </h4>
                  <div>
                     <div class="section">
                        <p>The thread globalization settings are used by ODP.NET types whenever they are converted to and from .NET string types, where applicable. Specific thread globalization settings are used in most cases, depending on the ODP.NET type, by the following: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">ToString</code> method
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">Parse</code> static method
                              </p>
                           </li>
                           <li>
                              <p>Constructors that accept .NET string data</p>
                           </li>
                           <li>
                              <p>Conversion operators to and from .NET strings</p>
                           </li>
                        </ul>
                        <p>For example, the <code class="codeph">OracleDate</code> type uses the <code class="codeph">DateFormat</code> property of the thread globalization settings when the <code class="codeph">ToString</code> method is invoked on it. This returns a <code class="codeph">DATE</code> as a string in the format specified by the thread's settings.
                        </p>
                        <p>The thread globalization settings also affect data that is retrieved into the <code class="codeph">DataSet</code> as a string using Safe Type Mapping. If the type is format-sensitive, the strings are always in the format specified by the thread globalization settings.
                        </p>
                        <p>For example, <code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code> data is not affected by thread settings because no format is applicable for this type. However, the <code class="codeph">DateFormat</code> and <code class="codeph">NumericCharacters</code> properties can impact the string representation of <code class="codeph">DATE</code> and <code class="codeph">NUMBER</code> types, respectively, when they are retrieved as strings into the <code class="codeph">DataSet</code> through Safe Type Mapping.
                        </p>
                        <div class="infoboxnotealso" id="GUID-64EE0A89-921E-438B-AE19-BB5D0BA504D5__GUID-3257DED1-9225-4463-AEB7-26C97D8D7D0D">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The remarks in <a href="OracleGlobalizationClass.html#GUID-0F50EB3E-67A3-4748-A146-E783532F9529">OracleGlobalization Class</a> for more details on the ODP.NET type methods that convert between ODP.NET types and .NET string types, and to identify which thread globalization settings are used for that particular method.
                                 </p>
                              </li>
                              <li>
                                 <p><a href="featSafeType.html#GUID-AEAA0FB6-123B-49DF-97C1-F71FAC35D60B">OracleDataAdapter Safe Type Mapping</a></p>
                              </li>
                              <li>
                                 <p><a href="types-structures.html#GUID-2F1F5E21-A982-49F4-9ED0-4762A59C6FCD">Oracle Data Provider for .NET Types Structures</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ODPNT445"></a><div class="props_rev_3"><a id="GUID-580B605A-E62E-429F-996A-7BD8FC708616" name="GUID-580B605A-E62E-429F-996A-7BD8FC708616"></a><h4 id="ODPNT-GUID-580B605A-E62E-429F-996A-7BD8FC708616" class="sect4"><span class="enumeration_section">3.22.2.3 </span>Operations Sensitive to Session Globalization Parameters
                  </h4>
                  <div>
                     <div class="section">
                        <p>Session globalization settings affect any data that is retrieved from or sent to the database as a string.</p>
                        <p>For example, if a <code class="codeph">DATE</code> column is selected with the <code class="codeph">TO_CHAR</code> function applied on it, the <code class="codeph">DATE</code> column data will be a string in the date format specified by the <code class="codeph">DateFormat</code> property of the session globalization settings. Transmitting data in the other direction, the string data that is to be inserted into the <code class="codeph">DATE</code> column, must be in the format specified by the <code class="codeph">DateFormat</code> property of the session globalization settings.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ODPNT8462"></a><div class="props_rev_3"><a id="GUID-85001343-8DCE-47C5-B4A4-5F77D1E01F6F" name="GUID-85001343-8DCE-47C5-B4A4-5F77D1E01F6F"></a><h3 id="ODPNT-GUID-85001343-8DCE-47C5-B4A4-5F77D1E01F6F" class="sect3"><span class="enumeration_section">3.22.3 </span>ODP.NET Managed and Unmanaged Drivers Differences
               </h3>
               <div>
                  <p>ODP.NET, Managed and Unmanaged Drivers set the default session time zone differently. While the session time zone for unmanaged ODP.NET uses an hour offset, managed ODP.NET uses the region identifier for setting its session time zone. As a result, managed ODP.NET is sensitive to daylight savings in scenarios where the timestamp LTZ values have to be converted from or to the session time zone.</p>
                  <p>There are two methods to resolve this difference if needed. For ODP.NET, Unmanaged Driver, the application explicitly sets the region identifier with the environment variable <code class="codeph">ORA_SDTZ</code>. For example, <code class="codeph">set ORA_SDTZ = &lt;Region ID&gt;</code>. If <code class="codeph">ORA_SDTZ</code> variable is set, Oracle Client considers this value as the session time zone. The second method is to execute an alter session command to set the session time zone property to the region identifier. 
                  </p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>