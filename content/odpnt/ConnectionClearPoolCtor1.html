<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>ClearPool</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-data-provider-net.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-08-24T00:49:54-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90593-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="ConnectionStaticMethods.html" title="Previous" type="text/html">
      <link rel="next" href="ConnectionClearAllPools.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Data Provider for .NET">
    <meta name="dcterms.isVersionOf" content="ODPNT">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ConnectionStaticMethods.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="ConnectionClearAllPools.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="odp-dot-net-classes.html" property="item" typeof="WebPage"><span property="name">Oracle Data Provider for .NET Classes</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="OracleConnectionClass.html" property="item" typeof="WebPage"><span property="name">OracleConnection Class</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="ConnectionStaticMethods.html" property="item" typeof="WebPage"><span property="name">OracleConnection Static Methods</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ClearPool</li>
            </ol>
            <a id="GUID-193C5A10-0808-472B-BE0F-C906BC72EC2C" name="GUID-193C5A10-0808-472B-BE0F-C906BC72EC2C"></a><a id="ODPNT796"></a><a id="ODPNT797"></a><a id="ODPNT798"></a><a id="ODPNT799"></a><a id="ODPNT795"></a>
            
            <h2 id="ODPNT-GUID-193C5A10-0808-472B-BE0F-C906BC72EC2C" class="sect2"><span class="enumeration_section">6.4.4.1 </span>ClearPool
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>This method clears the connection pool that is associated with the provided <code class="codeph">OracleConnection</code> object.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Declaration</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="oac_no_warn" dir="ltr">// C#
public static void ClearPool(OracleConnection connection);</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Remarks </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>When this method is invoked, all idle connections are closed and freed from the pool. Currently used connections are not discarded until they are returned to the pool.</p>
                  <p>Beginning with ODP.NET 12<span class="italic">c</span> Release 1 (12.1), <code class="codeph">ClearPool</code> does not automatically repopulate the pool with new connections. This prevents the pool from being repopulated with invalid connections if client remains unable to connect with the database server. Developers programmatically control when the pool is repopulated by calling <code class="codeph">OracleConnection.Open()</code>, which will repopulate the pool with at least the Min Pool Size number of connections.
                  </p>
                  <p>Connections created after this method invocation are not cleared unless another invocation is made.</p>
                  <p>This method can be invoked with an <code class="codeph">OracleConnection</code> object before opening the connection as well as after, provided the <code class="codeph">ConnectionString</code> is properly set. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Exceptions</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">InvalidOperationException</code> &#x2013; Either the connection pool cannot be found or the provided connection string is invalid.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Example </p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="oac_no_warn" dir="ltr">// C#
// Sample demonstrating the use of ClearPool API in OracleConnection class
 
using System;
using Oracle.DataAccess.Client;
 
class ClearPoolSample
{
  static void Main()
  {
    Console.WriteLine("Running ClearPool sample..." );
    // Set the connection string
    string strConn = "User Id=scott;Password=tiger;Data Source=oracle;" +
                     "Min pool size=5;";
    OracleConnection conn = new OracleConnection(strConn);
 
    // Open the connection
    conn.Open();
  
    // Clears the connection pool associated with connection 'conn'
    OracleConnection.ClearPool (conn);
 
    // This connection will be placed back into the pool
    conn.Close ();
 
    // Open the connection again to create additional connections in the pool
    conn.Open();
 
    // Create a new connection object
    OracleConnection connNew = new OracleConnection(strConn);
 
    // Clears the pool associated with Connection 'connNew'
    // Since the same connection string is set for both the connections,
    // connNew and conn, they will be part of the same connection pool.
    // We need not do an Open() on the connection object before calling
    // ClearPool
    OracleConnection.ClearPool (connNew);
 
    // cleanup
    conn.Close();
    Console.WriteLine("Done!");
  }
}</pre><div class="infoboxnotealso" id="GUID-193C5A10-0808-472B-BE0F-C906BC72EC2C__GUID-BCEC2188-62A3-4ABC-B5F6-EF3ABCA5153D">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="intro003.html#GUID-2A5A5F0B-E6C9-45AF-9477-FBD55F7FCDC5">Oracle.DataAccess.Client and Oracle.ManagedDataAccess.Client Namespaces</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="OracleConnectionClass.html#GUID-A8BFA792-97D6-423B-9548-80CA0652174E">OracleConnection Class</a></p>
                        </li>
                        <li>
                           <p><a href="ConnectionMembers.html#GUID-4DE91FF2-45DB-4996-904A-96B37B467EC3">OracleConnection Members</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>