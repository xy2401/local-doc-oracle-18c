<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Database Application Migration: SQL Translation Framework</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-data-provider-net.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-08-24T00:49:54-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90593-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="featDebug.html" title="Previous" type="text/html">
      <link rel="next" href="entity_framework.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Data Provider for .NET">
    <meta name="dcterms.isVersionOf" content="ODPNT">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="featDebug.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="entity_framework.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="features.html" property="item" typeof="WebPage"><span property="name">Features of Oracle Data Provider for .NET</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Database Application Migration: SQL Translation Framework</li>
            </ol>
            <a id="GUID-2DF740D8-48B6-4828-A405-D85A34621FD3" name="GUID-2DF740D8-48B6-4828-A405-D85A34621FD3"></a><a id="ODPNT8463"></a>
            
            <h2 id="ODPNT-GUID-2DF740D8-48B6-4828-A405-D85A34621FD3" class="sect2"><span class="enumeration_section">3.24 </span>Database Application Migration: SQL Translation Framework
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>A key part of migrating non-Oracle database applications to an Oracle Database requires converting non-Oracle SQL statements to SQL statements that can be processed by an Oracle Database. SQL conversion is generally a manual and laborious process. To minimize the effort, Oracle Database 12<span class="italic">c</span> introduces SQL Translation Framework which takes non-Oracle SQL statements from client applications and then translates them at run-time for the Oracle Database to execute.
               </p>
               <p>The SQL Translation Framework can be used to map non-Oracle stored procedure to Oracle stored procedures to ensure successful execution of those stored procedures when migrating to Oracle Database.</p>
               <p>Currently, SQL Translation Framework is available for Sybase Adaptive Server Enterprise and Microsoft SQL Server. There is limited support for IBM DB2.</p>
               <div class="infoboxnote" id="GUID-2DF740D8-48B6-4828-A405-D85A34621FD3__GUID-F984B0C0-03D8-48D0-BA32-D4FF4DEBE689">
                  <p class="notep1">Note:</p>
                  <p>SQL Translation Framework is only supported by ODP.NET, Unmanaged Driver. ODP.NET, Managed Driver does not support this feature.</p>
               </div>
            </div><a id="ODPNT8464"></a><div class="props_rev_3"><a id="GUID-402C4237-D385-4C32-BACE-2A3036186575" name="GUID-402C4237-D385-4C32-BACE-2A3036186575"></a><h3 id="ODPNT-GUID-402C4237-D385-4C32-BACE-2A3036186575" class="sect3"><span class="enumeration_section">3.24.1 </span>The SQL Translation Profile
               </h3>
               <div>
                  <p>The SQL Translation Profile is a database object that contains the set of captured non-Oracle SQL statements, and their translations or translation errors. The SQL Translation Profile is used to review, approve, and modify translations. A profile is associated to a single translator. However, a translator can be used in one or more SQL Translation Profiles. Typically, there is one SQL Translation Profile per application, otherwise applications can share translated queries. You can export profiles among various databases.</p>
                  <ol>
                     <li>
                        <p>Configuring the SQL Translation Profile Name</p>
                        <p>The default translation profile name for SQL Translation Framework can be configured through the <code class="codeph">app/web/machine</code> .NET configuration file. If configured, connections, by default will automatically be set to the specified profile when the connection is initially created. 
                        </p>
                     </li>
                     <li>
                        <p>Changing the SQL Translation Profile Name</p>
                        <p>ODP.NET supports setting the profile name through the .NET config file, logon trigger, or database service. ODP.NET does not support using <code class="codeph">ALTER SESSION</code> from an application to set the profile name.
                        </p>
                     </li>
                     <li>
                        <p>Forcing Translation</p>
                        <p>Applications are strictly prohibited to execute the following SQL which forces translation of all SQL's on the database:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET events = '10601 trace name context forever, level 32'
</pre></li>
                     <li>
                        <p>Connection Related Error Mapping </p>
                        <p>Connection Related Error Mapping can be configured through the .NET configuration file. Please note that this error mapping strictly applies to errors which could be thrown before the connection is successfully established. Once the database connection is established successfully, then these error mapping will be completely ignored and further error translation will be provided through the error mapping configured in the database.</p>
                        <p>The rules to choose an error mapping section in the configuration file are as follows:</p>
                        <ol type="a">
                           <li id="GUID-402C4237-D385-4C32-BACE-2A3036186575__CJAJDEAC">
                              <p>ODP.NET uses the error mapping section which matches the configured <code class="codeph">userId</code>, <code class="codeph">dataSource</code>, and profile, where <code class="codeph">userId</code> and <code class="codeph">dataSource</code> matches the corresponding values in the connection string and profile matches the <code class="codeph">defaultProfile</code> configuration setting.
                              </p>
                           </li>
                           <li>
                              <p>If no error mapping section is found from 4.a.), then ODP.NET uses the error mapping section which matches the <code class="codeph">userId</code>, <code class="codeph">dataSource</code>, and profile similar to 4.a.), but with the profile that matches with the <code class="codeph">defaultErrorMappingProfile</code> configuration setting.
                              </p>
                           </li>
                           <li>
                              <p>If still no error mapping section is found, then ODP.NET uses the global mapping, that is, <code class="codeph">&lt;ErrorMapping profile="*"&gt;</code>, if configured.
                              </p>
                           </li>
                        </ol>
                     </li>
                     <li>
                        <p>Stored Procedure Mapping.</p>
                        <p>Application must map their native stored procedure names to the corresponding Oracle stored procedure names on the translation profile in the database. The following procedure can be used to setup the mapping in the database.</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.REGISTER_SQL_TRANSLATION(
    PROFILE_NAME    VARCHAR2    IN
    SQL_TEXT        CLOB        IN
    TRANSLATED_TEXT CLOB        IN     DEFAULT
    ENABLE          BOOLEAN     IN     DEFAULT)
</pre><p>Example of stored procedure mapping:</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.REGISTER_SQL_TRANSLATION('profile_name', 
 'native_sp_name', 
 'oracle_sp_name');
</pre></li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-402C4237-D385-4C32-BACE-2A3036186575__GUID-6869E672-EB8E-4B5C-A885-FB955AD8B479">
                     <p class="notep1">See Also:</p>
                     <p>Chapter 2, SQL Translation Framework Overview and Architecture, of the <a href="../drdaa/SQL-translation-framework-overview.html#DRDAA131" target="_blank"><span class="italic">Oracle Database Migration Guide</span></a> for more information.
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>