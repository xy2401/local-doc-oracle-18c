<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Pipelined and Parallel Table Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Cartridge Developer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Cartridge Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.1.1">
      <link rel="alternate" href="data-cartridge-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-01-31T03:52:46-08:00">
      <meta name="dcterms.title" content="Data Cartridge Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E84275-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      <meta name="dcterms.release" content="Release 18">
      <link rel="prev" href="user-defined-aggregate-functions-interface.html" title="Previous" type="text/html">
      <link rel="next" href="user-managed-local-domain-indexes.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADDCI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="user-defined-aggregate-functions-interface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="user-managed-local-domain-indexes.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Cartridge Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="reference.html" property="item" typeof="WebPage"><span property="name">Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Pipelined and Parallel Table Functions </li>
            </ol>
            <a id="GUID-FA3B69A8-3DFC-43F1-8435-F1BC8874B687" name="GUID-FA3B69A8-3DFC-43F1-8435-F1BC8874B687"></a><a id="ADDCI4230"></a>
            
            <h2 id="ADDCI-GUID-FA3B69A8-3DFC-43F1-8435-F1BC8874B687" class="sect2"><span class="enumeration_chapter">23 </span>Pipelined and Parallel Table Functions 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>These routines must be implemented to define pipelined and parallel table functions in C.</p>
               <div class="infoboxnotealso" id="GUID-FA3B69A8-3DFC-43F1-8435-F1BC8874B687__GUID-B3EAD8B6-9B38-4959-BCE0-9BACF7B4CBE2">
                  <p class="notep1">See Also:</p>
                  <p><a href="using-pipelined-and-parallel-table-functions.html#GUID-EFB94CFB-3E44-4236-B490-ADBB480C94D4">    Using Pipelined and Parallel Table Functions </a> for an overall explanation of pipelined and parallel table functions
                  </p>
               </div>
            </div><a id="ADDCI5142"></a><a id="ADDCI5141"></a><div class="props_rev_3"><a id="GUID-F0506E99-9509-4E2B-B552-1F53AF427D0A" name="GUID-F0506E99-9509-4E2B-B552-1F53AF427D0A"></a><h3 id="ADDCI-GUID-F0506E99-9509-4E2B-B552-1F53AF427D0A" class="sect3"><span class="enumeration_section">23.1 </span>Routines for Pipelined and Parallel Table Functions in C
               </h3>
               <div>
                  <div class="section">
                     <p>The following C methods, summarized in support parallel and pipelined table functions.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F0506E99-9509-4E2B-B552-1F53AF427D0A__GUID-64C791CB-CF3E-493E-B05D-3C05E881BFC4">
                     <p class="titleintable">Table 23-1 Summary of Pipelined and Parallel Table Functions for C</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of Pipelined and Parallel Table Functions for C" summary="First column gives the name and references of the function, while the second column is a brief description." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d82696e126">Function</th>
                              <th align="left" valign="bottom" width="65%" id="d82696e129">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d82696e134" headers="d82696e126 ">
                                 <p><a href="pipelined-and-parallel-table-functions.html#GUID-9814FCDE-05BE-4F25-9861-FDC640F43E5C">ODCITableClose()</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d82696e134 d82696e129 ">
                                 <p>Performs cleanup operations after scanning a table function.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d82696e143" headers="d82696e126 ">
                                 <p><a href="pipelined-and-parallel-table-functions.html#GUID-C45BF680-3EBE-4E53-8A08-193ED22F61C8">ODCITableDescribe()</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d82696e143 d82696e129 ">
                                 <p>Returns describe information for a table function whose return type is <code class="codeph">ANYDATASET</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d82696e155" headers="d82696e126 ">
                                 <p><a href="pipelined-and-parallel-table-functions.html#GUID-54F5311D-8708-44AB-85A9-9CFE3EE79C76">ODCITableFetch()</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d82696e155 d82696e129 ">
                                 <p>returns the next batch of rows from a table function.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d82696e164" headers="d82696e126 ">
                                 <p><a href="pipelined-and-parallel-table-functions.html#GUID-6022AD7F-BDE5-4D42-B8F9-D2B18AB6AD84">ODCITablePrepare()</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d82696e164 d82696e129 ">
                                 <p>Prepares the scan context and other query information at compile time.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d82696e173" headers="d82696e126 ">
                                 <p><a href="pipelined-and-parallel-table-functions.html#GUID-7C674A4F-7145-480E-883D-00C609B64DA0">ODCITableStart()</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d82696e173 d82696e129 ">
                                 <p>initializes the scan of a table function.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ADDCI5144"></a><a id="ADDCI5145"></a><a id="ADDCI5146"></a><a id="ADDCI5143"></a><div class="props_rev_3"><a id="GUID-9814FCDE-05BE-4F25-9861-FDC640F43E5C" name="GUID-9814FCDE-05BE-4F25-9861-FDC640F43E5C"></a><h4 id="ADDCI-GUID-9814FCDE-05BE-4F25-9861-FDC640F43E5C" class="sect4"><span class="enumeration_section">23.1.1 </span>ODCITableClose()
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">ODCITableClose</code> performs cleanup operations after scanning a table function.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCITableClose(
&nbsp;&nbsp;&nbsp;self IN &lt;imptype&gt;) 
RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9814FCDE-05BE-4F25-9861-FDC640F43E5C__GUID-A384EEC0-B291-4655-9AE2-7818C03FE4B5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d82696e258">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d82696e261">In/Out</th>
                                 <th align="left" valign="bottom" width="74%" id="d82696e264">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e269" headers="d82696e258 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e269 d82696e261 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e269 d82696e264 ">
                                    <p>The scan context set up by previous scan routine invocation</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, <code class="codeph">ODCIConst.Error</code> otherwise.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle invokes <code class="codeph">ODCITableClose</code> after the last fetch call. The scan context is passed in as a parameter. <code class="codeph">ODCITableClose</code> then performs any necessary cleanup operations, such as freeing memory.
                              </p>
                           </li>
                           <li>
                              <p>If ODCITablePrepare is implemented, this routine is only called one time, at the end of query execution, rather than each time the table function exits.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5148"></a><a id="ADDCI5149"></a><a id="ADDCI5150"></a><a id="ADDCI5147"></a><div class="props_rev_3"><a id="GUID-C45BF680-3EBE-4E53-8A08-193ED22F61C8" name="GUID-C45BF680-3EBE-4E53-8A08-193ED22F61C8"></a><h4 id="ADDCI-GUID-C45BF680-3EBE-4E53-8A08-193ED22F61C8" class="sect4"><span class="enumeration_section">23.1.2 </span>ODCITableDescribe()
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">ODCITableDescribe</code> returns describe information for a table function whose return type is <code class="codeph">ANYDATASET</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCITableDescribe(
&nbsp;&nbsp;&nbsp;rtype OUT ANYTYPE, 
&nbsp;&nbsp;&nbsp;&lt;args&gt;) 
RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C45BF680-3EBE-4E53-8A08-193ED22F61C8__GUID-83062C67-DAEA-457D-9EC3-F53A8B85BF6A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d82696e386">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d82696e389">In/Out</th>
                                 <th align="left" valign="bottom" width="74%" id="d82696e392">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e397" headers="d82696e386 "><pre class="oac_no_warn" dir="ltr">rtype</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e397 d82696e389 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e397 d82696e392 ">
                                    <p>The <code class="codeph">AnyType</code> value that describes the returned rows from the table function
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e410" headers="d82696e386 "><pre class="oac_no_warn" dir="ltr">args</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e410 d82696e389 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e410 d82696e392 ">
                                    <p>The set of zero or more user specified arguments for the table function.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, <code class="codeph">ODCIConst.Error</code> otherwise.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the optional routine <code class="codeph">ODCITableDescribe</code> is implemented, Oracle invokes it at query compilation time to retrieve the specific type information. 
                              </p>
                           </li>
                           <li>
                              <p>This interface is applicable only for table functions whose return type is <code class="codeph">ANYDATASET</code>. The format of elements within the returned collection is conveyed to Oracle by returning an instance of <code class="codeph">ANYTYPE</code>. The <code class="codeph">ANYTYPE</code> instance specifies the actual structure of the returned rows of the specific query.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ANYTYPE</code> provides a data type to model the metadata of a row: the names and data types of all the columns (fields) comprising the row. It also provides a set of PL/SQL and C interfaces for users to construct and access the metadata information. <code class="codeph">ANYDATASET</code>, like <code class="codeph">ANYTYPE</code>, contains a description of a given type, but <code class="codeph">ANYDATASET</code> also contains a set of data instances of that type
                              </p>
                           </li>
                           <li>
                              <p>The following example shows a query on a table function that uses the <code class="codeph">ANYDATASET</code> type: 
                              </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM 
TABLE(CAST(AnyBooks('http://.../books.xml') AS ANYDATASET));
</pre><p>At query compilation time, Oracle invokes the <code class="codeph">ODCITableDescribe</code> routine. The routine typically uses the user arguments to figure out the nature of the return rows. In this example, <code class="codeph">ODCITableDescribe</code> consults the DTD of the XML documents at the specified location to determine the appropriate <code class="codeph">ANYTYPE</code> value to return. Each <code class="codeph">ANYTYPE</code> instance is constructed by invoking the constructor APIs with this field name and data type information. 
                              </p>
                           </li>
                           <li>
                              <p>Any arguments of the table function that are not constants are passed to <code class="codeph">ODCITableDescribe</code> as <code class="codeph">NULL</code>s because their values are not known at compile time.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-C45BF680-3EBE-4E53-8A08-193ED22F61C8__GUID-D6CA7A21-242B-445A-9264-1B99D4D519EE">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-pipelined-and-parallel-table-functions.html#GUID-7008AB9F-4C2B-4896-AF2D-1AB39910C9A0">Transient and Generic Types</a> for a discussion of <code class="codeph">ANYTYPE</code>, <code class="codeph">ANYDATA</code>, and <code class="codeph">ANYDATASET</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5152"></a><a id="ADDCI5153"></a><a id="ADDCI5154"></a><a id="ADDCI5151"></a><div class="props_rev_3"><a id="GUID-54F5311D-8708-44AB-85A9-9CFE3EE79C76" name="GUID-54F5311D-8708-44AB-85A9-9CFE3EE79C76"></a><h4 id="ADDCI-GUID-54F5311D-8708-44AB-85A9-9CFE3EE79C76" class="sect4"><span class="enumeration_section">23.1.3 </span>ODCITableFetch()
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">ODCITableFetch</code> returns the next batch of rows from a table function.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCITableFetch(
&nbsp;&nbsp;&nbsp;self IN OUT &lt;imptype&gt;, 
&nbsp;&nbsp;&nbsp;nrows IN NUMBER, 
&nbsp;&nbsp;&nbsp;rws OUT &lt;coll-type&gt;) 
RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-54F5311D-8708-44AB-85A9-9CFE3EE79C76__GUID-C5715CAB-ED08-428D-9583-DA756F5FFE56">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d82696e590">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d82696e593">In/Out</th>
                                 <th align="left" valign="bottom" width="74%" id="d82696e596">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e601" headers="d82696e590 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e601 d82696e593 "><pre class="oac_no_warn" dir="ltr">IN OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e601 d82696e596 ">
                                    <p>The in-bound is the scan context set up by previous scan routine invocation; the outbound is the scan context to be passed to later scan routine invocations.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e611" headers="d82696e590 "><pre class="oac_no_warn" dir="ltr">nrows</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e611 d82696e593 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e611 d82696e596 ">
                                    <p>The number of rows the system expects in the current fetch cycle. The method can ignore this value and return a different number of rows. If fewer rows are returned, the method is called again; if more rows are returned, they are processed in the next cycle.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e621" headers="d82696e590 "><pre class="oac_no_warn" dir="ltr">rws</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e621 d82696e593 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e621 d82696e596 ">
                                    <p>The next batch of rows from the table function. This is returned as an instance of the same collection type as the return type of the table function.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, <code class="codeph">ODCIConst.Error</code> otherwise.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ODCITableFetch</code> is invoked one or more times by Oracle to retrieve all the rows in the collection returned by the table function. The scan context is passed in as a parameter. Typically <code class="codeph">ODCITableFetch</code> uses the input scan context and computes the next set of rows to be returned to Oracle. In addition, it may update the scan context accordingly. 
                              </p>
                           </li>
                           <li>
                              <p>Returning more rows in each invocation of <code class="codeph">fetch()</code> reduces the number of fetch calls that must be made and thus improves performance.
                              </p>
                           </li>
                           <li>
                              <p>Oracle calls <code class="codeph">ODCITableFetch</code> repeatedly until all rows in the table function's collection have been returned. When all rows have been returned, <code class="codeph">ODCITableFetch</code> should return a null collection.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5156"></a><a id="ADDCI5157"></a><a id="ADDCI5155"></a><div class="props_rev_3"><a id="GUID-6022AD7F-BDE5-4D42-B8F9-D2B18AB6AD84" name="GUID-6022AD7F-BDE5-4D42-B8F9-D2B18AB6AD84"></a><h4 id="ADDCI-GUID-6022AD7F-BDE5-4D42-B8F9-D2B18AB6AD84" class="sect4"><span class="enumeration_section">23.1.4 </span>ODCITablePrepare()
                  </h4>
                  <div>
                     <div class="section">
                        <p>Prepares the scan context and other query information at compile time.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCITablePrepare(
&nbsp;&nbsp;&nbsp;sctx OUT &lt;imptype&gt;, 
&nbsp;&nbsp;&nbsp;tf_info SYS.ODCITabFuncInfo,
&nbsp;&nbsp;&nbsp;args);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6022AD7F-BDE5-4D42-B8F9-D2B18AB6AD84__GUID-5B62584D-1B99-4C81-8DCE-FF5D85D6A16B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d82696e742">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d82696e745">In/Out</th>
                                 <th align="left" valign="bottom" width="74%" id="d82696e748">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e753" headers="d82696e742 "><pre class="oac_no_warn" dir="ltr">sctx</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e753 d82696e745 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e753 d82696e748 ">
                                    <p>The scan context returned by this routine. This value is passed in as a parameter to the later scan routines. The scan context is an instance of the object type containing the implementation of the <code class="codeph">ODCITable</code> routines.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e766" headers="d82696e742 "><pre class="oac_no_warn" dir="ltr">tf_info</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e766 d82696e745 ">
                                    <p>â€ƒ</p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d82696e766 d82696e748 ">
                                    <p>Contains the projection information and the return type's table descriptor object (TDO):</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Attrs (<code class="codeph">SYS.ODCINumberList</code>): lists the positions of the referenced attributes of the table function's output collection type
                                          </p>
                                       </li>
                                       <li>
                                          <p>RefType (<code class="codeph">SYS.AnyType</code>): for <code class="codeph">AnyDataSet</code> table functions, this is the actual return type expected to be returned in the <code class="codeph">AnyDataSet</code> collection.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e795" headers="d82696e742 "><pre class="oac_no_warn" dir="ltr">args</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e795 d82696e745 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e795 d82696e748 ">
                                    <p>The arguments that are passed to the table function. This method is invoked at compile time; thus, only literal arguments have values. Column and expression arguments are passed as null values.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This method prepares the scan context based on the information known at compile time. This scan context is passed to <code class="codeph">ODCITableStart</code> when it is called at the beginning of query execution.
                              </p>
                           </li>
                           <li>
                              <p>If this optional method is implemented, <code class="codeph">ODCITableClose</code> is only called one time, at the end of query execution. Each time the table function is restarted, <code class="codeph">ODCITableStart</code> is called and passed the scan context. This allows the table function to maintain context between restarts, and to perform cleanup operations only one time at the end of query execution.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5159"></a><a id="ADDCI5160"></a><a id="ADDCI5161"></a><a id="ADDCI5158"></a><div class="props_rev_3"><a id="GUID-7C674A4F-7145-480E-883D-00C609B64DA0" name="GUID-7C674A4F-7145-480E-883D-00C609B64DA0"></a><h4 id="ADDCI-GUID-7C674A4F-7145-480E-883D-00C609B64DA0" class="sect4"><span class="enumeration_section">23.1.5 </span>ODCITableStart()
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">ODCITableStart</code> initializes the scan of a table function.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCITableStart(
&nbsp;&nbsp;&nbsp;sctx IN OUT &lt;imptype&gt;, 
&nbsp;&nbsp;&nbsp;&lt;args&gt;) 
RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-7C674A4F-7145-480E-883D-00C609B64DA0__GUID-E9378FB8-CE5D-4297-B279-744AD829BC86">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d82696e901">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d82696e904">In/Out</th>
                                 <th align="left" valign="bottom" width="74%" id="d82696e907">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e912" headers="d82696e901 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e912 d82696e904 "><pre class="oac_no_warn" dir="ltr">IN OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e912 d82696e907 ">
                                    <p>The scan context returned by this routine. This value is passed in as a parameter to the later scan routines. The scan context is an instance of the object type containing the implementation of the <code class="codeph">ODCITable</code> routines. If <code class="codeph">ODCITablePrepare</code> is implemented, the scan context it creates is passed in to <code class="codeph">ODCITableStart</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e931" headers="d82696e901 "><pre class="oac_no_warn" dir="ltr">args</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e931 d82696e904 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e931 d82696e907 ">
                                    <p>Set of zero or more arguments specified by the user for the table function</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d82696e941" headers="d82696e901 "><pre class="oac_no_warn" dir="ltr">rws</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d82696e941 d82696e904 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d82696e941 d82696e907 ">
                                    <p>The next batch of rows from the table function. This is returned as an instance of the same collection type as the return type of the table function.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, <code class="codeph">ODCIConst.Error</code> otherwise.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If <code class="codeph">ODCITablePrepare</code> is not implemented, this is the first routine that is invoked to begin retrieving rows from a table function. This routine typically performs the setup needed for the scan. The scan context is created (as an object instance <code class="codeph">sctx</code>) and returned to Oracle. The arguments to the table function, specified by the user in the <code class="codeph">SELECT</code> statement, are passed in as parameters to this routine. If <code class="codeph">ODCITablePrepare</code> is implemented, it creates the scan context at compile time, and that scan context is passed in to this routine.
                              </p>
                           </li>
                           <li>
                              <p>Any <code class="codeph">REF CURSOR</code> arguments of the table function must be declared as <code class="codeph">SYS_REFCURSOR</code> type in the declaration of the <code class="codeph">ODCITableStart</code> method.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>