<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Run Oracle Trace File Analyzer on demand using tfactl command-line tool.">
      <meta name="description" content="Run Oracle Trace File Analyzer on demand using tfactl command-line tool.">
      <title>On-demand Analysis and Diagnostic Collection</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="Run Oracle Trace File Analyzer on demand using tfactl command-line tool.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.1.1">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-04T16:09:07-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83825-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      <meta name="dcterms.release" content="Release 18">
      <link rel="prev" href="automatic-diagnostic-collection.html" title="Previous" type="text/html">
      <link rel="next" href="changing-clusterware-trace-levels.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="automatic-diagnostic-collection.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="changing-clusterware-trace-levels.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="diagnose-troubleshoot-issues-errors.html" property="item" typeof="WebPage"><span property="name">Collecting Diagnostic Data and Triaging, Diagnosing, and Resolving Issues</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">On-demand Analysis and Diagnostic Collection</li>
            </ol>
            <a id="GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" name="GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174"></a>
            
            <h2 id="ATNMS-GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" class="sect2"><span class="enumeration_chapter">16 </span>On-demand Analysis and Diagnostic Collection
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Run Oracle Trace File Analyzer on demand using <code class="codeph">tfactl</code> command-line tool.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065">Collecting Diagnostics and Analyzing Logs On-Demand</a><br>The <code class="codeph">tfactl</code> command can use a combination of different database command tools when it performs analysis.
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-CA919197-728E-486B-B8B4-5865A18125C6">Viewing System and Cluster Summary</a><br>The summary command gives you a real-time report of system and cluster status.
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B">Investigating Logs for Errors</a><br>Use Oracle Trace File Analyzer to analyze all your logs across your cluster to identify recent errors.
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-ECAB7936-8E48-4141-91F8-634DB19BE390">Analyzing Logs Using the Included Tools</a><br>Oracle Database support tools bundle is available only when you download Oracle Trace File Analyzer from My Oracle Support note 1513912.1.
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125">Collecting Diagnostic Data and Using One Command Service Request Data Collections</a><br></li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB">Uploading Collections to Oracle Support</a><br>To enable collection uploads, configure Oracle Trace File Analyzer with your My Oracle Support user name and password.
                  </li>
                  <li class="ulchildlink"><a href="changing-clusterware-trace-levels.html#GUID-940A4DD7-80E8-4DAA-9BAD-571D13428DFC">Changing Oracle Clusterware Trace Levels</a><br>Enabling trace levels enables you to collect enough diagnostics to diagnose the cause of the problem.
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065" name="GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065"></a><h3 id="ATNMS-GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065" class="sect3"><span class="enumeration_section">16.1 </span>Collecting Diagnostics and Analyzing Logs On-Demand
               </h3>
               <div>
                  <p>The <code class="codeph">tfactl</code> command can use a combination of different database command tools when it performs analysis.
                  </p>
                  <p>The <code class="codeph">tfactl</code> command enables you to access all tools using common syntax. Using common syntax hides the complexity of the syntax differences between the tools.
                  </p>
                  <p>Use the Oracle Trace File Analyzer tools to perform analysis and resolve problems. If you need more help, then use the <code class="codeph">tfactl</code> command to collect diagnostics for Oracle Support.
                  </p>
                  <p>Oracle Trace File Analyzer does the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Collects all relevant log data from a time of your choosing.</p>
                     </li>
                     <li>
                        <p>Trims log files around the time, collecting only what is necessary for diagnosis.</p>
                     </li>
                     <li>
                        <p>Packages all diagnostics on the node where <code class="codeph">tfactl</code> was run from.
                        </p>
                     </li>
                  </ul>
                  <div class="p">
                     <div class="figure" id="GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065__GUID-82F397DA-EFC3-4288-889F-91B340800533">
                        <p class="titleinfigure">Figure 16-1 On-Demand Collections</p><img src="img/tfa-demand-collections-18c.png" alt="Description of Figure 16-1 follows" title="Description of Figure 16-1 follows" longdesc="img_text/tfa-demand-collections-18c.html"><br><a href="img_text/tfa-demand-collections-18c.html">Description of "Figure 16-1 On-Demand Collections"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-CA919197-728E-486B-B8B4-5865A18125C6" name="GUID-CA919197-728E-486B-B8B4-5865A18125C6"></a><h3 id="ATNMS-GUID-CA919197-728E-486B-B8B4-5865A18125C6" class="sect3"><span class="enumeration_section">16.2 </span>Viewing System and Cluster Summary
               </h3>
               <div>
                  <p>The summary command gives you a real-time report of system and cluster status.</p>
                  <div class="section">
                     <p class="subhead2">Syntax</p>
                     <p><code class="codeph">tfactl summary [options]</code></p>
                     <div class="p">For more help use:<pre class="pre codeblock"><code>tfactl summary -help</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B" name="GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B"></a><h3 id="ATNMS-GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B" class="sect3"><span class="enumeration_section">16.3 </span>Investigating Logs for Errors
               </h3>
               <div>
                  <p>Use Oracle Trace File Analyzer to analyze all your logs across your cluster to identify recent errors.</p>
                  <ol>
                     <li class="stepexpand"><span>To find all errors in the last one day:</span><div><pre class="pre codeblock"><code>$ tfactl analyze &#x2013;last 1d</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>To find all errors over a specified duration:</span><div><pre class="pre codeblock"><code>$ tfactl analyze &#x2013;last 18h</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>To find all occurrences of a specific error on any node, for example, to report <code class="codeph">ORA-00600</code> errors:</span><div><pre class="pre codeblock"><code>$ tfactl analyze -search “ora-00600" -last 8h</code></pre></div>
                     </li>
                  </ol>
                  <div class="example" id="GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B__GUID-AA4ECAFA-3812-4032-8E10-166602907794">
                     <p class="titleinexample">Example 16-1 Analyzing logs</p><pre class="pre codeblock"><code>tfactl analyze &#x2013;last 14d

Jun/02/2016 11:44:39 to Jun/16/2016 11:44:39 tfactl&gt; analyze -last 14d
INFO: analyzing all (Alert and Unix System Logs) logs for the last 20160 minutes...  Please wait...
INFO: analyzing host: myserver69

                        Report title: Analysis of Alert,System Logs
                   Report date range: last ~14 day(s)
          Report (default) time zone: EST - Eastern Standard Time
                 Analysis started at: 16-Jun-2016 02:45:02 PM EDT
               Elapsed analysis time: 0 second(s).
                  Configuration file: 
/u01/app/tfa/myserver69/tfa_home/ext/tnt/conf/tnt.prop
                 Configuration group: all
                 Total message count:            957, from 02-May-2016 
09:04:07 PM EDT to 16-Jun-2016 12:45:41 PM EDT
   Messages matching last ~14 day(s):            225, from 03-Jun-2016 
02:17:32 PM EDT to 16-Jun-2016 12:45:41 PM EDT
         last ~14 day(s) error count:              2, from 09-Jun-2016 
09:56:47 AM EDT to 09-Jun-2016 09:56:58 AM EDT last ~14 day(s) ignored error count: 0
  last ~14 day(s) unique error count: 2

Message types for last ~14 day(s)
    Occurrences percent  server name          type
    ----------- -------  -------------------- -----
            223   99.1%  myserver69           generic
              2    0.9%  myserver69           ERROR
    ----------- -------
            225  100.0%

Unique error messages for last ~14 day(s)
    Occurrences percent  server name          error
    ----------- -------  -------------------- -----
              1   50.0%  myserver69           Errors in file 
/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/trace/RDB112041_ora_25401.trc
(incident=6398):
                                              ORA-07445: exception
encountered: core dump [] [] [] [] [] []
                                              Incident details in: 
/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/incident/incdir_6398/RDB112041_ora_25401_i6398.trc 

                                              Use ADRCI or Support Workbench to package the incident.
                                              See Note 411.1 at My Oracle Support for error and packaging details.

              1   50.0%  myserver69           Errors in file 
/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/trace/RDB112041_ora_25351.trc
(incident=6394):
                                              ORA-00700: soft internal error, arguments: [kgerev1], [600], [600], [700], [], [], [], [], [], [], [], []
                                              Incident details in: 
/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/incident/incdir_6394/RDB112041_ora_25351_i6394.trc 

                                              Errors in file /u01/app/racusr/diag/rdbms/rdb11204/RDB112041/trace/RDB112041_ora_25351.trc
(incident=6395):
                                              ORA-00600: internal error code, arguments: [], [], [], [], [], [], [], [], [], [], [], []
                                              Incident details in: 
/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/incident/incdir_6395/RDB112041_ora_25351_i6395.trc 

                                              Dumping diagnostic data in directory=[cdmp_20160609095648], requested by (instance=1, osid=25351), summary=[incident=6394].
                                              Use ADRCI or Support Workbench to package the incident.
                                              See Note 411.1 at My Oracle Support for error and packaging details.

    ----------- -------
              2  100.0%
 See Change Which Directories Get Collected for more details.</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="running-summary-and-analysis-commands.html#GUID-6017A94F-E65E-4121-B5B8-6D71EE48DCDD" title="Use the tfactl summary command to view the summary of Oracle Trace File Analyzer deployment.">tfactl summary</a></li>
                        <li><a href="running-summary-and-analysis-commands.html#GUID-F8D3E8E6-7C50-41E4-A9D8-F15C8E6839F8" title="Use the&nbsp;tfactl analyze command to obtain analysis of your system by parsing the database, Oracle ASM, and Oracle Grid Infrastructure alert logs, system message logs, OSWatcher Top, and OSWatcher Slabinfo files.">tfactl analyze</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390" name="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390"></a><h3 id="ATNMS-GUID-ECAB7936-8E48-4141-91F8-634DB19BE390" class="sect3"><span class="enumeration_section">16.4 </span>Analyzing Logs Using the Included Tools
               </h3>
               <div>
                  <p>Oracle Database support tools bundle is available only when you download Oracle Trace File Analyzer from My Oracle Support note 1513912.1.</p>
                  <p>Oracle Trace File Analyzer with Oracle Database support tools bundle includes the following tools:</p>
                  <div class="tblformal" id="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390__GUID-17B5A047-9CF7-4292-877B-012192F67993">
                     <p class="titleintable">Table 16-1 Tools included in Linux and UNIX</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Tools included in Linux and UNIX" summary="This table lists and describes tools included in Linux and UNIX." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d34052e237">Tool</th>
                              <th align="left" valign="bottom" width="20%" id="d34052e239">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e243" headers="d34052e237 ">
                                 <p><code class="codeph">orachk</code> or <code class="codeph">exachk</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e243 d34052e239 ">
                                 <p>Provides health checks for the Oracle stack.</p>
                                 <p>Oracle Trace File Analyzer installs either Oracle EXAchk for engineered systems or Oracle ORAchk for all non-engineered systems.</p>
                                 <p>For more information, see My Oracle Support notes 1070954.1 and 1268927.2.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e258" headers="d34052e237 ">
                                 <p><code class="codeph">oswatcher</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e258 d34052e239 ">
                                 <p>Collects and archives operating system metrics. These metrics are useful for instance or node evictions and performance Issues.</p>
                                 <p>For more information, see My Oracle Support note 301137.1.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e268" headers="d34052e237 ">
                                 <p><code class="codeph">procwatcher</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e268 d34052e239 ">
                                 <p>Automates and captures database performance diagnostics and session level hang information.</p>
                                 <p>For more information, see My Oracle Support note 459694.1.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e278" headers="d34052e237 ">
                                 <p><code class="codeph">oratop</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e278 d34052e239 ">
                                 <p>Provides near real-time database monitoring.</p>
                                 <p>For more information, see My Oracle Support note 1500864.1.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e288" headers="d34052e237 ">
                                 <p><code class="codeph">alertsummary</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e288 d34052e239 ">
                                 <p>Provides summary of events for one or more database or ASM alert files from all nodes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e296" headers="d34052e237 ">
                                 <p><code class="codeph">ls</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e296 d34052e239 ">
                                 <p>Lists all files Oracle Trace File Analyzer knows about for a given file name pattern across all nodes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e304" headers="d34052e237 ">
                                 <p><code class="codeph">pstack</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e304 d34052e239 ">
                                 <p>Generates the process stack for the specified processes across all nodes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e312" headers="d34052e237 ">
                                 <p><code class="codeph">grep</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e312 d34052e239 ">
                                 <p>Searches for a given string in the alert or trace files with a specified database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e320" headers="d34052e237 ">
                                 <p><code class="codeph">summary</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e320 d34052e239 ">
                                 <p>Provides high-level summary of the configuration.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e328" headers="d34052e237 ">
                                 <p><code class="codeph">vi</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e328 d34052e239 ">
                                 <p>Opens alert or trace files for viewing a given database and file name pattern in the <code class="codeph">vi</code> editor.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e339" headers="d34052e237 ">
                                 <p><code class="codeph">tail</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e339 d34052e239 ">
                                 <p>Runs a tail on an alert or trace files for a given database and file name pattern.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e348" headers="d34052e237 ">
                                 <p><code class="codeph">param</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e348 d34052e239 ">
                                 <p>Shows all database and operating system parameters that match a specified pattern.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e356" headers="d34052e237 ">
                                 <p><code class="codeph">dbglevel</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e356 d34052e239 ">
                                 <p>Sets and unsets multiple CRS trace levels with one command.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e364" headers="d34052e237 ">
                                 <p><code class="codeph">history</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e364 d34052e239 ">
                                 <p>Shows the shell history for the <code class="codeph">tfactl</code> shell.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e375" headers="d34052e237 ">
                                 <p><code class="codeph">changes</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e375 d34052e239 ">
                                 <p>Reports changes in the system setup over a given time period. The report includes database parameters, operating system parameters, and the patches applied.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e383" headers="d34052e237 ">
                                 <p><code class="codeph">calog</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e383 d34052e239 ">
                                 <p>Reports major events from the cluster event log.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e391" headers="d34052e237 ">
                                 <p><code class="codeph">events</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e391 d34052e239 ">
                                 <p>Reports warnings and errors seen in the logs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e399" headers="d34052e237 ">
                                 <p><code class="codeph">managelogs</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e399 d34052e239 ">
                                 <p>Shows disk space usage and purges ADR log and trace files.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e407" headers="d34052e237 ">
                                 <p><code class="codeph">ps</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e407 d34052e239 ">
                                 <p>Finds processes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e415" headers="d34052e237 ">
                                 <p><code class="codeph">triage</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e415 d34052e239 ">
                                 <p>Summarizes <code class="codeph">oswatcher</code> or <code class="codeph">exawatcher</code> data.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390__GUID-B4392490-E12D-453E-BEED-636FAE3911A0">
                     <p class="titleintable">Table 16-2 Tools included in Microsoft Windows</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Tools included in Microsoft Windows" summary="This table lists and describes tools included in Microsoft Windows." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d34052e438">Tool</th>
                              <th align="left" valign="bottom" width="20%" id="d34052e440">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e444" headers="d34052e438 ">
                                 <p><code class="codeph">calog</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e444 d34052e440 ">
                                 <p>Reports major events from the cluster event log.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e452" headers="d34052e438 ">
                                 <p><code class="codeph">changes</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e452 d34052e440 ">
                                 <p>Reports changes in the system setup over a given time period. The report includes database parameters, operating system parameters, and patches applied.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e460" headers="d34052e438 ">
                                 <p><code class="codeph">dir</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e460 d34052e440 ">
                                 <p>Lists all files Oracle Trace File Analyzer knows about for a given file name pattern across all nodes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e468" headers="d34052e438 ">
                                 <p><code class="codeph">events</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e468 d34052e440 ">
                                 <p>Reports warnings and errors seen in the logs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e476" headers="d34052e438 ">
                                 <p><code class="codeph">findstr</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e476 d34052e440 ">
                                 <p>Searches for a given string in the alert or trace files with a specified database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e484" headers="d34052e438 ">
                                 <p><code class="codeph">history</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e484 d34052e440 ">
                                 <p>Shows the shell history for the <code class="codeph">tfactl</code> shell.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e495" headers="d34052e438 ">
                                 <p><code class="codeph">managelogs</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e495 d34052e440 ">
                                 <p>Shows disk space usage and purges ADR log and trace files.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e503" headers="d34052e438 ">
                                 <p><code class="codeph">notepad</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e503 d34052e440 ">
                                 <p>Opens alert or trace files for viewing a given database and file name pattern in the <code class="codeph">notepad</code> editor.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e514" headers="d34052e438 ">
                                 <p><code class="codeph">param</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e514 d34052e440 ">
                                 <p>Shows all database and operating system parameters that match a specified pattern.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e522" headers="d34052e438 ">
                                 <p><code class="codeph">summary</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e522 d34052e440 ">
                                 <p>Provides high-level summary of the configuration.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e530" headers="d34052e438 ">
                                 <p><code class="codeph">tasklist</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e530 d34052e440 ">
                                 <p>Finds processes.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>To verify which tools you have installed:</p><pre class="pre codeblock"><code>$ tfactl toolstatus</code></pre><p>You can run each tool using <code class="codeph">tfactl</code> either in command line or shell mode.
                  </p>
                  <p>To run a tool from the command line:</p><pre class="pre codeblock"><code>$ tfactl run <code class="codeph">tool</code></code></pre><p>The following example shows how to use <code class="codeph">tfactl</code> in shell mode. Running the command starts <code class="codeph">tfactl</code>, connects to the database <span class="variable">MyDB</span>, and then runs <code class="codeph">oratop</code>:
                  </p><pre class="pre codeblock"><code>$ tfactl
tfaclt &gt; database MyDB
MyDB tfactl &gt; oratop</code></pre></div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1513912.1">https://support.oracle.com/rs?type=doc&amp;amp;id=1513912.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1070954.1">https://support.oracle.com/rs?type=doc&amp;amp;id=1070954.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1268927.2">https://support.oracle.com/rs?type=doc&amp;amp;id=1268927.2</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=301137.1">https://support.oracle.com/rs?type=doc&amp;amp;id=301137.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=459694.1">https://support.oracle.com/rs?type=doc&amp;amp;id=459694.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1500864.1">https://support.oracle.com/rs?type=doc&amp;amp;id=1500864.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=215187.1">https://support.oracle.com/rs?type=doc&amp;amp;id=215187.1</a></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125" name="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125"></a><h3 id="ATNMS-GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125" class="sect3"><span class="enumeration_section">16.5 </span>Collecting Diagnostic Data and Using One Command Service Request Data Collections
               </h3>
               <div>
                  <p></p>
                  <p>To perform an on-demand diagnostic collection:</p><pre class="pre codeblock"><code>$ tfactl diagcollect</code></pre><p>Running the command trims and collects all important log files updated in the past 12 hours across the whole cluster. Oracle Trace File Analyzer stores collections in the repository directory. You can change the <code class="codeph">diagcollect</code> timeframe with the <code class="codeph">&#x2013;last <span class="variable">n</span> h|d</code> option.
                  </p>
                  <p>Oracle Support often asks you to run a Service Request Data Collection (SRDC). The SRDC depends on the type of problem you experienced. It is a series of many data gathering instructions aimed at diagnosing your problem. Collecting the SRDC manually can be difficult, with many different steps required.</p>
                  <p>Oracle Trace File Analyzer can run SRDC collections with a single command:</p><pre class="pre codeblock"><code>$ tfactl diagcollect -srdc <span class="variable">srdc_type</span> &#x2013;sr <span class="variable">sr_number</span></code></pre><p>To run SRDCs, use one of the Oracle privileged user accounts:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">ORACLE_HOME</code> owner
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">GRID_HOME</code> owner
                        </p>
                     </li>
                  </ul>
                  <div class="tblformal" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-47A50EC2-C409-490D-9EB4-8F73526093B2">
                     <p class="titleintable">Table 16-3 One Command Service Request Data Collections</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="One Command Service Request Data Collections" summary="This table lists and describes one command Service Request Data Collections (SRDC)." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d34052e662">Type of Problem</th>
                              <th colspan="2" align="left" valign="bottom" id="d34052e664">Available SRDCs</th>
                              <th align="left" valign="bottom" width="20%" id="d34052e666">Collection Scope</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e670" headers="d34052e662 ">
                                 <p>ORA Errors</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e670 d34052e664 ">
                                 <p><code class="codeph">ORA-00020</code></p>
                                 <p><code class="codeph">ORA-00060</code></p>
                                 <p><code class="codeph">ORA-00600</code></p>
                                 <p><code class="codeph">ORA-00700</code></p>
                                 <p><code class="codeph">ORA-01555</code></p>
                                 <p><code class="codeph">ORA-01628</code></p>
                                 <p><code class="codeph">ORA-04030</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e670 d34052e664 ">
                                 <p><code class="codeph">ORA-04031</code></p>
                                 <p><code class="codeph">ORA-07445</code></p>
                                 <p><code class="codeph">ORA-27300</code></p>
                                 <p><code class="codeph">ORA-27301</code></p>
                                 <p><code class="codeph">ORA-27302</code></p>
                                 <p><code class="codeph">ORA-30036</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e670 d34052e666 ">
                                 <p>Local-only</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e718" headers="d34052e662 ">
                                 <p>Other internal database errors</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e718 d34052e664 ">
                                 <p><code class="codeph">internalerror</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e718 d34052e666 ">
                                 <p>Local-only</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e729" headers="d34052e662 ">
                                 <p>Database performance problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e729 d34052e664 ">
                                 <p><code class="codeph">dbperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e729 d34052e666 ">
                                 <p>Cluster-wide</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e740" headers="d34052e662 ">
                                 <p>Database patching problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e740 d34052e664 ">
                                 <p><code class="codeph">dbpatchinstall</code></p>
                                 <p><code class="codeph">dbpatchconflict</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e740 d34052e666 ">
                                 <p>Local-only</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e754" headers="d34052e662 ">
                                 <p>Database install / upgrade problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e754 d34052e664 ">
                                 <p><code class="codeph">dbinstall</code></p>
                                 <p><code class="codeph">dbupgrade</code></p>
                                 <p><code class="codeph">dbpreupgrade</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e754 d34052e666 ">
                                 <p>Local-only</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e771" headers="d34052e662 ">
                                 <p>Database storage problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e771 d34052e664 ">
                                 <p><code class="codeph">asm</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e771 d34052e666 ">
                                 <p>Local-only</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e782" headers="d34052e662 ">
                                 <p>Excessive SYSAUX space is used by the Automatic Workload Repository (AWR)</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e782 d34052e664 ">
                                 <p><code class="codeph">dbawrspace</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e782 d34052e666 ">
                                 <p>Local-only</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e793" headers="d34052e662 ">
                                 <p>Database startup / shutdown problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e793 d34052e664 ">
                                 <p><code class="codeph">dbshutdown</code></p>
                                 <p><code class="codeph">dbstartup</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e793 d34052e666 ">&nbsp;</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e805" headers="d34052e662 ">
                                 <p>Enterprise Manager tablespace usage metric problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e805 d34052e664 ">
                                 <p><code class="codeph">emtbsmetrics</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e805 d34052e666 ">
                                 <p>Local-only (on Enterprise Manager Agent target)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e816" headers="d34052e662 ">
                                 <p>Enterprise Manager general metrics page or threshold problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e816 d34052e664 ">
                                 <p><code class="codeph">emmetricalert</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e816 d34052e666 ">
                                 <p>Local-only (on Enterprise Manager Agent target and repository database)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e827" headers="d34052e662 ">
                                 <p>Enterprise Manager debug log collection</p>
                                 <p>Run <code class="codeph">emdebugon</code>, reproduce the problem then run <code class="codeph">emdebugoff</code>, which disables debug again and collects debug logs
                                 </p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e827 d34052e664 ">
                                 <p><code class="codeph">emdebugon</code></p>
                                 <p><code class="codeph">emdebugoff</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e827 d34052e666 ">
                                 <p>Local-only (on Enterprise Manager Agent target and Oracle Management Service)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d34052e850" headers="d34052e662 ">
                                 <p>Data Guard problems</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d34052e850 d34052e664 ">
                                 <p><code class="codeph">dbdataguard</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d34052e850 d34052e666 ">
                                 <p>Local-only</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>What the SRDCs collect varies for each type, for example:</p>
                  <div class="tblformal" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-ABE85FAA-49C8-4FCB-941C-488269D8AF4B">
                     <p class="titleintable">Table 16-4 SRDC collections</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SRDC collections" summary="This table lists and describes what the SRDCs collect varies for each type" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d34052e872">Command</th>
                              <th align="left" valign="bottom" id="d34052e874">What gets collected</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d34052e878" headers="d34052e872 ">
                                 <p><code class="codeph">$ tfactl diagcollect &#x2013;srdc ORA-04031</code></p>
                              </td>
                              <td align="left" valign="top" headers="d34052e878 d34052e874 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>IPS package</p>
                                    </li>
                                    <li>
                                       <p>Patch listing</p>
                                    </li>
                                    <li>
                                       <p>AWR report</p>
                                    </li>
                                    <li>
                                       <p>Memory information</p>
                                    </li>
                                    <li>
                                       <p>RDA HCVE output</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d34052e900" headers="d34052e872 ">
                                 <p><code class="codeph">$ tfactl diagcollect &#x2013;srdc dbperf</code></p>
                              </td>
                              <td align="left" valign="top" headers="d34052e900 d34052e874 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>ADDM report</p>
                                    </li>
                                    <li>
                                       <p>AWR for good period and problem period</p>
                                    </li>
                                    <li>
                                       <p>AWR Compare Period report</p>
                                    </li>
                                    <li>
                                       <p>ASH report for good and problem period</p>
                                    </li>
                                    <li>
                                       <p>OSWatcher</p>
                                    </li>
                                    <li>
                                       <p>IPS package (if there are any errors during problem period)</p>
                                    </li>
                                    <li>
                                       <p>Oracle ORAchk (performance-related checks)</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>Oracle Trace File Analyzer prompts you to enter the information required based on the SRDC type.</p>
                  <p>For example, when you run <code class="codeph">ORA-4031</code> SRDC:
                  </p><pre class="pre codeblock"><code>$ tfactl diagcollect &#x2013;srdc ORA-04031</code></pre><p>Oracle Trace File Analyzer prompts to enter event date/time and database name.</p>
                  <ol>
                     <li>
                        <p>Oracle Trace File Analyzer scans the system to identify recent events in the system (up to 10).</p>
                     </li>
                     <li>
                        <p>Once the relevant event is chosen, Oracle Trace File Analyzer then proceeds with diagnostic collection.</p>
                     </li>
                     <li>
                        <p>Oracle Trace File Analyzer identifies all the required files.</p>
                     </li>
                     <li>
                        <p>Oracle Trace File Analyzer trims all the files where applicable.</p>
                     </li>
                     <li>
                        <p>Oracle Trace File Analyzer packages all data in a zip file ready to provide to support.</p>
                     </li>
                  </ol>
                  <p>You can also run an SRDC collection in non-interactive silent mode. Provide all the required parameters up front as follows:</p><pre class="pre codeblock"><code>$ tfactl diagcollect &#x2013;srdc <span class="variable">srdc_type</span> -database <span class="variable">db</span> -from "<span class="variable">date</span> <span class="variable">time</span>" -to "<span class="variable">date</span> <span class="variable">time</span>"</code></pre><div class="example" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-4B648137-5450-4A97-8538-ED590347C7FE">
                     <p class="titleinexample">Example 16-2 Diagnostic Collection</p><pre class="pre codeblock"><code>$ tfactl diagcollect

Collecting data for the last 12 hours for all components...
Collecting data for all nodes

Collection Id : 20160616115923myserver69

Detailed Logging at : 
/u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all/diagcollect_20160616115923_myserver69.log
2016/06/16 11:59:27 PDT : Collection Name : 
tfa_Thu_Jun_16_11_59_23_PDT_2016.zip
2016/06/16 11:59:28 PDT : Collecting diagnostics from hosts : 
[myserver70, myserver71, myserver69]
2016/06/16 11:59:28 PDT : Scanning of files for Collection in progress...
2016/06/16 11:59:28 PDT : Collecting additional diagnostic information...
2016/06/16 11:59:33 PDT : Getting list of files satisfying time range
[06/15/2016 23:59:27 PDT, 06/16/2016 11:59:33 PDT]
2016/06/16 11:59:37 PDT : Collecting ADR incident files...
2016/06/16 12:00:32 PDT : Completed collection of additional diagnostic information...
2016/06/16 12:00:39 PDT : Completed Local Collection
2016/06/16 12:00:40 PDT : Remote Collection in Progress...
.--------------------------------------.
|          Collection Summary          |
+------------+-----------+------+------+
| Host       | Status    | Size | Time |
+------------+-----------+------+------+
| myserver71 | Completed | 15MB |  64s |
| myserver70 | Completed | 14MB |  67s |
| myserver69 | Completed | 14MB |  71s |
'------------+-----------+------+------'

Logs are being collected to: 
/u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all
/u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all/myserver71.tfa_Thu_Jun_16_11_59_23_PDT_2016.zip
/u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all/myserver69.tfa_Thu_Jun_16_11_59_23_PDT_2016.zip
/u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all/myserver70.tfa_Thu_Jun_16_11_59_23_PDT_2016.zip</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-EAD9C1C8-7D03-4B9E-907D-D727538261A4">
                     <p class="titleinexample">Example 16-3 One command SRDC</p><pre class="pre codeblock"><code>$ tfactl diagcollect &#x2013;srdc ora600
Enter value for EVENT_TIME [YYYY-MM-DD HH24:MI:SS,&lt;RETURN&gt;=ALL] :
Enter value for DATABASE_NAME [&lt;RETURN&gt;=ALL] :

1. Jun/09/2016 09:56:47 : [rdb11204] ORA-00600: internal error code,
arguments: [], [], [], [], [], [], [], [], [], [], [], [] 2. May/19/2016 14:19:30 : [rdb11204] ORA-00600: internal error code,
arguments: [], [], [], [], [], [], [], [], [], [], [], [] 3. May/13/2016 10:14:30 : [rdb11204] ORA-00600: internal error code,
arguments: [], [], [], [], [], [], [], [], [], [], [], [] 4. May/13/2016 10:14:09 : [rdb11204] ORA-00600: internal error code,
arguments: [], [], [], [], [], [], [], [], [], [], [], []

Please choose the event : 1-4 [1] 1
Selected value is : 1 ( Jun/09/2016 09:56:47 ) Collecting data for local node(s) Scanning files 
from Jun/09/2016 03:56:47 to Jun/09/2016 15:56:47

Collection Id : 20160616115820myserver69

Detailed Logging at : 
/u01/app/tfa/repository/srdc_ora600_collection_Thu_Jun_16_11_58_20_PDT_2016_node_local/diagcollect_20160616115820_myserver69.log
2016/06/16 11:58:23 PDT : Collection Name : 
tfa_srdc_ora600_Thu_Jun_16_11_58_20_PDT_2016.zip
2016/06/16 11:58:23 PDT : Scanning of files for Collection in progress...
2016/06/16 11:58:23 PDT : Collecting additional diagnostic information...
2016/06/16 11:58:28 PDT : Getting list of files satisfying time range
[06/09/2016 03:56:47 PDT, 06/09/2016 15:56:47 PDT]
2016/06/16 11:58:30 PDT : Collecting ADR incident files...
2016/06/16 11:59:02 PDT : Completed collection of additional diagnostic information...
2016/06/16 11:59:06 PDT : Completed Local Collection 
.---------------------------------------.
|           Collection Summary          |
+------------+-----------+-------+------+
| Host       | Status    | Size  | Time |
+------------+-----------+-------+------+
| myserver69 | Completed | 7.9MB |  43s |
'------------+-----------+-------+------'</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB" name="GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB"></a><h3 id="ATNMS-GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB" class="sect3"><span class="enumeration_section">16.6 </span>Uploading Collections to Oracle Support
               </h3>
               <div>
                  <p>To enable collection uploads, configure Oracle Trace File Analyzer with your My Oracle Support user name and password.</p>
                  <div class="section">For example:<pre class="pre codeblock"><code>tfactl setupmos</code></pre><p>Oracle Trace File Analyzer stores your login details securely within an encrypted wallet. You can store only a single user login details.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Run a diagnostic collection using the <code class="codeph">&#x2013;sr sr_number</code> option.</span><div><pre class="pre codeblock"><code>tfactl diagcollect <span class="variable">diagcollect options</span> -sr <span class="variable">sr_number</span></code></pre></div>
                        <div>At the end of collection, Oracle Trace File Analyzer automatically uploads all collections to your Service Request.</div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>Oracle Trace File Analyzer can also upload any other file to your Service Request.</p>
                     <p>You can upload using the wallet, which was setup previously by <code class="codeph">root</code> using <code class="codeph">tfactl setupmos</code>.
                     </p><pre class="pre codeblock"><code>tfactl upload -sr <span class="variable">sr_number</span> -wallet <span class="variable">space-separated list of files to upload</span></code></pre><p>You can also upload without the wallet. When uploading without the wallet <code class="codeph">tfactl</code> prompts for the password.
                     </p><pre class="pre codeblock"><code>tfactl upload -sr <span class="variable">sr_number</span> -user <span class="variable">user_id</span> <span class="variable">space-separated list of files to upload</span></code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>