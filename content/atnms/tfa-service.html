<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Trace File Analyzer Service is deployed as part of Domain Service Cluster (DSC) setup.">
      <meta name="description" content="Oracle Trace File Analyzer Service is deployed as part of Domain Service Cluster (DSC) setup.">
      <title>Oracle Trace File Analyzer Service</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="Oracle Trace File Analyzer Service is deployed as part of Domain Service Cluster (DSC) setup.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.1.1">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-04T16:09:07-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83825-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      <meta name="dcterms.release" content="Release 18">
      <link rel="prev" href="managing-and-configuring-tfa.html" title="Previous" type="text/html">
      <link rel="next" href="managing-db-and-gi-diagnostic-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-and-configuring-tfa.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-db-and-gi-diagnostic-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="diagnose-troubleshoot-issues-errors.html" property="item" typeof="WebPage"><span property="name">Collecting Diagnostic Data and Triaging, Diagnosing, and Resolving Issues</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Trace File Analyzer Service</li>
            </ol>
            <a id="GUID-D38DF65D-1070-4956-94CA-FF58061E144E" name="GUID-D38DF65D-1070-4956-94CA-FF58061E144E"></a>
            
            <h2 id="ATNMS-GUID-D38DF65D-1070-4956-94CA-FF58061E144E" class="sect2"><span class="enumeration_chapter">20 </span>Oracle Trace File Analyzer Service
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Trace File Analyzer Service is deployed as part of Domain Service Cluster (DSC) setup.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="tfa-service.html#GUID-AE4736B0-8A29-43AC-AB6F-A67E88553FCA">Overview of Oracle Trace File Analyzer Service</a><br>Oracle Trace File Analyzer service helps DBAs and system administrators proactively monitor trace files across multiple member clusters on a centralized machine.
                  </li>
                  <li class="ulchildlink"><a href="tfa-service.html#GUID-C470800D-B690-45F2-8C38-8EC60B6BB828">Cluster or Host View</a><br>The cluster or host view shows all clusters in a table heatmap, which you can drill-down to the host level.
                  </li>
                  <li class="ulchildlink"><a href="tfa-service.html#GUID-D3CB0AB6-D20E-4D40-8487-B63B351A3658">Detailed View</a><br>Detailed view displays a dashboard with top events represented in a timeline.
                  </li>
                  <li class="ulchildlink"><a href="tfa-service.html#GUID-468F8FF7-A45C-4444-B1A5-8A0E5E922511">File Browser</a><br>Oracle Trace File Analyzer Service classifies each trace file and provides an interface to browse files by various classifications.
                  </li>
                  <li class="ulchildlink"><a href="tfa-service.html#GUID-072135A0-AA68-4647-8259-0F7CEEEEAB05">File Viewer</a><br>File viewer opens each file in a new tab.
                  </li>
                  <li class="ulchildlink"><a href="tfa-service.html#GUID-34B89633-95B8-4D85-822F-2A191BE6A6B3">Merged Files</a><br>To find what’s happening in different components at the same time, look at multiple trace files.
                  </li>
                  <li class="ulchildlink"><a href="tfa-service.html#GUID-78BCAE9C-7557-4059-8F22-DFE25A038677">Importing CA Certificates into Tomcat</a><br>Oracle Trace File Analyzer service starts an Apache Tomcat instance to serve web requests.
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-AE4736B0-8A29-43AC-AB6F-A67E88553FCA" name="GUID-AE4736B0-8A29-43AC-AB6F-A67E88553FCA"></a><h3 id="ATNMS-GUID-AE4736B0-8A29-43AC-AB6F-A67E88553FCA" class="sect3"><span class="enumeration_section">20.1 </span>Overview of Oracle Trace File Analyzer Service
               </h3>
               <div>
                  <p>Oracle Trace File Analyzer service helps DBAs and system administrators proactively monitor trace files across multiple member clusters on a centralized machine.</p>
                  <p>Oracle Trace File Analyzer helps the DBAs and system administrators to analyze the data for issues, identify duplicate issues, and predict future failures.</p>
                  <p>Oracle Trace File Analyzer Service is set up as part of Domain Service Cluster (DSC) setup. You need not run any commands to configure or set up Oracle Trace File Analyzer Service. The service runs on the first node of a cluster.</p>
                  <div class="p">To print details about Oracle Trace File Analyzer Service running in Domain Service Cluster (DSC), run the following command as Oracle Grid Infrastructure user or as <code class="codeph">root</code>:<pre class="pre codeblock"><code>$ tfactl receiver info
TFA Service URL			:  http://rws1270066:7070/tfa/index.html
TFA Service URL (https)		:  https://rws1270066:7071/tfa/index.html
TFA Service Admin User		:  admin
TFA Service Admin Status	:  active
TFA Service Repository		:  /scratch/app/oragrid/tfa/repository
TFA Service Port		:  7001
TFA Service Members		:</code></pre></div>
                  <p>After the initial setup, web administrator account is locked.</p>
                  <div class="p">To unlock, run the following command as Oracle Grid Infrastructure user or as <code class="codeph">root</code>:<pre class="pre codeblock"><code>$ tfactl receiver reset webadmin</code></pre></div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-C470800D-B690-45F2-8C38-8EC60B6BB828" name="GUID-C470800D-B690-45F2-8C38-8EC60B6BB828"></a><h3 id="ATNMS-GUID-C470800D-B690-45F2-8C38-8EC60B6BB828" class="sect3"><span class="enumeration_section">20.2 </span>Cluster or Host View
               </h3>
               <div>
                  <p>The cluster or host view shows all clusters in a table heatmap, which you can drill-down to the host level.</p>
                  <p>Clicking on a cluster shows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Configuration of that cluster</p>
                     </li>
                     <li>
                        <p>Status</p>
                     </li>
                     <li>
                        <p><code class="codeph">ORACLE_HOME</code>s
                        </p>
                     </li>
                     <li>
                        <p>Version</p>
                     </li>
                     <li>
                        <p>Patch level for each home</p>
                     </li>
                     <li>
                        <p>Databases running from home and their statuses</p>
                     </li>
                  </ul>
                  <p>The y-axis represents cluster or host name and the x-axis represents the health of important components in the cluster.</p>
                  <p>Metrics view shows the CPU, Memory, Disk usage, and Critical Events from each host on x-axis.</p>
                  <p>By clicking on a cell, you can drill-down details for the selected host or component.</p>
                  <div class="p">
                     <div class="figure" id="GUID-C470800D-B690-45F2-8C38-8EC60B6BB828__GUID-ABDCD070-3F6C-4690-990D-8BAF05738FD5"><img src="img/atnms-tfa-18c-cluster-summary-report.png" alt="Description of atnms-tfa-18c-cluster-summary-report.eps follows" title="Description of atnms-tfa-18c-cluster-summary-report.eps follows" longdesc="img_text/atnms-tfa-18c-cluster-summary-report.html"><br><a href="img_text/atnms-tfa-18c-cluster-summary-report.html">Description of the illustration atnms-tfa-18c-cluster-summary-report.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <p>Clicking on Utilization shows system utilization broken down by:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>CPU system usage</p>
                     </li>
                     <li>
                        <p>CPU user usage</p>
                     </li>
                     <li>
                        <p>Memory usage</p>
                     </li>
                     <li>
                        <p>Disk usage</p>
                     </li>
                  </ul>
                  <p>Hovering on a section of the heatmap shows more information.</p>
                  <div class="p">
                     <div class="figure" id="GUID-C470800D-B690-45F2-8C38-8EC60B6BB828__GUID-5395DDBE-6CB7-458F-A141-D00D9B583C01"><img src="img/atnms-tfa-18c-cluster-health-heat-map.png" alt="Description of atnms-tfa-18c-cluster-health-heat-map.eps follows" title="Description of atnms-tfa-18c-cluster-health-heat-map.eps follows" longdesc="img_text/atnms-tfa-18c-cluster-health-heat-map.html"><br><a href="img_text/atnms-tfa-18c-cluster-health-heat-map.html">Description of the illustration atnms-tfa-18c-cluster-health-heat-map.eps</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D3CB0AB6-D20E-4D40-8487-B63B351A3658" name="GUID-D3CB0AB6-D20E-4D40-8487-B63B351A3658"></a><h3 id="ATNMS-GUID-D3CB0AB6-D20E-4D40-8487-B63B351A3658" class="sect3"><span class="enumeration_section">20.3 </span>Detailed View
               </h3>
               <div>
                  <p>Detailed view displays a dashboard with top events represented in a timeline.</p>
                  <p>Click any event to view a short analysis including:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Files where event is seen</p>
                     </li>
                     <li>
                        <p>Events around the time</p>
                     </li>
                     <li>
                        <p>CPU and memory usage around the time</p>
                     </li>
                  </ul>
                  <p>Click a file to open:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Browse files by file type, folder, collection</p>
                     </li>
                     <li>
                        <p>View files</p>
                     </li>
                     <li>
                        <p>Merge multiple files</p>
                     </li>
                  </ul>
                  <div class="p">
                     <div class="figure" id="GUID-D3CB0AB6-D20E-4D40-8487-B63B351A3658__GUID-D018343B-4523-4220-8184-58D0CFFAF13B"><img src="img/atnms-tfa-18c-detailed-view.png" alt="Description of atnms-tfa-18c-detailed-view.eps follows" title="Description of atnms-tfa-18c-detailed-view.eps follows" longdesc="img_text/atnms-tfa-18c-detailed-view.html"><br><a href="img_text/atnms-tfa-18c-detailed-view.html">Description of the illustration atnms-tfa-18c-detailed-view.eps</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-468F8FF7-A45C-4444-B1A5-8A0E5E922511" name="GUID-468F8FF7-A45C-4444-B1A5-8A0E5E922511"></a><h3 id="ATNMS-GUID-468F8FF7-A45C-4444-B1A5-8A0E5E922511" class="sect3"><span class="enumeration_section">20.4 </span>File Browser
               </h3>
               <div>
                  <p>Oracle Trace File Analyzer Service classifies each trace file and provides an interface to browse files by various classifications.</p>
                  <p>Classifications make it easy to find important files across thousands of trace files generated by various components.</p>
                  <p>The interface shows a tree navigation menu on left to browse files by type, host name, actual directory, or by Oracle Trace File Analyzer collections. You can also filter the file list by cluster, node, or Oracle Trace File Analyzer collection. There is a <code class="codeph">search</code> option to find file names by keyword search.
                  </p>
                  <p>Use the tree on the left to click browse files by file type, folder, and collection.</p>
                  <p>Click a file to open it or merge multiple files to view combined events across multiple files.</p>
                  <div class="p">
                     <div class="figure" id="GUID-468F8FF7-A45C-4444-B1A5-8A0E5E922511__GUID-8DD8075F-FCEF-4E1B-9EF4-2D4D96D8A4C0"><img src="img/atnms-tfa-18c-file-browser.png" alt="Description of atnms-tfa-18c-file-browser.eps follows" title="Description of atnms-tfa-18c-file-browser.eps follows" longdesc="img_text/atnms-tfa-18c-file-browser.html"><br><a href="img_text/atnms-tfa-18c-file-browser.html">Description of the illustration atnms-tfa-18c-file-browser.eps</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-072135A0-AA68-4647-8259-0F7CEEEEAB05" name="GUID-072135A0-AA68-4647-8259-0F7CEEEEAB05"></a><h3 id="ATNMS-GUID-072135A0-AA68-4647-8259-0F7CEEEEAB05" class="sect3"><span class="enumeration_section">20.5 </span>File Viewer
               </h3>
               <div>
                  <p>File viewer opens each file in a new tab.</p>
                  <p>You can move back and forth during the analysis of a problem without losing the context.</p>
                  <p>Within a file, file viewer highlights important lines to identify the critical lines instantly. You can also search within a file and jump to a specific section.</p>
                  <div class="p">
                     <div class="figure" id="GUID-072135A0-AA68-4647-8259-0F7CEEEEAB05__GUID-84DB74C1-FC87-46D6-A1BB-BEE2B26CF03C"><img src="img/atnms-tfa-18c-file-viewer.png" alt="Description of atnms-tfa-18c-file-viewer.eps follows" title="Description of atnms-tfa-18c-file-viewer.eps follows" longdesc="img_text/atnms-tfa-18c-file-viewer.html"><br><a href="img_text/atnms-tfa-18c-file-viewer.html">Description of the illustration atnms-tfa-18c-file-viewer.eps</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-34B89633-95B8-4D85-822F-2A191BE6A6B3" name="GUID-34B89633-95B8-4D85-822F-2A191BE6A6B3"></a><h3 id="ATNMS-GUID-34B89633-95B8-4D85-822F-2A191BE6A6B3" class="sect3"><span class="enumeration_section">20.6 </span>Merged Files
               </h3>
               <div>
                  <p>To find what’s happening in different components at the same time, look at multiple trace files.</p>
                  <p>The merge feature combines multiple timeline trace files by time and provides a single view.</p>
                  <p>This sample output shows a database alert log combined with system messages file.</p>
                  <div class="p">
                     <div class="figure" id="GUID-34B89633-95B8-4D85-822F-2A191BE6A6B3__GUID-B6998C33-6E78-4B55-88B6-9AD894973EFD"><img src="img/atnms-tfa-18c-merged-files.png" alt="Description of atnms-tfa-18c-merged-files.eps follows" title="Description of atnms-tfa-18c-merged-files.eps follows" longdesc="img_text/atnms-tfa-18c-merged-files.html"><br><a href="img_text/atnms-tfa-18c-merged-files.html">Description of the illustration atnms-tfa-18c-merged-files.eps</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-78BCAE9C-7557-4059-8F22-DFE25A038677" name="GUID-78BCAE9C-7557-4059-8F22-DFE25A038677"></a><h3 id="ATNMS-GUID-78BCAE9C-7557-4059-8F22-DFE25A038677" class="sect3"><span class="enumeration_section">20.7 </span>Importing CA Certificates into Tomcat
               </h3>
               <div>
                  <p>Oracle Trace File Analyzer service starts an Apache Tomcat instance to serve web requests.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Tomcat is set up at <code>$TFA_HOME/tomcat</code>.
                           </p>
                        </li>
                        <li>
                           <p>Tomcat configuration file: <code>$TFA_HOME/tomcat/conf/server.xml</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="p">
                        <div class="infoboxnote" id="GUID-78BCAE9C-7557-4059-8F22-DFE25A038677__GUID-ABD80A5B-1231-4524-8A75-C239EE4C048C">
                           <p class="notep1">Note:</p>
                           <p>For detailed instructions to set up SSL, refer to the official Tomcat documentation:</p>
                           <p><a href="https://tomcat.apache.org/tomcat-8.0-doc/ssl-howto.html">SSL/TLS Configuration HOW-TO</a></p>
                        </div>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">To import CA Certificates into Tomcat:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Stop the web server.</span><div><pre class="pre codeblock"><code>$CRS_HOME/bin/tfactl receiver stop</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Create a keystore and import the custom or CA certificate.</span><div>For more details, refer to the official tomcat documentation.</div>
                     </li>
                     <li class="stepexpand"><span>Edit Tomcat configuration.</span><div>
                           <p>Look for SSL/TLS configuration section as shown. Update the keystore/certificate information.</p><pre class="pre codeblock"><code>&lt;!-- Define a SSL/TLS HTTP/1.1 Connector on port 8443
 This connector uses the NIO implementation that requires the JSSE
 style configuration. When using the APR/native implementation, the
 OpenSSL style configuration is required as described in the APR/native
 documentation --&gt;
 &lt;Connector port="7071" protocol="org.apache.coyote.http11.Http11NioProtocol"
 maxThreads="150" SSLEnabled="true" scheme="https" secure="true"
 keystoreFile="&lt;existing file&gt;" keystorePass="&lt;existing keystorePass&gt;"
 clientAuth="false" sslProtocol="TLS" /&gt;
</code></pre><p>Please refer to tomcat documentation for different configuration options.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Start the web server.</span><div><pre class="pre codeblock"><code>$CRS_HOME/bin/tfactl receiver start</code></pre></div>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>