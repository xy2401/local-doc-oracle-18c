<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle ACFS advanced topics include discussions about more complex administrative issues.">
      <meta name="description" content="Oracle ACFS advanced topics include discussions about more complex administrative issues.">
      <title>Understanding Oracle ACFS Advanced Topics</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="Oracle ACFS advanced topics include discussions about more complex administrative issues.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-07-24T13:52:32-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83779-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="part-advanced-topics.html" title="Previous" type="text/html">
      <link rel="next" href="configure-acfs-replication.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-advanced-topics.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configure-acfs-replication.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-advanced-topics.html" property="item" typeof="WebPage"><span property="name">Advanced Topics</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Understanding Oracle ACFS Advanced Topics</li>
            </ol>
            <a id="GUID-807B70D5-9F88-46FF-BA27-6CB53D0CEE72" name="GUID-807B70D5-9F88-46FF-BA27-6CB53D0CEE72"></a><a id="OSTMG35000"></a>
            
            <h2 id="OSTMG-GUID-807B70D5-9F88-46FF-BA27-6CB53D0CEE72" class="sect2"><span class="enumeration_chapter">17 </span>Understanding Oracle ACFS Advanced Topics
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle ACFS advanced topics include discussions about more complex administrative issues.</p>
               <p>This appendix discusses Oracle Automatic Storage Management Cluster File System (Oracle ACFS) advanced topics, including limits, advanced administration, and troubleshooting.</p>
               <div class="infoboxnotealso" id="GUID-807B70D5-9F88-46FF-BA27-6CB53D0CEE72__GUID-D67AD09F-01F6-4269-8455-386E6108380C">
                  <p class="notep1">See Also:</p>
                  <p>Articles available at My Oracle Support (<a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a>) for information about Oracle ACFS and Oracle ADVM.
                  </p>
               </div>
               <p>This appendix contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-DB17A062-E32E-40CE-A8B1-46A4D278E1C9">Limits of Oracle ACFS</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-8D71BD92-78F9-40DF-8418-A000E201218B">Limits of Oracle ADVM</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-9394890B-0CBF-4606-AC94-830FACF2D254">Oracle ACFS Loopback Support</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-86621B17-67AC-4126-AC78-648F1320DDFF">Oracle ACFS Drivers Resource Management</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-2D4BE980-BA63-45BD-8520-F650885A0D0B">Oracle ACFS Registry Resource Management</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-8C673DFA-5567-410D-9314-E866E2670EBA">Oracle ACFS File System Resource Management</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54">Oracle ACFS and Oracle Restart</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-7BA2C715-2575-43C7-B38D-A0D2FF6D4E45">Oracle ACFS Driver Commands</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-67360198-D34F-4FBE-98A0-FAB1458FAABB">Oracle ACFS Plug-in Generic Application Programming Interface</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-95892F53-3082-4567-8C3A-4F66402F278D">Oracle ACFS Tagging Generic Application Programming Interface</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-8D315D41-69C7-426C-A80A-975849E48AE2" title="This topic provides a summary of the Oracle ACFS command-line utilities for diagnostic purposes.">Oracle ACFS Diagnostic Commands</a></p>
                  </li>
                  <li>
                     <p><a href="acfs-advanced-topics.html#GUID-0FF80BDD-F735-4448-B1D5-A40A6E283F32">Understanding Oracle ACFS I/O Failure Console Messages</a></p>
                  </li>
               </ul>
               <p>For an overview of Oracle ACFS, see <a href="intro-acfs-advm.html#GUID-7783FE8B-3BAD-4C4F-83C5-DF1426340290" title="Oracle ASM Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM) provide key components of storage management.">Introducing Oracle ACFS and Oracle ADVM</a>.
               </p>
            </div><a id="OSTMG35100"></a><div class="props_rev_3"><a id="GUID-DB17A062-E32E-40CE-A8B1-46A4D278E1C9" name="GUID-DB17A062-E32E-40CE-A8B1-46A4D278E1C9"></a><h3 id="OSTMG-GUID-DB17A062-E32E-40CE-A8B1-46A4D278E1C9" class="sect3">Limits of Oracle ACFS</h3>
               <div>
                  <p><a id="d195489e360" class="indexterm-anchor"></a><a id="d195489e364" class="indexterm-anchor"></a>The limits of Oracle ACFS are discussed in this section. 
                  </p>
                  <p>The topics contained in this section are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5">Oracle ACFS Disk Space Usage</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-F136A597-3842-4554-80FE-A68E9B14143F">Oracle ACFS Error Handling</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-94EFDE44-3A1F-4E27-8BBD-DE8E0C3E420D">Oracle ACFS and NFS</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DB17A062-E32E-40CE-A8B1-46A4D278E1C9__GUID-D891981A-BB72-47B2-97D4-960E99C4AA35">
                     <p class="notep1">Note:</p>
                     <p>Oracle ACFS does not support hard links on directories.</p>
                  </div>
               </div><a id="OSTMG95284"></a><div class="props_rev_3"><a id="GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5" name="GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5"></a><h4 id="OSTMG-GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5" class="sect4">Oracle ACFS Disk Space Usage</h4>
                  <div>
                     <p>Oracle ACFS supports 64 mounted file systems on 32-bit systems, and 256 mounts on 64-bit systems. However, more file systems can be mounted if there is adequate memory.</p>
                     <p>Oracle ACFS supports 2^40 (1 trillion) files in a file system. More than 4 billion files have been tested. There is no absolute limit to the number of directories in a file system; the limit is based on hardware resources.</p>
                     <p>Oracle ACFS preallocates large user files to improve performance when writing data. This storage is not returned when the file is closed, but it is returned when the file is deleted. Oracle ACFS also allocates local metadata files as nodes mount the file system for the first time. This can result in a mount failing due to an out of space error, and much of this storage must be contiguous. This storage is approximately 64-128 megabytes per node.</p>
                     <p>Oracle ACFS also keeps local bitmaps available to reduce contention on the global storage bitmap when searching for free space. This disk space is reported as <code class="codeph">in</code> <code class="codeph">use</code> by tools such as the Linux <code class="codeph">df</code> command even though some space may not actually be allocated yet. This local storage pool can be as large as 128 megabytes per node and can allow space allocations to succeed, even though commands, such as <code class="codeph">df</code>, report less space available than what is being allocated.
                     </p>
                     <p>The maximum sizes that can be allocated to an Oracle ACFS file system are shown in <a href="acfs-advanced-topics.html#GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5__MAXIMUMFILESIZESFORORACLEADVMVOLUME-D3C13F93" title="Max Oracle ADVM File Sizes">Table 17-1</a>. The storage limits for Oracle ACFS and Oracle ASM are dependent on disk group compatibility attributes. 
                     </p>
                     <div class="tblformal" id="GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5__MAXIMUMFILESIZESFORORACLEADVMVOLUME-D3C13F93">
                        <p class="titleintable">Table 17-1 Maximum file sizes for Oracle ACFS file systems/Oracle ADVM volumes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Maximum file sizes for Oracle ACFS file systems/Oracle ADVM volumes" summary="Max Oracle ADVM File Sizes" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d195489e576">Redundancy</th>
                                 <th align="left" valign="bottom" width="27%" id="d195489e579">Disk Group with COMPATIBLE.ASM &lt; 12.2.0.1</th>
                                 <th align="left" valign="bottom" width="27%" id="d195489e582">Disk Group with COMPATIBLE.ASM = 12.2.0.1</th>
                                 <th align="left" valign="bottom" width="27%" id="d195489e585">Disk Group with COMPATIBLE.ASM = 18.1.0.0</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d195489e590" headers="d195489e576 ">
                                    <p>External</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e590 d195489e579 ">
                                    <p>128 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e590 d195489e582 ">
                                    <p>128 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e590 d195489e585 ">
                                    <p>1 PB</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d195489e603" headers="d195489e576 ">
                                    <p>Normal</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e603 d195489e579 ">
                                    <p>64 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e603 d195489e582 ">
                                    <p>128 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e603 d195489e585 ">
                                    <p>1 PB</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d195489e616" headers="d195489e576 ">
                                    <p>High</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e616 d195489e579 ">
                                    <p>42.6 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e616 d195489e582 ">
                                    <p>128 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d195489e616 d195489e585 ">
                                    <p>1 PB</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5__GUID-2D875D0E-FA9C-40F3-B3CA-704580255155">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="diskgroup-compatibility.html#GUID-3DACEBE2-A29A-46F5-A954-B6C39B88B5DA" title="If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Considerations When Setting Disk Group Compatibility</a> for information about file size limits and disk group compatibility settings
                              </p>
                           </li>
                           <li>
                              <p><a href="performance-scability-diskgroup.html#GUID-5AC1176D-D331-4C1C-978F-0ECA43E0900F" title="Oracle ASM provides near unlimited capacity for future growth, but does have some storage limits.">Oracle ASM Storage Limits</a> for information about storage limits for Oracle ASM files and disk groups
                              </p>
                           </li>
                           <li>
                              <p><a href="diskgroup-compatibility.html#GUID-3DACEBE2-A29A-46F5-A954-B6C39B88B5DA__BABFJBEG" title="Max ASM File Sizes for disk groups with AU_SIZE set to 1MB">Table 4-6</a> for information about Oracle ASM file size limits
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="OSTMG95285"></a><div class="props_rev_3"><a id="GUID-F136A597-3842-4554-80FE-A68E9B14143F" name="GUID-F136A597-3842-4554-80FE-A68E9B14143F"></a><h4 id="OSTMG-GUID-F136A597-3842-4554-80FE-A68E9B14143F" class="sect4">Oracle ACFS Error Handling</h4>
                  <div>
                     <p>Oracle ASM instance failure or forced shutdown while Oracle ACFS or another file system is using an Oracle ADVM volume results in I/O failures. The volumes must be closed and re-opened to access the volume again. This requires dismounting any file systems that were mounted when the local Oracle ASM instance failed. After the instance is restarted, the corresponding disk group must be mounted with the volume enabled followed by a remount of the file system. See <span class="q">"<a href="steps-manage-acfs.html#GUID-824B567D-A538-4EF2-8A2D-96D83A1E6284" title="This topic discusses the operations to deregister or dismount a file system and disable a volume.">Deregistering, Dismounting, and Disabling Volumes and Oracle ACFS File Systems</a>"</span>.
                     </p>
                     <p>If any file systems are currently mounted on Oracle ADVM volume files, the <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> command should not be used to terminate the Oracle ASM instance without first dismounting those file systems. Otherwise, applications encounter I/O errors and Oracle ACFS user data and metadata being written at the time of the termination may not be flushed to storage before the Oracle ASM storage is fenced. If there is not time to permit the file system to dismount, then you should run two <code class="codeph">sync</code> (1) commands to flush cached file system data and metadata to persistent storage before issuing the <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> operation.
                     </p>
                     <p>Oracle ACFS does not interrupt the operating system environment when a metadata write fails, whether due to Oracle ASM instance failure or storage failure. Instead, Oracle ACFS isolates errors to a specific file system, putting it in an offline error state. The only operation that succeeds on that node for that file system from that point forward is a dismount operation. Another node recovers any outstanding metadata transactions, assuming it can write the metadata out to the storage. It is possible to remount the file system on the offlined node after the I/O condition is resolved.</p>
                     <p>It might not be possible for an administrator to dismount a file system while it is in the offline error state if there are processes referencing the file system, such as a directory of the file system being the current working directory for a process. To dismount the file system in this case it would be necessary to identify all processes on that node with references to files and directories on the file system and cause them to exit. The Linux <code class="codeph">fuser</code> or <code class="codeph">lsof</code> commands or Window <code class="codeph">handle</code> command list information about processes and open files.
                     </p>
                     <p>If Oracle ACFS detects inconsistent file metadata returned from a read operation, based on checksum or expected type comparisons, Oracle ACFS takes the appropriate action to isolate the affected file system components and generate a notification that <code class="codeph">fsck</code> or <code class="codeph">acfschkdsk</code> should be run as soon as possible. Each time the file system is mounted a notification is generated with a system event logger message until <code class="codeph">fsck</code> or <code class="codeph">acfschkdsk</code> is run.
                     </p>
                  </div>
               </div><a id="OSTMG95286"></a><div class="props_rev_3"><a id="GUID-94EFDE44-3A1F-4E27-8BBD-DE8E0C3E420D" name="GUID-94EFDE44-3A1F-4E27-8BBD-DE8E0C3E420D"></a><h4 id="OSTMG-GUID-94EFDE44-3A1F-4E27-8BBD-DE8E0C3E420D" class="sect4">Oracle ACFS and NFS</h4>
                  <div>
                     <p><a id="d195489e992" class="indexterm-anchor"></a><a id="d195489e996" class="indexterm-anchor"></a>When exporting file systems through NFS on Linux, use the <code class="codeph">-fsid=num</code> exports option. This option forces the file system identification portion of the file handle used to communicate with NFS clients to be the specified number instead of a number derived from the major and minor number of the block device on which the file system is mounted. You can use any 32-bit number for <code class="codeph">num</code>, but it must be unique among all the exported file systems. In addition, <code class="codeph">num</code> must be unique among members of the cluster and must be the same <code class="codeph">num</code> on each member of the cluster for a given file system. This is needed because Oracle ASM DVM block device major numbers are not guaranteed to be the same across restarts of the same node or across different nodes in the cluster.
                     </p>
                     <p>When using High Availability NFS for Grid Home Clusters (HANFS), HANFS automatically handles the situation described in the previous paragraph. For information about HANFS, refer to <span class="q">"<a href="understand-acfs-admin.html#GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E" title="Oracle ACFS NAS Maximum Availability eXtensions (Oracle ACFS NAS MAX) is a set of extensions that provide High Availability Extensions for Common NAS Protocols, such as NFS and SMB.">High Availability Network File Storage for Oracle Grid Infrastructure</a>"</span>.
                     </p>
                  </div>
               </div>
            </div><a id="OSTMG35200"></a><div class="props_rev_3"><a id="GUID-8D71BD92-78F9-40DF-8418-A000E201218B" name="GUID-8D71BD92-78F9-40DF-8418-A000E201218B"></a><h3 id="OSTMG-GUID-8D71BD92-78F9-40DF-8418-A000E201218B" class="sect3">Limits of Oracle ADVM</h3>
               <div>
                  <p><a id="d195489e1162" class="indexterm-anchor"></a><a id="d195489e1166" class="indexterm-anchor"></a>The limits of Oracle ADVM and these discussed in this section.
                  </p>
                  <p>The <a id="d195489e1173" class="indexterm-anchor"></a><a id="d195489e1177" class="indexterm-anchor"></a>default configuration for an Oracle ADVM volume is 8 columns and a 1 MB stripe width. The volume extent size is 8 megabytes (MB) if the disk group allocation unit (AU) is less than or equal to 8 MB. If the AU size is greater than 8 MB, then the Oracle ADVM volume extent size is equivalent to the disk group AU size.
                  </p>
                  <p>Oracle ADVM writes data as 1 megabyte (MB) stripe chunks in round robin fashion to each column and fills a stripe set of eight 8 MB extents with 64 stripe chunks before moving to a second stripe set of eight 8 MB extents for volumes greater than 64 MB. Setting the number of columns on an Oracle ADVM dynamic volume to 1 effectively turns off striping for the Oracle ADVM volume.</p>
                  <p>On Linux platforms Oracle ASM Dynamic Volume Manager (Oracle ADVM) volume devices are created as block devices regardless of the configuration of the underlying storage in the Oracle ASM disk group. Do not use <code class="codeph">raw</code> <code class="codeph">(8)</code> to map Oracle ADVM volume block devices into raw volume devices. 
                  </p>
                  <p>For information about ASMCMD commands to manage Oracle ADVM volumes, refer to <a href="manage-advm-asmcmd.html#GUID-07E90E70-406A-4273-B27F-9F2ED7C1C4BF" title="Oracle ASM Command-Line Utility (ASMCMD) provides commands for managing Oracle ADVM volumes.">Managing Oracle ADVM with ASMCMD </a>.
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-9394890B-0CBF-4606-AC94-830FACF2D254" name="GUID-9394890B-0CBF-4606-AC94-830FACF2D254"></a><h3 id="OSTMG-GUID-9394890B-0CBF-4606-AC94-830FACF2D254" class="sect3">Oracle ACFS Loopback Support</h3>
               <div>
                  <p></p>
                  <p>Oracle ACFS  supports loopback functionality on the Linux operating system, enabling Oracle ACFS files to be accessed as devices.</p>
                  <p>An Oracle ACFS loopback device is an operating system pseudo-device that enables an Oracle ACFS file to be accessed as a block device. This functionality can be used with Oracle Virtual Machines (OVM) in support of OVM images, templates, and virtual disks (vdisks) created in Oracle ACFS file systems and presented through Oracle ACFS loopback devices.</p>
                  <p>Oracle ACFS loopback functionality provides performance gains over NFS. Files can be sparse or non-sparse.</p>
                  <p>In addition to general loopback support, Oracle ACFS also provides support for loopback direct I/O (DIO) on sparse images.</p>
               </div>
            </div><a id="OSTMG35300"></a><div class="props_rev_3"><a id="GUID-86621B17-67AC-4126-AC78-648F1320DDFF" name="GUID-86621B17-67AC-4126-AC78-648F1320DDFF"></a><h3 id="OSTMG-GUID-86621B17-67AC-4126-AC78-648F1320DDFF" class="sect3">Oracle ACFS Drivers Resource Management</h3>
               <div>
                  <p><a id="d195489e1488" class="indexterm-anchor"></a><a id="d195489e1492" class="indexterm-anchor"></a>Oracle ACFS, Oracle ADVM, and OKS drivers are loaded during the start of the Oracle Grid Infrastructure stack, except in an Oracle Restart configuration. The drivers remain loaded until the system is rebooted, at which point, they are loaded again when the Oracle Grid Infrastructure stack restarts.
                  </p>
                  <p>For information about commands to manage Oracle ACFS, Oracle ADVM, and OKS drivers, refer to <span class="q">"<a href="acfs-advanced-topics.html#GUID-7BA2C715-2575-43C7-B38D-A0D2FF6D4E45">Oracle ACFS Driver Commands</a>"</span>.
                  </p>
               </div>
            </div><a id="OSTMG35400"></a><div class="props_rev_3"><a id="GUID-2D4BE980-BA63-45BD-8520-F650885A0D0B" name="GUID-2D4BE980-BA63-45BD-8520-F650885A0D0B"></a><h3 id="OSTMG-GUID-2D4BE980-BA63-45BD-8520-F650885A0D0B" class="sect3">Oracle ACFS Registry Resource Management</h3>
               <div>
                  <p><a id="d195489e1643" class="indexterm-anchor"></a><a id="d195489e1647" class="indexterm-anchor"></a>The Oracle ACFS registry resource is supported only for Oracle Grid Infrastructure cluster configurations; it is not supported for Oracle Restart configurations. See <span class="q">"<a href="acfs-advanced-topics.html#GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54">Oracle ACFS and Oracle Restart</a>"</span>.
                  </p>
                  <p>With Oracle ASM 12<span class="italic">c</span> Release 1 (12.1), the Oracle ACFS registry uses the standard single file system resource available through the SRVCTL file system interface. For more information, refer to <span class="q">"<a href="acfs-advanced-topics.html#GUID-8C673DFA-5567-410D-9314-E866E2670EBA">Oracle ACFS File System Resource Management</a>"</span>. Using SRVCTL enables applications to depend on registered file systems, such as for management of the registered file systems using <code class="codeph">srvctl</code> <code class="codeph">filesystem</code>. By default, <code class="codeph">acfsutil</code> <code class="codeph">registry</code> shows only file systems that are set to be always mounted, with the <code class="codeph">AUTO_START</code> attribute set to <code class="codeph">always</code>. 
                  </p>
                  <p>The Oracle ACFS registry requires root privileges to register and delete file systems, however, other users can be entitled to start and stop (mount and unmount) the file systems by use of the <code class="codeph">user</code> option.
                  </p>
               </div>
            </div><a id="OSTMG35500"></a><div class="props_rev_3"><a id="GUID-8C673DFA-5567-410D-9314-E866E2670EBA" name="GUID-8C673DFA-5567-410D-9314-E866E2670EBA"></a><h3 id="OSTMG-GUID-8C673DFA-5567-410D-9314-E866E2670EBA" class="sect3">Oracle ACFS File System Resource Management</h3>
               <div>
                  <p><a id="d195489e1829" class="indexterm-anchor"></a><a id="d195489e1833" class="indexterm-anchor"></a>The Oracle ACFS file system resource is supported only for Oracle Grid Infrastructure cluster configurations; it is not supported for Oracle Restart configurations. See <span class="q">"<a href="acfs-advanced-topics.html#GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54">Oracle ACFS and Oracle Restart</a>"</span>.
                  </p>
                  <p>Oracle ASM Configuration Assistant (ASMCA) facilitates the creation of Oracle ACFS file system resources (<code class="codeph">ora.</code><span class="italic"><code class="codeph">diskgroup</code></span><code class="codeph">.</code><span class="italic"><code class="codeph">volume</code></span><code class="codeph">.acfs</code>). During database creation with Database Configuration Assistant (DBCA), the Oracle ACFS file system resource is included in the dependency list of its associated disk group so that stopping the disk group also attempts to stop any dependent Oracle ACFS file systems.
                  </p>
                  <p>An Oracle ACFS file system resource is typically created for use with application resource dependency lists. For example, if an Oracle ACFS file system is configured for use as an Oracle Database home, then a resource created for the file system can be included in the resource dependency list of the Oracle Database application. This dependency causes the file system and stack to be automatically mounted due to the start action of the database application.</p>
                  <p>The start action for an Oracle ACFS file system resource is to mount the file system. This Oracle ACFS file system resource action includes confirming that the associated file system storage stack is active and mounting the disk group, enabling the volume file, and creating the mount point if necessary to complete the mount operation. If the file system is successfully mounted, the state of the resource is set to <code class="codeph">online</code>; otherwise, it is set to <code class="codeph">offline</code>. 
                  </p>
                  <p>The check action for an Oracle ACFS file system resource verifies that the file system is mounted. It sets the state of the resource to <code class="codeph">online</code> status if mounted, otherwise the status is set to <code class="codeph">offline</code>.
                  </p>
                  <p>The stop action for an Oracle ACFS file system resource attempts to dismount the file system. If the file system cannot be dismounted due to open references, the stop action displays and logs the process identifiers for any processes holding a reference.</p>
                  <p>Use of the <code class="codeph">srvctl</code> <code class="codeph">start</code> and <code class="codeph">stop</code> actions to manage the Oracle ACFS file system resources maintains their correct resource state. 
                  </p>
               </div>
            </div><a id="OSTMG95289"></a><div class="props_rev_3"><a id="GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54" name="GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54"></a><h3 id="OSTMG-GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54" class="sect3">Oracle ACFS and Oracle Restart</h3>
               <div>
                  <p>Oracle Restart does not support root-based Oracle ACFS resources for this release. Consequently, the following operations are not automatically performed:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Loading Oracle ACFS drivers</p>
                        <p>On Linux, drivers are automatically loaded and unloaded at system boot time and system shutdown time. If an action is required while the system is running or the system is running on other operating system (OS) versions, you can load or unload the drivers manually with the <code class="codeph">acfsload</code> command. For more information, refer to <a href="acfs-advanced-topics.html#GUID-5BA14B0C-DB90-433F-9394-DD7B44078835">acfsload</a>.
                        </p>
                     </li>
                     <li>
                        <p>Mounting Oracle ACFS file systems listed in the Oracle ACFS mount registry</p>
                        <p>The Oracle ACFS mount registry is not supported in Oracle Restart. However, Linux entries in the <code class="codeph">/etc/fstab</code> file with a valid Oracle ASM device do have the associated volume enabled and are automatically mounted on system startup and unmounted on system shutdown. Note that high availability (HA) recovery is not applied after the file system is mounted; that functionality is a one time action.
                        </p>
                        <p>A valid <code class="codeph">fstab</code> entry has the following format:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">device</span> <span class="italic">mount_point</span> acfs noauto 0 0
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">/dev/asm/dev1-123 /mntpoint acfs noauto 0 0</pre><p>The last three fields in the previous example prevent Linux from attempting to automatically mount the device and from attempting to run other system tools on the device. This action prevents errors when the Oracle ASM instance is not available at times during the system startup. Additional standard <code class="codeph">fstab</code> syntax options may be added for the file system mount.
                        </p>
                        <p>Should a mount or unmount operation be required on other OS versions, or after the system is started, you can mount Oracle ACFS file systems manually with the <code class="codeph">mount</code> command. For information, refer to <a href="manage-acfs-advm-commands.html#GUID-DF1A88B0-E86C-4ABB-BDFD-B06DA8D4CBEC" title="Numerous command-line tools are provided for managing Oracle ASM Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM).">Managing Oracle ACFS with Command-Line Tools</a>.
                        </p>
                     </li>
                     <li>
                        <p>Mounting resource-based Oracle ACFS database home file systems</p>
                        <p>The Oracle ACFS resources associated with these actions are not created for Oracle Restart configurations. While Oracle ACFS resource management is fully supported for Oracle Grid Infrastructure configurations, the Oracle ACFS resource-based management actions must be replaced with alternative, sometimes manual, operations in Oracle Restart configurations. During an attempt to use commands, such as <code class="codeph">srvctl</code>, that register a root-based resource in Oracle Restart configurations, an appropriate error is displayed.
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG182"></a><div class="props_rev_3"><a id="GUID-7BA2C715-2575-43C7-B38D-A0D2FF6D4E45" name="GUID-7BA2C715-2575-43C7-B38D-A0D2FF6D4E45"></a><h3 id="OSTMG-GUID-7BA2C715-2575-43C7-B38D-A0D2FF6D4E45" class="sect3">Oracle ACFS Driver Commands</h3>
               <div>
                  <p><a id="d195489e2237" class="indexterm-anchor"></a><a id="d195489e2241" class="indexterm-anchor"></a>This section describes the Oracle ACFS driver commands that are used during installation to manage Oracle ACFS, Oracle ADVM, and Oracle Kernel Services Driver (OKS) drivers. These commands are located in the <code class="codeph">/bin</code> directory of the Oracle Grid Infrastructure home.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-5BA14B0C-DB90-433F-9394-DD7B44078835">acfsload</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-BAA02C01-33DC-482A-BC8C-7CE50B6C935B">acfsdriverstate</a></p>
                     </li>
                  </ul>
               </div><a id="OSTMG184"></a><a id="OSTMG185"></a><a id="OSTMG186"></a><a id="OSTMG187"></a><a id="OSTMG188"></a><a id="OSTMG183"></a><div class="props_rev_3"><a id="GUID-5BA14B0C-DB90-433F-9394-DD7B44078835" name="GUID-5BA14B0C-DB90-433F-9394-DD7B44078835"></a><h4 id="OSTMG-GUID-5BA14B0C-DB90-433F-9394-DD7B44078835" class="sect4">acfsload</h4>
                  <div>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p><code class="codeph">acfsload</code> loads or unloads Oracle ACFS, Oracle ADVM, and Oracle Kernel Services Driver (OKS) drivers.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">acfsload { start | stop  } [ -s ]
</pre><p><code class="codeph">acfsload</code> <code class="codeph">—h</code> displays help text and exits.
                        </p>
                        <p><a href="acfs-advanced-topics.html#GUID-5BA14B0C-DB90-433F-9394-DD7B44078835__CHDJBDGJ" title="This table lists the options for the acfsload command, along with a description for each option">Table 17-2</a> contains the options available with the <code class="codeph">acfsload</code> command.
                        </p>
                        <div class="tblformal" id="GUID-5BA14B0C-DB90-433F-9394-DD7B44078835__CHDJBDGJ">
                           <p class="titleintable">Table 17-2 Options for the acfsload command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsload command" summary="This table lists the options for the acfsload command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e2451">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e2454">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2459" headers="d195489e2451 ">
                                       <p><code class="codeph">start</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2459 d195489e2454 ">
                                       <p>Loads the Oracle ACFS, Oracle ADVM, and OKS drivers.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2467" headers="d195489e2451 ">
                                       <p><code class="codeph">stop</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2467 d195489e2454 ">
                                       <p>Unloads the Oracle ACFS, Oracle ADVM, and OKS drivers.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2475" headers="d195489e2451 ">
                                       <p><code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2475 d195489e2454 ">
                                       <p>Operate in silent mode.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Description</p>
                        <p>You can use <code class="codeph">acfsload</code> to manually load or unload the Oracle ACFS, Oracle ADVM, and OKS drivers.
                        </p>
                        <p>Before unloading drivers with the <code class="codeph">stop</code> option, you must dismount Oracle ACFS file systems and shut down Oracle ASM. For information about dismounting Oracle ACFS file systems, refer to <a href="steps-manage-acfs.html#GUID-824B567D-A538-4EF2-8A2D-96D83A1E6284" title="This topic discusses the operations to deregister or dismount a file system and disable a volume.">Deregistering, Dismounting, and Disabling Volumes and Oracle ACFS File Systems</a>.
                        </p>
                        <p><code class="codeph">root</code> or administrator privilege is required to run <code class="codeph">acfsload</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>The following is an example of the use of <code class="codeph">acfsload</code> to stop (unload) all drivers.
                        </p><pre class="oac_no_warn" dir="ltr"># acfsload stop</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OSTMG190"></a><a id="OSTMG191"></a><a id="OSTMG192"></a><a id="OSTMG193"></a><a id="OSTMG194"></a><a id="OSTMG189"></a><div class="props_rev_3"><a id="GUID-BAA02C01-33DC-482A-BC8C-7CE50B6C935B" name="GUID-BAA02C01-33DC-482A-BC8C-7CE50B6C935B"></a><h4 id="OSTMG-GUID-BAA02C01-33DC-482A-BC8C-7CE50B6C935B" class="sect4">acfsdriverstate</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p><code class="codeph">acfsdriverstate</code> provides information on the current state of the Oracle ACFS, Oracle ADVM, and Oracle Kernel Services Driver (OKS) drivers.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="pre codeblock"><code>acfsdriverstate [-orahome <span class="italic">ORACLE_HOME</span> ] 
    { installed | loaded | version [-v] | supported [-v]} [-s]</code></pre><p><code class="codeph">acfsdriverstate</code> <code class="codeph">—h</code> displays help text and exits.
                        </p>
                        <p><a href="acfs-advanced-topics.html#GUID-BAA02C01-33DC-482A-BC8C-7CE50B6C935B__CHDCFJJA" title="This table lists the options for the acfsddriverstate command, along with a description for each option">Table 17-3</a> contains the options available with the <code class="codeph">acfsdriverstate</code> command.
                        </p>
                        <div class="tblformal" id="GUID-BAA02C01-33DC-482A-BC8C-7CE50B6C935B__CHDCFJJA">
                           <p class="titleintable">Table 17-3 Options for the acfsdriverstate command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsdriverstate command" summary="This table lists the options for the acfsddriverstate command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e2711">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e2714">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2719" headers="d195489e2711 ">
                                       <p><code class="codeph">-orahome</code> <span class="italic"><code class="codeph">ORACLE_HOME</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2719 d195489e2714 ">
                                       <p>Specifies the Oracle Grid Infrastructure home in which the user has permission to execute the <code class="codeph">acfsdriverstate</code> command.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2734" headers="d195489e2711 ">
                                       <p><code class="codeph">installed</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2734 d195489e2714 ">
                                       <p>Determines whether Oracle ACFS is installed on the system.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2742" headers="d195489e2711 ">
                                       <p><code class="codeph">loaded</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2742 d195489e2714 ">
                                       <p>Determines whether the Oracle ADVM, Oracle ACFS, and OKS drivers are loaded in memory.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2750" headers="d195489e2711 ">
                                       <p><code class="codeph">version</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2750 d195489e2714 ">
                                       <p>Reports the currently installed version of the Oracle ACFS system software.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2758" headers="d195489e2711 ">
                                       <p><code class="codeph">supported</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2758 d195489e2714 ">
                                       <p>Reports whether the system is a supported kernel for Oracle ACFS.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2766" headers="d195489e2711 ">
                                       <p><code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2766 d195489e2714 ">
                                       <p>Specifies silent mode when running the command.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e2774" headers="d195489e2711 ">
                                       <p><code class="codeph">-v</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e2774 d195489e2714 ">
                                       <p>Specifies verbose mode for additional details.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Description</p>
                        <p>You can use <code class="codeph">acfsdriverstate</code> to display detailed information on the current state of the Oracle ACFS, Oracle ADVM, and OKS drivers.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>The following is an example of the use of <code class="codeph">acfsdriverstate</code>.
                        </p><pre class="oac_no_warn" dir="ltr">$ acfsdriverstate version
ACFS-9325:     Driver OS kernel version = 3.8.13-13.el6uek.x86_64.
ACFS-9326:     Driver build number = 171126.
ACFS-9212:     Driver build version = 18.1.0.0 ()..
ACFS-9547:     Driver available build number = 171126.
ACFS-9548:     Driver available build version = 18.1.0.0 ()..</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OSTMG95599"></a><div class="props_rev_3"><a id="GUID-67360198-D34F-4FBE-98A0-FAB1458FAABB" name="GUID-67360198-D34F-4FBE-98A0-FAB1458FAABB"></a><h3 id="OSTMG-GUID-67360198-D34F-4FBE-98A0-FAB1458FAABB" class="sect3">Oracle ACFS Plug-in Generic Application Programming Interface</h3>
               <div>
                  <p>Oracle ACFS plug-in operations are supported through a common, operating system (OS) independent file plug-in (C library) application programming interface (API). </p>
                  <p>The topics contained in this section are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-0694F9B0-68F1-4670-BAB6-F8689B5EE5CF">Oracle ACFS Pre-defined Metric Types</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6">Oracle ACFS Plug-in APIs</a></p>
                     </li>
                  </ul>
                  <p>For more information about Oracle ACFS plug-ins, refer to <span class="q">"<a href="understand-acfs-admin.html#GUID-B342F29C-20E9-4B10-AC41-BA0AB8D902DD" title="The Oracle ACFS plugin functionality enables a user space application to collect just-in-time Oracle ACFS file and Oracle ADVM volume metrics from the operating system environment.">Oracle ACFS Plugins</a>"</span>.
                  </p>
               </div><a id="OSTMG95600"></a><div class="props_rev_3"><a id="GUID-0694F9B0-68F1-4670-BAB6-F8689B5EE5CF" name="GUID-0694F9B0-68F1-4670-BAB6-F8689B5EE5CF"></a><h4 id="OSTMG-GUID-0694F9B0-68F1-4670-BAB6-F8689B5EE5CF" class="sect4">Oracle ACFS Pre-defined Metric Types</h4>
                  <div>
                     <p>Oracle ACFS provides the <code class="codeph">ACFSMETRIC1_T</code> and <code class="codeph">ACFSMETRIC2_T</code> pre-defined metric types.
                     </p>
                     <p>The <code class="codeph">ACFSMETRIC1_T</code> metric set is defined for the storage virtualization model. The metrics are maintained as a summary record for either a selected set of tagged files or all files in the file system. Oracle ACFS file metrics include: number of reads, number of writes, average read size, average write size, minimum and maximum read size, minimum and maximum write size, and read cache (VM page cache) hits and misses.
                     </p>
                     <p>Example:</p><pre class="oac_no_warn" dir="ltr">typedef struct _ACFS_METRIC1 {
    ub2      acfs_version;
    ub2      acfs_type;
    ub4      acfs_seqno;
    ub8      acfs_nreads;
    ub8      acfs_nwrites;
    ub8      acfs_rcachehits;
    ub4      acfs_avgrsize;
    ub4      acfs_avgwsize;
    ub4      acfs_minrsize;
    ub4      acfs_maxrsize;
    ub4      acfs_minwsize;
    ub4      acfs_maxwsize;
    ub4      acfs_rbytes_per_sec;
    ub4      acfs_wbytes_per_sec;
    ub8      acfs_timestamp;
    ub8      acfs_elapsed_secs;
} ACFS_METRIC1;
</pre><p>The <code class="codeph">ACFSMETRIC2_T</code> is a list of Oracle ACFS write description records containing the <code class="codeph">fileID</code>, starting offset, size, and sequence number of each write. The sequence number preserves the Oracle ACFS write record order as preserved by the plug-in driver. The sequence number provides a way for applications to order multiple message buffers returned from the API. It also provides detection of dropped write records due to the application not draining the message buffers fast enough through the API.
                     </p>
                     <p>The write records are contained within multiple in-memory arrays. Each array of records may be fetched with the API with a buffer size currently set to 1 M. At the beginning of the fetched <code class="codeph">ioctl</code> buffer is a <code class="codeph">struct</code> which describes the array, including the number of records it contains. The kernel buffers drop the oldest write records if the buffers are filled because the buffers are not being read quickly enough.
                     </p>
                     <p>Example:</p><pre class="oac_no_warn" dir="ltr">typedef struct _ACFS_METRIC2 {
  ub2              acfs_version;
  ub2              acfs_type;
  ub4              acfs_num_recs;
  ub8              acfs_timestamp;
  ACFS_METRIC2_REC acfs_recs[1];
} ACFS_METRIC2;

typedef struct _ACFS_FILE_ID {
  ub8              acfs_fenum;
  ub4              acfs_genum;
  ub4              acfs_reserved1;
}

typedef struct _ACFS_METRIC2_REC {
  ACFS_FILE_ID     acfs_file_id;
  ub8              acfs_start_offset;
  ub8              acfs_size;
  ub8              acfs_seq_num;
} ACFS_METRIC2_rec;</pre></div>
               </div><a id="OSTMG95602"></a><a id="OSTMG95603"></a><a id="OSTMG95604"></a><a id="OSTMG95605"></a><a id="OSTMG95606"></a><a id="OSTMG95607"></a><a id="OSTMG95608"></a><a id="OSTMG95601"></a><div class="props_rev_3"><a id="GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6" name="GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6"></a><h4 id="OSTMG-GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6" class="sect4">Oracle ACFS Plug-in APIs</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Oracle ACFS plug-in application programming interface (API) sends and receives messages to and from the local plug-in enabled Oracle ACFS driver from the application plug-in module.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">sb8 acfsplugin_metrics(ub4 metric_type,
  ub1 *metrics,
  ub4 metric_buf_len,
  oratext *mountp );
</pre><pre class="oac_no_warn" dir="ltr">sb8 acfsfileid_lookup(ACFS_FILEID file_id,
  oratext *full_path,
  oratext *mountp );</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Description</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">acfsplugin_metrics</code> API is used by an Oracle ACFS application plug-in module to retrieve metrics from the Oracle ACFS driver. The Oracle ACFS driver must first be enabled for plug-in communication using the <code class="codeph">acfsutil</code> <code class="codeph">plugin</code> <code class="codeph">enable</code> command. The selected application plug-in metric type model must match the plug-in configuration defined with the Oracle ACFS plug-in enable command. For information about the <code class="codeph">acfsutil</code> <code class="codeph">plugin</code> <code class="codeph">enable</code> command, refer to <span class="q">"<a href="acfs-commands-utilities.html#GUID-5F36CEC5-B2CB-4673-8F58-CE9D9279D547">acfsutil plugin enable</a>"</span>. The application must provide a buffer large enough to store the metric structures described in <span class="q">"<a href="acfs-advanced-topics.html#GUID-0694F9B0-68F1-4670-BAB6-F8689B5EE5CF">Oracle ACFS Pre-defined Metric Types</a>"</span>. 
                        </p>
                        <p>If the provided buffer is <code class="codeph">NULL</code> and <code class="codeph">metric_buf_len</code> <code class="codeph">=</code> <code class="codeph">0</code>, the return value is the size required to hold all the currently collected metrics. The application can first query Oracle ACFS to see how big a buffer is required, then allocate a buffer of the necessary size to pass back to Oracle ACFS. 
                        </p>
                        <p>The mount path must be provided to the API to identify the plug-in enabled Oracle ACFS file system that is being referenced.</p>
                        <p>A nonnegative value is returned for success: <code class="codeph">0</code> for success with no more metrics to collect, <code class="codeph">1</code> to indicate that more metrics are available, or <code class="codeph">2</code> to indicate that no new metrics were collected during the interval. In the case of an error, a negative value is returned and <code class="codeph">errno</code> is set on Linux environments or <code class="codeph">SetLastError</code> is called on Windows.
                        </p>
                        <p>When using metric type #2, the returned metrics include an <code class="codeph">ACFS_FILE_ID</code>, which contains the fenum and genum pair. In order to translate from the fenum and genum pair to a file path, the application can use <code class="codeph">acfsfileid_lookup</code>. The application must provide a buffer of length <code class="codeph">ACFS_FILEID_MAX_PATH_LEN</code> to hold the path. If there are multiple hard links to a file, the returned path is the first one. This is same behavior when using <code class="codeph">acfsutil info id</code>.
                        </p>
                        <p>System administrator or Oracle ASM administrator privileges are required to send and receive messages to and from the plug-in enabled Oracle ACFS file system driver.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Writing Applications</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To use the plugin API, applications must include the C header file <code class="codeph">acfslib.h</code> which defines the API functions and structures.
                        </p><pre class="oac_no_warn" dir="ltr">#include &lt;acfslib.h&gt;
</pre><p>When building the application executable, the application must be linked with the <code class="codeph">acfs12</code> library. Check the platform-specific documentation for information about environment variables that must be defined. For example: 
                        </p><pre class="oac_no_warn" dir="ltr">export LD_LIBRARY_PATH=${ORACLE_HOME}/lib:$
{LD_LIBRARY_PATH}
</pre><p>Then when linking, add the <code class="codeph">-lacfs12</code> flag.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In <a href="acfs-advanced-topics.html#GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6__CHDJHHJG">Example 17-1</a>, the command enables an Oracle ACFS file system mounted on <code class="codeph">/humanresources</code> for the plug-in service.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6__CHDJHHJG">
                        <p class="titleinexample">Example 17-1 Application Plug-in for Storage Visibility: Poll Model</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil plugin enable -m acfsmetric1 -t HRDATA /humanresources
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>With this command, the application plug-in polls the Oracle ACFS plug-in enabled driver for summary metrics associated with files tagged with <code class="codeph">HRDATA</code>. The application code includes the following:
                        </p><pre class="oac_no_warn" dir="ltr">#include &lt;acfslib.h&gt;
...
/* allocate message buffers */
ACFS_METRIC1 *metrics = malloc (sizeof(ACFS_METRIC1));
/* poll for metric1 data */
while (condition) {
  /* read next summary message from ACFS driver */
   if ((rc = acfsplugin_metrics(ACFS_METRIC_TYPE1,(ub1*)metrics,sizeof(*metrics),
        mountp)) &lt; 0) {
        perror("….Receive failure … ");
        break;
   }
   /* print message data */
   printf ("reads %8llu ", metrics-&gt;acfs_nreads);
   printf("writes %8llu ", metrics-&gt;acfs_nwrites);
   printf("avg read size %8u ", metrics-&gt;acfs_avgrsize);
   printf("avg write size %8u ", metrics-&gt;acfs_avgwsize);
   printf("min read size %8u ", metrics-&gt;acfs_minrsize);
   printf("max read size %8u ", metrics-&gt;acfs_maxrsize);
   ...
   sleep (timebeforenextpoll);
}
</pre><p>In <a href="acfs-advanced-topics.html#GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6__CHDHDAIE">Example 17-2</a>, the command enables an Oracle ACFS file system mounted on <code class="codeph">/humanresources</code> for the plug-in service.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6__CHDHDAIE">
                        <p class="titleinexample">Example 17-2 Application Plug-in for File Content: Post Model</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil plugin enable -m acfsmetric1 -t HRDATA -i 5m /humanresources
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>With this command, every 5 minutes the Oracle ACFS plug-in enabled driver posts file content metrics associated with files tagged with <code class="codeph">HRDATA</code>. In the application code, the call to <code class="codeph">acfsplugin_metrics()</code> is blocked until the metrics are posted. The application code includes the following:
                        </p><pre class="oac_no_warn" dir="ltr">#include &lt;acfslib.h&gt;
...
 ACFS_METRIC1 *metrics = malloc (sizeof(ACFS_METRIC1));
 
 /* Wait for metric Data */
  while (condition) {
    /* Wait for next file content posting from ACFS driver */
    rc = ACFS_PLUGIN_MORE_AVAIL;
    /* A return code of 1 indicates that more metrics are available
    * in the current set of metrics.
    */
    while( rc == ACFS_PLUGIN_MORE_AVAIL) {
      /* This call blocks until metrics are available. */
      rc = acfsplugin_metrics(ACFS_METRIC_TYPE1,(ub1*)metrics,sizeof(*metrics),
           mountp);
      if (rc &lt; 0) {
        perror("….Receive failure … ");
        break;
      } else if (rc == ACFS_PLUGIN_NO_NEW_METRICS) {
        printf("No new metrics available.");
        break;
     }
     if (last_seqno != metrics-&gt;acfs_seqno-1 ) {
       printf("Warning: Unable to keep up with metrics collection.");
       printf("Missed %d sets of posted metrics.",
              (metrics-&gt;acfs_seqno-1)-last_seqno);
     }

      /* print message data */ 
      printf ("reads %8llu ", metrics-&gt;acfs_nreads);
      printf("writes %8llu ", metrics-&gt;acfs_nwrites);
      printf("avg read size %8u ", metrics-&gt;acfs_avgrsize);
      printf("avg write size %8u ", metrics-&gt;acfs_avgwsize);
      printf("min read size %8u ", metrics-&gt;acfs_minrsize);
      printf("max read size %8u ", metrics-&gt;acfs_maxrsize);
      ...
 
      last_seqno = metrics-&gt;acfs_seqno;
    }
  }
 
  free(metrics);
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6CFE72CF-48FC-4264-B65C-D8DB3672B3E6__RESOLVINGTHEFILEPATHFROMAFENUMANDGE-A4069BF1">
                        <p class="titleinexample">Example 17-3 Application for Resolving the File Path from a Fenum and Genum Pair</p>
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>The following example shows how an application resolves a file path from an Oracle ACFS Metric Type 2 record’s fenum and genum pair.</p><pre class="oac_no_warn" dir="ltr">#include &lt;acfslib.h&gt;
. . .
ACFS_FILE_ID file_id;
char path[ACFS_FILEID_MAX_PATH_LEN];
#ifdef WINDOWS
    file_id.acfs_fenum = atoi(argv[1]);
    file_id.acfs_genum = atoi(argv[2]);
#else
    file_id.acfs_fenum = strtoull(argv[1], 0, 0);
    file_id.acfs_genum = strtoul(argv[2], 0, 0);
#endif
mount_point = argv[3];
sts = acfsfileid_lookup(file_id, path, ACFS_FILEID_MAX_PATH_LEN,
                        mount_point, 0);
if (sts &lt; 0)
 {
 . . .
 }
printf("%s\n", path)</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OSTMG95609"></a><div class="props_rev_3"><a id="GUID-95892F53-3082-4567-8C3A-4F66402F278D" name="GUID-95892F53-3082-4567-8C3A-4F66402F278D"></a><h3 id="OSTMG-GUID-95892F53-3082-4567-8C3A-4F66402F278D" class="sect3">Oracle ACFS Tagging Generic Application Programming Interface</h3>
               <div>
                  <p>Oracle ACFS tagging operations are supported through a common operating system (OS) independent file tag (C library) application programming interface (API). </p>
                  <p>An Oracle ACFS tagging API demonstration utility is provided. The demo provides instructions to build the utility with a makefile on each supported platform. </p>
                  <p>On Solaris, Oracle ACFS tagging APIs can set tag names on symbolic link files, but backup and restore utilities do not save the tag names that are explicitly set on the symbolic link files. Also, symbolic link files lose explicitly set tag names if they have been moved, copied, tarred, or paxed.</p>
                  <p>The following files are included:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/usm/public/acfslib.h</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/usm/demo/acfstagsdemo.c</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/usm/demo/Makefile</code></p>
                        <p>Linux, Solaris, or AIX makefile for creating the demo utility.</p>
                     </li>
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/usm/demo/MAKEFILE</code></p>
                        <p>Windows demo utility MAKEFILE (for use by the <code class="codeph">nmake</code> utility) to create the demo utility.
                        </p>
                     </li>
                  </ul>
                  <p>The topics contained in this section are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-E85725C8-6F79-4CCC-BE69-D925ADCFD2BA">Oracle ACFS Tag Name Specifications</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C">Oracle ACFS Tagging Error Values</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A">acfsgettag</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-D55259E6-3BD3-4ED6-B884-E5840A4FDB89">acfslisttags</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C">acfsremovetag</a></p>
                     </li>
                     <li>
                        <p><a href="acfs-advanced-topics.html#GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F">acfssettag</a></p>
                     </li>
                  </ul>
               </div><a id="OSTMG95610"></a><div class="props_rev_3"><a id="GUID-E85725C8-6F79-4CCC-BE69-D925ADCFD2BA" name="GUID-E85725C8-6F79-4CCC-BE69-D925ADCFD2BA"></a><h4 id="OSTMG-GUID-E85725C8-6F79-4CCC-BE69-D925ADCFD2BA" class="sect4">Oracle ACFS Tag Name Specifications</h4>
                  <div>
                     <p><a id="d195489e3842" class="indexterm-anchor"></a>An Oracle ACFS tag name can be from 1 to 32 characters in length and consist of a combination of the following set of characters only:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>uppercase and lowercase alphabetic characters (A-Z, a-z)</p>
                        </li>
                        <li>
                           <p>numbers (0-9)</p>
                        </li>
                        <li>
                           <p>hyphen (-)</p>
                        </li>
                        <li>
                           <p>underscore (_)</p>
                        </li>
                        <li>
                           <p>blank (space)</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95611"></a><div class="props_rev_3"><a id="GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C" name="GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C"></a><h4 id="OSTMG-GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C" class="sect4">Oracle ACFS Tagging Error Values</h4>
                  <div>
                     <p><a id="d195489e4001" class="indexterm-anchor"></a>The following are the values for Linux, Solaris, or AIX <code class="codeph">errno</code> in case of failure:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">EINVAL</code> &#x2013; The tag name syntax is invalid or too long.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ENODATA</code> &#x2013; The tag name does not exist for this file or directory.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERANGE</code> - The value buffer is too small to hold the returned value.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">EACCES</code> &#x2013; Search permission denied for a directory in the path prefix of path; or the user does not have permission on the file to read tag names.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ENAMETOOLONG</code> &#x2013; The file name is too long.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ENOENT</code> &#x2013; A component of path does not exist.
                           </p>
                        </li>
                     </ul>
                     <p>The following are the values that Windows <code class="codeph">GetLastError()</code> returns in case of failure:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ERROR_INVALID_PARAMETER</code> - The tag name does not exist for this file or directory or the tag name is syntactically incorrect.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERROR_INSUFFICIENT_BUFFER</code> - The value buffer is too small to hold the returned value.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERROR_ACCESS_DENIED</code> - Search permission denied for a directory in the path prefix of path; or the user does not have permission on the file to read tag names.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERROR_INVALID_NAME</code> - The file name or path name is too long or is malformed.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERROR_FILE_NOT_FOUND</code> - The system cannot find the file specified.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95613"></a><a id="OSTMG95614"></a><a id="OSTMG95615"></a><a id="OSTMG95616"></a><a id="OSTMG95617"></a><a id="OSTMG95618"></a><a id="OSTMG95612"></a><div class="props_rev_3"><a id="GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A" name="GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A"></a><h4 id="OSTMG-GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A" class="sect4">acfsgettag</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Retrieves the value associated with an Oracle ACFS file tag name.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">sb8 acfsgettag(const oratext *path, const oratext *tagname, oratext *value, 
               size_t size, ub4 flags);
</pre><p><a href="acfs-advanced-topics.html#GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A__CHDBFGHA" title="This table lists the options for the acfsgettag command, along with a description for each option">Table 17-4</a> contains the options available with the <code class="codeph">acfsgettag</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A__CHDBFGHA">
                        <p class="titleintable">Table 17-4 Options for the acfsgettag command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsgettag command" summary="This table lists the options for the acfsgettag command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d195489e4253">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d195489e4256">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4261" headers="d195489e4253 ">
                                    <p><span class="italic"><code class="codeph">path</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4261 d195489e4256 ">
                                    <p>Specifies a pointer to a file or directory path name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4270" headers="d195489e4253 ">
                                    <p><span class="italic"><code class="codeph">tagname</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4270 d195489e4256 ">
                                    <p>Specifies a pointer to a NULL-terminated Oracle ACFS tag name in the format of a valid tag name for regular files and directories.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4279" headers="d195489e4253 ">
                                    <p><span class="italic"><code class="codeph">value</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4279 d195489e4256 ">
                                    <p>Specifies the memory buffer to retrieve the Oracle ACFS tag value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4288" headers="d195489e4253 ">
                                    <p><span class="italic"><code class="codeph">size</code></span> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4288 d195489e4256 ">
                                    <p>Specifies the byte size of the memory buffer that holds the returned Oracle ACFS tag value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4298" headers="d195489e4253 ">
                                    <p><span class="italic"><code class="codeph">flags</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4298 d195489e4256 ">
                                    <p>Reserved for future use. Must be set to 0.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Description</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">acfsgettag</code> library call retrieves the value string of the Oracle ACFS tag name. The return value is the nonzero byte length of the output <span class="italic"><code class="codeph">value</code></span> string on success or <code class="codeph">ACFS_TAG_FAIL</code> on failure. For information about operating system-specific extended error information values that may be obtained when an <code class="codeph">ACFS_TAG_FAIL</code> is returned, refer to <span class="q">"<a href="acfs-advanced-topics.html#GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C">Oracle ACFS Tagging Error Values</a>"</span>.
                        </p>
                        <p>Because Oracle ACFS tag names currently use a fixed value string of <code class="codeph">0</code> (the number zero character with a byte length of one) the value is the same for all Oracle ACFS tag name entries. The size of the <span class="italic"><code class="codeph">value</code></span> buffer can be determined by calling <code class="codeph">acfsgettag</code> with a NULL <span class="italic"><code class="codeph">value</code></span> and <code class="codeph">0</code> <span class="italic"><code class="codeph">size</code></span>. The library call returns the byte size necessary to hold the value string of the tag name. <code class="codeph">acfsgettag</code> returns an <code class="codeph">ENODATA</code> error when the tag name is not set on the file.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="acfs-advanced-topics.html#GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A__CHDHDDEJ">Example 17-4</a> is an example of the use of the <code class="codeph">acfsgettag</code> function call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A__CHDHDDEJ">
                        <p class="titleinexample">Example 17-4 Retrieving a file tag value</p><pre class="oac_no_warn" dir="ltr">sb8 rc;
size_t size;
oratext value[2];
const oratext *path = "/mnt/dir1/dir2/file2";
const oratext *tagname = "patch_set_11_1";
size = 1; (byte)
memset((void *)value, 0, 2*sizeof(oratext));
rc = acfsgettag (path, tagname, value, size, 0);
If (rc == ACFS_TAG_FAIL)
  /* check errno or GetLastError() to process error returns /*</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OSTMG95620"></a><a id="OSTMG95621"></a><a id="OSTMG95622"></a><a id="OSTMG95623"></a><a id="OSTMG95624"></a><a id="OSTMG95625"></a><a id="OSTMG95619"></a><div class="props_rev_3"><a id="GUID-D55259E6-3BD3-4ED6-B884-E5840A4FDB89" name="GUID-D55259E6-3BD3-4ED6-B884-E5840A4FDB89"></a><h4 id="OSTMG-GUID-D55259E6-3BD3-4ED6-B884-E5840A4FDB89" class="sect4">acfslisttags</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Lists the tag names assigned to an Oracle ACFS file. For additional information, refer to <span class="q">"<a href="acfs-commands-tagging.html#GUID-28C826AE-BA9C-4FBD-B590-EB83192A3F54">acfsutil tag info</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">sb8 acfslisttags(const oratext *path, oratext *list, size_t size, ub4 flags);
</pre><p><a href="acfs-advanced-topics.html#GUID-18DA9DCA-D31C-4286-BC0D-6FF719A2DE9A__CHDBFGHA" title="This table lists the options for the acfsgettag command, along with a description for each option">Table 17-4</a> contains the options available with the <code class="codeph">acfslisttags</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D55259E6-3BD3-4ED6-B884-E5840A4FDB89__GUID-6933EE86-1E5D-469E-8FA2-1974322CFE7A">
                        <p class="titleintable">Table 17-5 Options for the acfslisttags command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfslisttags command" summary="This table lists the options for the acfslisttags command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d195489e4561">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d195489e4564">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4569" headers="d195489e4561 ">
                                    <p><span class="italic"><code class="codeph">path</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4569 d195489e4564 ">
                                    <p>Specifies a pointer to a file or directory path name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4578" headers="d195489e4561 ">
                                    <p><span class="italic"><code class="codeph">list</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4578 d195489e4564 ">
                                    <p>Specifies a pointer to a memory buffer containing the list of Oracle ACFS tag names.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4587" headers="d195489e4561 ">
                                    <p><span class="italic"><code class="codeph">size</code></span> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4587 d195489e4564 ">
                                    <p>Specifies the size (bytes) of the memory buffer that holds the returned Oracle ACFS tag name list.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4597" headers="d195489e4561 ">
                                    <p><span class="italic"><code class="codeph">flags</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4597 d195489e4564 ">
                                    <p>Reserved for future use. Must be set to 0.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Description</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">acfslisttags</code> library call retrieves all the tag names assigned to an Oracle ACFS file. <code class="codeph">acfslisttags</code> returns a list of tag names into the <span class="italic"><code class="codeph">list</code></span> memory buffer. Each tag name in the list is terminated with a NULL. If a file has no tag names then the list is empty. The memory buffer must be large enough to hold all of the tag names assigned to an Oracle ACFS file. 
                        </p>
                        <p>An application must allocate a buffer and specify a list size large enough to hold all of the tag names assigned to an Oracle ACFS file. An application can optionally obtain the list buffer size needed by first calling <code class="codeph">acfslisttags</code> with a zero value buffer size and NULL list buffer. The application then checks for nonzero, positive list size return values to allocate a list buffer and call <code class="codeph">acfslisttags</code> to retrieve the actual tag name list.
                        </p>
                        <p>On success, the return value is a positive byte size of the tag name list or <code class="codeph">0</code> when the file has no tag names. On failure, the return value is <code class="codeph">ACFS_TAG_FAIL</code>. For information about operating system-specific extended error information values that may be obtained when an <code class="codeph">ACFS_TAG_FAIL</code> is returned, refer to <span class="q">"<a href="acfs-advanced-topics.html#GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C">Oracle ACFS Tagging Error Values</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="acfs-advanced-topics.html#GUID-D55259E6-3BD3-4ED6-B884-E5840A4FDB89__CHDJGHIF">Example 17-5</a> is an example of the use of the <code class="codeph">acfslisttags</code> function call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D55259E6-3BD3-4ED6-B884-E5840A4FDB89__CHDJGHIF">
                        <p class="titleinexample">Example 17-5 Listing file tags</p><pre class="oac_no_warn" dir="ltr">sb8 listsize;
sb8 listsize2;
const oratext *path = "/mnt/dir1/dir2/file2";
oratext *list;
/* Determine size of buffer to store list */
listsize = acfslisttags (path, NULL, 0, 0);
if (listsize == ACFS_TAG_FAIL)
/* retrieve the error code and return */

if (listsize)
{
    list = malloc(listsize)
    /* Retrieve list of tag names */
    listsize2 = acfslisttags (path, list, listsize, 0);
    if (listsize2 == ACFS_TAG_FAIL)
        /* check errno or GetLastError() to process error returns */
    if (listsize2 &gt; 0)
        /* file has a list of tag names to process */
    else
        /* file has no tag names. */
}
else
/* file has no tag names. */</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OSTMG95627"></a><a id="OSTMG95628"></a><a id="OSTMG95629"></a><a id="OSTMG95630"></a><a id="OSTMG95631"></a><a id="OSTMG95632"></a><a id="OSTMG95626"></a><div class="props_rev_3"><a id="GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C" name="GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C"></a><h4 id="OSTMG-GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C" class="sect4">acfsremovetag</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Removes the tag name on an Oracle ACFS file.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">sb8 acfsremovetag(const oratext *path, const oratext *tagname, ub4 flags);
</pre><p><a href="acfs-advanced-topics.html#GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C__CHDCAFJC" title="This table lists the options for the acfsremovetag command, along with a description for each option">Table 17-6</a> contains the options available with the <code class="codeph">acfsremovetag</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C__CHDCAFJC">
                        <p class="titleintable">Table 17-6 Options for the acfsremovetag command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsremovetag command" summary="This table lists the options for the acfsremovetag command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d195489e4841">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d195489e4844">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4849" headers="d195489e4841 ">
                                    <p><span class="italic"><code class="codeph">path</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4849 d195489e4844 ">
                                    <p>Specifies a pointer to a file or directory path name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4858" headers="d195489e4841 ">
                                    <p><span class="italic"><code class="codeph">tagname</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4858 d195489e4844 ">
                                    <p>Specifies a pointer to a NULL-terminated Oracle ACFS tag name in the format of a valid tag name for regular files and directories.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e4867" headers="d195489e4841 ">
                                    <p><span class="italic"><code class="codeph">flags</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e4867 d195489e4844 ">
                                    <p>Reserved for future use. Must be set to <code class="codeph">0</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Description</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">acfsremovetag</code> library call removes a tag name on an Oracle ACFS file. The return value is <code class="codeph">ACFS_TAG_SUCCESS</code> or <code class="codeph">ACFS_TAG_FAIL</code>. For information about operating system-specific extended error information values that may be obtained when an <code class="codeph">ACFS_TAG_FAIL</code> is returned, refer to <span class="q">"<a href="acfs-advanced-topics.html#GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C">Oracle ACFS Tagging Error Values</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="acfs-advanced-topics.html#GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C__CHDCJEJG">Example 17-6</a> is an example of the use of the <code class="codeph">acfsremovetag</code> function call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6BDCB37F-F169-44E0-AEC3-D15CC932E54C__CHDCJEJG">
                        <p class="titleinexample">Example 17-6 Removing file tags</p><pre class="oac_no_warn" dir="ltr">sb8 rc;
const oratext *path= "/mnt/dir1/dir2/file2";
const oratext *tagname = "patch_set_11_1";
rc = acfsremovetag (path, tagname, 0);
If (rc == ACFS_TAG_FAIL)
  /* check errno or GetLastError() to process error returns */</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OSTMG95634"></a><a id="OSTMG95635"></a><a id="OSTMG95636"></a><a id="OSTMG95637"></a><a id="OSTMG95638"></a><a id="OSTMG95639"></a><a id="OSTMG95633"></a><div class="props_rev_3"><a id="GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F" name="GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F"></a><h4 id="OSTMG-GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F" class="sect4">acfssettag</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Sets the tag name on an Oracle ACFS file. For additional information, refer to <span class="q">"<a href="acfs-commands-tagging.html#GUID-EAA3652D-08F9-49B3-BFD0-5527A751B3FB">acfsutil tag set</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">sb8 acfssettag(const oratext *path, const oratext *tagname, oratext *value, 
               size_t size, ub4 flags);
</pre><p><a href="acfs-advanced-topics.html#GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F__CHDEDHEB" title="This table lists the options for the acfssettag command, along with a description for each option">Table 17-7</a> contains the options available with the <code class="codeph">acfssettag</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F__CHDEDHEB">
                        <p class="titleintable">Table 17-7 Options for the acfssettag command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfssettag command" summary="This table lists the options for the acfssettag command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d195489e5103">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d195489e5106">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e5111" headers="d195489e5103 ">
                                    <p><span class="italic"><code class="codeph">path</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e5111 d195489e5106 ">
                                    <p>Specifies a pointer to a file or directory path name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e5120" headers="d195489e5103 ">
                                    <p><span class="italic"><code class="codeph">tagname</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e5120 d195489e5106 ">
                                    <p>Specifies a pointer to a NULL-terminated Oracle ACFS tag name in the format of a valid tag name for regular files and directories.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e5129" headers="d195489e5103 ">
                                    <p><span class="italic"><code class="codeph">value</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e5129 d195489e5106 ">
                                    <p>Specifies the memory buffer to set the Oracle ACFS tag value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e5138" headers="d195489e5103 ">
                                    <p><span class="italic"><code class="codeph">size</code></span> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e5138 d195489e5106 ">
                                    <p>Specifies the byte size of the Oracle ACFS tag value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d195489e5148" headers="d195489e5103 ">
                                    <p><span class="italic"><code class="codeph">flags</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d195489e5148 d195489e5106 ">
                                    <p>Reserved for future use. Must be set to 0.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3">Description</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">acfssettag</code> library call sets a tag name on an Oracle ACFS file. The return value is <code class="codeph">ACFS_TAG_SUCCESS</code> or <code class="codeph">ACFS_TAG_FAIL</code>. For information about operating system-specific extended error information values that may be obtained when an <code class="codeph">ACFS_TAG_FAIL</code> is returned, refer to <span class="q">"<a href="acfs-advanced-topics.html#GUID-DF2978D3-DA45-451A-AE45-49928CE72E4C">Oracle ACFS Tagging Error Values</a>"</span>.
                        </p>
                        <p>Because Oracle ACFS tag names currently use a fixed value string of <code class="codeph">0</code> (the number zero character with a byte length of one) the <span class="italic"><code class="codeph">value</code></span> is the same for all Oracle ACFS tag name entries. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="acfs-advanced-topics.html#GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F__CHDHCGIG">Example 17-7</a> is an example of the use of the <code class="codeph">acfssettag</code> function call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9D88AC84-F3E1-432B-8907-E6D7647E1B0F__CHDHCGIG">
                        <p class="titleinexample">Example 17-7 Setting file tags</p><pre class="oac_no_warn" dir="ltr">sb8 rc;
size_t size;
const oratext *value ;
const oratext *path= "/mnt/dir1/dir2/file2";
const oratext *tagname = "patch_set_11_1";
value = "0"; /* zero */
size = 1; (byte)
rc = acfssettag (path, tagname, (oratext *)value, size, 0);
If (rc == ACFS_TAG_FAIL)
  /* check errno and GetLastError() to process error returns */</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-8D315D41-69C7-426C-A80A-975849E48AE2" name="GUID-8D315D41-69C7-426C-A80A-975849E48AE2"></a><h3 id="OSTMG-GUID-8D315D41-69C7-426C-A80A-975849E48AE2" class="sect3">Oracle ACFS Diagnostic Commands</h3>
               <div>
                  <p>This topic provides a summary of the Oracle ACFS command-line utilities for diagnostic purposes.</p>
                  <p>Oracle ACFS provides various <code class="codeph">acfsutil</code> command-line utilities for diagnostic purposes. 
                  </p>
                  <div class="infoboxnote" id="GUID-8D315D41-69C7-426C-A80A-975849E48AE2__GUID-C61C3752-06AA-4307-9F00-75E920D9BC34">
                     <p class="notep1">Note:</p>
                     <p>Run the diagnostic commands only when Oracle Support requests diagnostic data for analysis.</p>
                  </div>
                  <p>The following table lists the Oracle ACFS utilities with brief descriptions. </p>
                  <p>For information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
                  </p>
                  <div class="tblformalwide" id="GUID-8D315D41-69C7-426C-A80A-975849E48AE2__SUMMARYOFORACLEACFSDIAGNOSTICCOMMAN-FD1AD3DE">
                     <p class="titleintable">Table 17-8 Summary of Oracle ACFS diagnostic commands</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Summary of Oracle ACFS diagnostic commands" summary="Oracle ACFS summary for diagnostic commands" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d195489e5382">Command</th>
                              <th align="left" valign="bottom" width="63%" id="d195489e5385">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5390" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661">acfsdbg</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5390 d195489e5385 ">
                                 <p>Debugs an Oracle ACFS file system.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5398" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-DD737A51-B4C6-48D6-B848-7A42977BB951">acfsutil blog</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5398 d195489e5385 ">
                                 <p>Writes text to a blog file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5408" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-25D518EB-08FE-4CF5-8205-CA3B5BA74E69">acfsutil dumpstate</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5408 d195489e5385 ">
                                 <p>Collects internal Oracle ACFS state information.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5418" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-AC533641-0F96-44E6-AC2B-FF03166F6FD5">acfsutil log</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5418 d195489e5385 ">
                                 <p>Retrieves memory diagnostic log files and manages debug settings.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5428" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-55DF3528-1671-4FDA-AA98-32CBFD6D8B50">acfsutil meta</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5428 d195489e5385 ">
                                 <p>Copies metadata from an Oracle ACFS file system into a separate output file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5436" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-AB294574-8D84-4AF5-B7AD-B3CD6E27311B">acfsutil plogconfig</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5436 d195489e5385 ">
                                 <p>Manages Oracle ACFS persistent logging configuration settings.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5446" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-3D255F3E-0D7B-4CE4-85A4-B6855506B789">acfsutil tune</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5446 d195489e5385 ">
                                 <p>Modifies or displays Oracle ACFS tunable parameters.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d195489e5454" headers="d195489e5382 ">
                                 <p><a href="acfs-advanced-topics.html#GUID-FA309C15-486B-4A0D-B7A9-70D17798E7DE">advmutil tune</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d195489e5454 d195489e5385 ">
                                 <p>Modifies or displays Oracle ADVM parameters.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="OSTMG95194"></a><a id="OSTMG95195"></a><a id="OSTMG95196"></a><a id="OSTMG95197"></a><a id="OSTMG95198"></a><a id="OSTMG95199"></a><a id="OSTMG95200"></a><a id="OSTMG95193"></a><div class="props_rev_3"><a id="GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661" name="GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661"></a><h4 id="OSTMG-GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661" class="sect4">acfsdbg</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p>Debugs an Oracle ACFS file system.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsdbg [-r] [-l] [-x] <span class="italic">volume_device</span>
acfsdbg -h</pre><p>For information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
                        </p>
                        <p>The following table contains the options available with the <code class="codeph">acfsdbg</code> command.
                        </p>
                        <div class="tblformal" id="GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661__BABIDFBB">
                           <p class="titleintable">Table 17-9 Options for the acfsdbg command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsdbg command" summary="This table lists the options for the acfsdbg command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e5652">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e5655">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e5660" headers="d195489e5652 ">
                                       <p><code class="codeph">-h</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e5660 d195489e5655 ">
                                       <p>Prints out the usage message which displays the various options that are available when invoking the <code class="codeph">acfsdbg</code> command, then exits.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e5671" headers="d195489e5652 ">
                                       <p><code class="codeph">-r</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e5671 d195489e5655 ">
                                       <p>Operates in read-only mode. No data is modified on the file system and all write commands are disabled. If the device is mounted anywhere, <code class="codeph">acfsdbg</code> may not display the latest data because some data is cached by the file system mounts.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e5682" headers="d195489e5652 ">
                                       <p><code class="codeph">-l</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e5682 d195489e5655 ">
                                       <p>Processes kernel log files. The default is to not process the log files.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e5690" headers="d195489e5652 ">
                                       <p><code class="codeph">—x <span class="codeinlineitalic">file_name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e5690 d195489e5655 ">
                                       <p>Specified for accelerator data collected by <code class="codeph">acfsutil meta</code>. Only used for this type of data.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e5703" headers="d195489e5652 ">
                                       <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e5703 d195489e5655 ">
                                       <p>Specifies the device name of the volume. </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>You must be the administrator or a member of the Oracle ASM administrator group to run <code class="codeph">acfsdbg</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Subcommands</p>
                        <p><a href="acfs-advanced-topics.html#GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661__BABDFHCG" title="This table lists the subcommands for the ofsdbg command, along with a description for each option">Table 17-10</a> lists the subcommands of <code class="codeph">acfsdbg</code>.
                        </p>
                        <div class="tblformalwide" id="GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661__BABDFHCG">
                           <p class="titleintable">Table 17-10 Subcommands for acfsdbg</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Subcommands for acfsdbg" summary="This table lists the subcommands for the ofsdbg command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="15%" id="d195489e5739">Option</th>
                                    <th align="left" valign="bottom" width="41%" id="d195489e5742">Description</th>
                                    <th align="left" valign="bottom" width="44%" id="d195489e5745">Syntax</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5750" headers="d195489e5739 ">
                                       <p><code class="codeph">calculate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5750 d195489e5742 ">
                                       <p>Calculates simple arithmetic expressions</p>
                                       <p>Valid operators: +  -  *  /  %  &amp;  |  ^  ~  &lt;&lt;  &gt;&gt;</p>
                                       <p>White space starts a new expression</p>
                                       <p>0-1 represents a negative 1</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5750 d195489e5745 ">
                                       <p><code class="codeph">calculate</code> [<code class="codeph">-v</code>] <code class="codeph">expr</code> […]
                                       </p>
                                       <ul class="simple" style="list-style-type: none;padding-left:0;">
                                          <li><code class="codeph">-v</code> Verbose mode
                                          </li>
                                          <li><code class="codeph">expr</code> Simple 2+2 expression
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5784" headers="d195489e5739 ">
                                       <p><code class="codeph">cksum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5784 d195489e5742 ">
                                       <p>Generates and replaces checksum in header</p>
                                       <p>Header offset can be an expression as used by the <code class="codeph">calculate</code> subcommand
                                       </p>
                                       <p>White space starts a new header offset</p>
                                       <p>Command is disabled in read-only mode</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5784 d195489e5745 ">
                                       <p><code class="codeph">cksum</code> [<code class="codeph">-C</code> | <code class="codeph">-CE</code>] <span class="italic"><code class="codeph">header_offset</code></span> […]
                                       </p>
                                       <ul class="simple" style="list-style-type: none;padding-left:0;">
                                          <li><code class="codeph">-C</code> Regenerate for normal structure checksum
                                          </li>
                                          <li><code class="codeph">-CE</code> Re-generate for Extent structure checksum
                                          </li>
                                          <li><span class="italic"><code class="codeph">header_offset</code></span> Offset of the on disk structure header. The value can be an expression as used by the <code class="codeph">calculate</code> subcommand
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5833" headers="d195489e5739 ">
                                       <p><code class="codeph">close</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5833 d195489e5742 ">
                                       <p>Closes the open handle to the device</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5833 d195489e5745 ">
                                       <p><code class="codeph">close</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5845" headers="d195489e5739 ">
                                       <p><code class="codeph">echo</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5845 d195489e5742 ">
                                       <p>Echoes text on command line to stdout</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5845 d195489e5745 ">
                                       <p><code class="codeph">echo</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5857" headers="d195489e5739 ">
                                       <p><code class="codeph">fenum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5857 d195489e5742 ">
                                       <p>Displays the specified File Entry TAble (FETA) entry</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5857 d195489e5745 ">
                                       <p><code class="codeph">fenum</code> [<code class="codeph">-f</code> | <code class="codeph">-e</code> | <code class="codeph">-d</code>] <span class="italic"><code class="codeph">FETA_entry_number</code></span></p>
                                       <ul class="simple" style="list-style-type: none;padding-left:0;">
                                          <li><code class="codeph">-f</code> Displays all on disk structures related to this structure
                                          </li>
                                          <li><code class="codeph">-e</code> Displays all on disk extent information related to this structure
                                          </li>
                                          <li><code class="codeph">-d</code> Casts the structure as a directory and displays its contents
                                          </li>
                                          <li><span class="italic"><code class="codeph">FETA_entry_number</code></span> The File Entry Table number used to identify a file on the file system
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5900" headers="d195489e5739 ">
                                       <p><code class="codeph">help</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5900 d195489e5742 ">
                                       <p>Displays help message</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5900 d195489e5745 ">
                                       <p><code class="codeph">help</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5912" headers="d195489e5739 ">
                                       <p><code class="codeph">offset</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5912 d195489e5742 ">
                                       <p>Displays structure at disk offset</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5912 d195489e5745 ">
                                       <p><code class="codeph">offset</code> [<code class="codeph">-c cast</code>] [<code class="codeph">-f</code> | <code class="codeph">-d</code>] <span class="italic"><code class="codeph">disk_offset</code></span></p>
                                       <ul class="simple" style="list-style-type: none;padding-left:0;">
                                          <li><code class="codeph">-f</code> Displays all on disk structures related to this structure
                                          </li>
                                          <li><code class="codeph">-d</code> Casts the structure as a directory and displays its contents
                                          </li>
                                          <li><span class="italic"><code class="codeph">disk_offset</code></span> Disk offset to display. The value can be an expression as used by the <code class="codeph">calculate</code> subcommand
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5954" headers="d195489e5739 ">
                                       <p><code class="codeph">open</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5954 d195489e5742 ">
                                       <p>Opens a handle to a device. The default is the volume device name entered on the command line</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5954 d195489e5745 ">
                                       <p><code class="codeph">open</code> [<span class="italic"><code class="codeph">volume_device</code></span>]
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5971" headers="d195489e5739 ">
                                       <p><code class="codeph">primary</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5971 d195489e5742 ">
                                       <p>Sets the context of commands to the primary file system</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5971 d195489e5745 ">
                                       <p><code class="codeph">primary</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e5983" headers="d195489e5739 ">
                                       <p><code class="codeph">prompt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e5983 d195489e5742 ">
                                       <p>Sets the prompt to the specified string</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e5983 d195489e5745 ">
                                       <p><code class="codeph">prompt</code> "<span class="italic"><code class="codeph">prompt_string</code></span>"
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e6000" headers="d195489e5739 ">
                                       <p><code class="codeph">quit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e6000 d195489e5742 ">
                                       <p>Exits the <code class="codeph">acfsdbg</code> debugger command
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e6000 d195489e5745 ">
                                       <p><code class="codeph">quit</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e6016" headers="d195489e5739 ">
                                       <p><code class="codeph">read</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e6016 d195489e5742 ">
                                       <p>Reads value from offset </p>
                                       <p>The default size to read in is 8 bytes</p>
                                       <p>The default count to read is 1</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e6016 d195489e5745 ">
                                       <p><code class="codeph">read</code> [<code class="codeph">-1</code> | <code class="codeph">-2</code> | <code class="codeph">-4</code> | <code class="codeph">-8</code> | <code class="codeph">-s</code>] [<span class="italic"><code class="codeph">count</code></span>] <span class="italic"><code class="codeph">offset</code></span></p>
                                       <ul class="simple" style="list-style-type: none;padding-left:0;">
                                          <li><code class="codeph">-1</code> Read byte value
                                          </li>
                                          <li><code class="codeph">-2</code> Read 2 byte (short) value
                                          </li>
                                          <li><code class="codeph">-4</code> Read 4 byte (int) value
                                          </li>
                                          <li><code class="codeph">-8</code> Read 8 byte (long) value
                                          </li>
                                          <li><code class="codeph">-s</code> Read null- terminated string
                                          </li>
                                          <li><span class="italic"><code class="codeph">count</code></span> Number of values to read. If not specified, the default is 1
                                          </li>
                                          <li><span class="italic"><code class="codeph">offset</code></span> Disk offset to read. The value can be an expression as used by the <code class="codeph">calculate</code> subcommand
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e6090" headers="d195489e5739 ">
                                       <p><code class="codeph">snapshot</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e6090 d195489e5742 ">
                                       <p>Sets the context of commands to the specified snapshot</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e6090 d195489e5745 ">
                                       <p><code class="codeph">snapshot</code> <span class="italic"><code class="codeph">snapshot_name</code></span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d195489e6106" headers="d195489e5739 ">
                                       <p><code class="codeph">write</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d195489e6106 d195489e5742 ">
                                       <p>Writes hexadecimal, octal, or decimal values at the disk offset, estimating how many bytes to write based on value size or number of digits in leading 0 hexadecimal values</p>
                                       <p>The disk offset can be an expression used by the <code class="codeph">calculate</code> subcommand
                                       </p>
                                       <p>Numeric values can also be an expression as used by the <code class="codeph">calculate</code> subcommand
                                       </p>
                                       <p>This command is disabled in read-only mode</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d195489e6106 d195489e5745 ">
                                       <p><code class="codeph">write</code> [<code class="codeph">-1</code> | <code class="codeph">-2</code> | <code class="codeph">-4</code> | <code class="codeph">-8</code> | <code class="codeph">-c</code> | <code class="codeph">-s</code>] [<code class="codeph">-C</code> | <code class="codeph">-CE</code>] <span class="italic"><code class="codeph">offset</code></span> <span class="italic"><code class="codeph">value</code></span></p>
                                       <ul class="simple" style="list-style-type: none;padding-left:0;">
                                          <li><code class="codeph">-1</code> Write byte value
                                          </li>
                                          <li><code class="codeph">-2</code> Write 2 byte (short) value
                                          </li>
                                          <li><code class="codeph">-4</code> Write 4 byte (int) value
                                          </li>
                                          <li><code class="codeph">-8</code> Write 8 byte (long) value
                                          </li>
                                          <li><code class="codeph">-c</code> Write text (no null termination). Enclose string in single-quotes (')
                                          </li>
                                          <li><code class="codeph">-s </code>Write null-terminated string. Enclose string in quotes (")
                                          </li>
                                          <li><code class="codeph">-C</code> Regenerate normal structure checksum
                                          </li>
                                          <li><code class="codeph">-CE</code> Regenerate extent structure checksum
                                          </li>
                                          <li><span class="italic"><code class="codeph">offset</code></span> Disk offset to write. The value can be an expression used by the <code class="codeph">calculate</code> subcommand
                                          </li>
                                          <li><span class="italic"><code class="codeph">value</code></span> The value to write. If numeric, the value can be an expression as used by the <code class="codeph">calculate</code> subcommand
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p><a href="acfs-advanced-topics.html#GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661__BABFEACF">Example 17-8</a> shows the use of the <code class="codeph">acfsdbg</code> subcommand.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A2F6271A-D272-42A8-B75C-CB887B6C3661__BABFEACF">
                        <p class="titleinexample">Example 17-8 Using the acfsdbg command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsdbg /dev/asm/voume1-123
acfsdbg: version                   = 11.2.0.3.0
Oracle ASM Cluster File System (ACFS) On-Disk Structure Version: 39.0
The ACFS volume was created at  Mon Mar  2 14:57:45 2011
acfsdbg&gt; 

acfsbdg&gt; calculate 60*1024
    61,440
    61440
    61440
    0xf000
    0170000
    1111:0000:0000:0000

acfsdbg&gt; prompt "acfsdbg test&gt;"
acfsdbg test&gt;

echo "offset 64*1024" | acfsdbg /dev/asm/volume1-123</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-DD737A51-B4C6-48D6-B848-7A42977BB951" name="GUID-DD737A51-B4C6-48D6-B848-7A42977BB951"></a><h4 id="OSTMG-GUID-DD737A51-B4C6-48D6-B848-7A42977BB951" class="sect4">acfsutil blog</h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p>Writes text to the blog file.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil [-h] blog

acfsutil blog {-t <span class="italic">text</span> | -u} <span class="italic">mount_point</span></pre><p>For information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">blog</code> command.
                        </p>
                        <div class="tblformal" id="GUID-DD737A51-B4C6-48D6-B848-7A42977BB951__OPTIONSFORTHEACFSUTILBLOGCOMMAND-FA1C0D01">
                           <p class="titleintable">Table 17-11 Options for the acfsutil blog command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil blog command" summary="This table lists the options for the acfsutil blog command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e6415">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e6418">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e6423" headers="d195489e6415 ">
                                       <p><code class="codeph">-t <span class="codeinlineitalic">text</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e6423 d195489e6418 ">
                                       <p>Writes text to the blog file at the specified mount point.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e6433" headers="d195489e6415 ">
                                       <p><code class="codeph">-u</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e6433 d195489e6418 ">
                                       <p>Updates blog debug levels from <code class="codeph">dbg</code> file.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e6444" headers="d195489e6415 ">
                                       <p><code class="codeph"><span class="codeinlineitalic">mount_point</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e6444 d195489e6418 ">
                                       <p>Specifies the mount point.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The <code class="codeph">acfsutil</code> <code class="codeph">blog</code> command enables you to write text to a blog file. 
                        </p>
                        <p>.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>The following example illustrates how to run the <code class="codeph">acfsutil</code> <code class="codeph">blog</code> command. Running <code class="codeph">acfsutil</code> <code class="codeph">blog</code> with the <code class="codeph">—h</code> option displays help.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DD737A51-B4C6-48D6-B848-7A42977BB951__GUID-6BB9D4BF-0373-44BC-8FC5-0A214E9A919C">
                        <p class="titleinexample">Example 17-9 Using acfsutil blog</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil -h

$ /sbin/acfsutil -t "this is a blog test" blog my_mount_point

$ /sbin/acfsutil -u blog my_mount_point</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-25D518EB-08FE-4CF5-8205-CA3B5BA74E69" name="GUID-25D518EB-08FE-4CF5-8205-CA3B5BA74E69"></a><h4 id="OSTMG-GUID-25D518EB-08FE-4CF5-8205-CA3B5BA74E69" class="sect4">acfsutil dumpstate</h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p>Collects internal Oracle ACFS state information for diagnosis by Oracle support.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil [-h] dumpstate 
acfsutil dumpstate {<span class="italic">acfs_path</span> | [-d] [-z] [<span class="italic">acfs_path</span>]}</pre><p><code class="codeph">acfsutil</code> <code class="codeph">-h</code> <code class="codeph">dumpstate</code> displays help text and exits.
                        </p>
                        <p>For information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
                        </p>
                        <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">dumpstate</code> command.
                        </p>
                        <div class="tblformal" id="GUID-25D518EB-08FE-4CF5-8205-CA3B5BA74E69__OPTIONSFORTHEACFSUTILDUMPSTATECOMMA-EFC1ADD1">
                           <p class="titleintable">Table 17-12 Options for the acfsutil dumpstate command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil dumpstate command" summary="This table lists the options for the acfsutil dumpstate command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e6686">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e6689">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e6694" headers="d195489e6686 ">
                                       <p><span class="italic"><code class="codeph">acfs_path</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e6694 d195489e6689 ">
                                       <p>Specifies the directory path to an Oracle ACFS file system.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e6703" headers="d195489e6686 ">
                                       <p><code class="codeph">-d</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e6703 d195489e6689 ">
                                       <p>Dump statistics to <code class="codeph">acfs.dumpstats</code> in the current directory.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e6714" headers="d195489e6686 ">
                                       <p><code class="codeph">-z</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e6714 d195489e6689 ">
                                       <p>Clears all current statistics.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The <code class="codeph">acfsutil</code> <code class="codeph">dumpstate</code> command collects internal Oracle ACFS state information for a specified file system. The state information is written to a binary incident file in a logging directory. The binary log incident file is specific to the file system mounted at the specified path. The <code class="codeph">acfs.dumpstats</code> statistics file contains statistics for the entire Oracle ACFS kernel module.
                        </p>
                        <div class="infoboxnote" id="GUID-25D518EB-08FE-4CF5-8205-CA3B5BA74E69__GUID-3BD7E118-A75C-4ED1-9006-C74770E6A08C">
                           <p class="notep1">Note:</p>
                           <p>Run the <code class="codeph">acfsutil</code> <code class="codeph">dumpstate</code> command only when Oracle Support requests diagnostic and debugging data for analysis.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>The following example shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">dumpstate</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-25D518EB-08FE-4CF5-8205-CA3B5BA74E69__GUID-ACC1ABCD-6E94-44BD-9696-E04EC926A979">
                        <p class="titleinexample">Example 17-10 Using the acfsutil dumpstate command</p>
                        <p>The following command execution creates a binary incident file for the specified file system.</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil dumpstate /acfsmounts/acfs1/</pre><p>The following command execution dumps file system statistics and creates a binary incident file for the specified file system.</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil dumpstate -d /acfsmounts/acfs1/</pre><p>The following command execution clears statistics for all file systems.</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil dumpstate -z</pre><p>The following command execution dumps file system statistics, creates a binary incident file, and clears all file system statistics for the specified file system.</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil dumpstate -d -z /acfsmounts/acfs1/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AC533641-0F96-44E6-AC2B-FF03166F6FD5" name="GUID-AC533641-0F96-44E6-AC2B-FF03166F6FD5"></a><h4 id="OSTMG-GUID-AC533641-0F96-44E6-AC2B-FF03166F6FD5" class="sect4">acfsutil log</h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p>Retrieves memory diagnostic log files and manages debug settings.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil [-h] log

acfsutil log [-f <span class="italic">filename</span>] [-s] [-r <span class="italic">n</span>{K|M|G|T|P}] [-p {avd|ofs|oks}] [-l <span class="italic">debuglevel</span>] 
         [-n <span class="italic">consolelevel</span>] [-o <span class="italic">wait_time</span>] [-q] [-c <span class="italic">debugcontext</span>] [-T <span class="italic">file_type</span>] 
         [-m <span class="italic">mount_point</span>] [-a] [-C] [-t]</pre><p>For information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">log</code> command.
                        </p>
                        <div class="tblformal" id="GUID-AC533641-0F96-44E6-AC2B-FF03166F6FD5__OPTIONSFORTHEACFSUTILLOGCOMMAND-FA03B4F7">
                           <p class="titleintable">Table 17-13 Options for the acfsutil log command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil log command" summary="This table lists the options for the acfsutil log command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e6980">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e6983">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e6988" headers="d195489e6980 ">
                                       <p><code class="codeph">-f <span class="codeinlineitalic">filename</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e6988 d195489e6983 ">
                                       <p>Write the in-memory log to the specified file. The default file is <code class="codeph">oks.log</code> in the current directory.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7001" headers="d195489e6980 ">
                                       <p><code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7001 d195489e6983 ">
                                       <p>Shows the size of the in-memory log file.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7009" headers="d195489e6980 ">
                                       <p><code class="codeph">-r <span class="codeinlineitalic">n</span>{K|M|G|T|P}</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7009 d195489e6983 ">
                                       <p>Sets the size of the in-memory log file.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7020" headers="d195489e6980 ">
                                       <p><code class="codeph">-p {avd|ofs|oks}</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7020 d195489e6983 ">
                                       <p>Specifies the product for setting the level or querying settings. The is default all products: Oracle ADVM (<code class="codeph">avd</code>), Oracle ACFS (<code class="codeph">ofs</code>), and Oracle Kernel Services (<code class="codeph">oks</code>) 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7037" headers="d195489e6980 ">
                                       <p><code class="codeph">-l <span class="codeinlineitalic">debuglevel</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7037 d195489e6983 ">
                                       <p>Sets the in-memory debug level. The default debug level is <code class="codeph">2</code>. Valid values are <code class="codeph">0</code>-<code class="codeph">6</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7056" headers="d195489e6980 ">
                                       <p><code class="codeph">-n <span class="codeinlineitalic">consolelevel</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7056 d195489e6983 ">
                                       <p>Sets the debug level for persistent logging . Other persistent log configuration settings are managed by the <code class="codeph">acfsutil</code> <code class="codeph">plogconfig</code> command.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7072" headers="d195489e6980 ">
                                       <p><code class="codeph">-o <span class="codeinlineitalic">wait_time</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7072 d195489e6983 ">
                                       <p>Sets the log size, the debug level, and the product values on all nodes; waits for the number of seconds specified by <span class="italic">wait_time</span>; dumps in the memory log on all nodes; and then resets the debug level and the log size.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7085" headers="d195489e6980 ">
                                       <p><code class="codeph">-q</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7085 d195489e6983 ">
                                       <p>Queries the debug settings for a specified product.</p>
                                       <p>For example: <code class="codeph">acfsutil log —p avd —q</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7097" headers="d195489e6980 ">
                                       <p><code class="codeph">-c <span class="codeinlineitalic">debugcontext</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7097 d195489e6983 ">
                                       <p>Sets the debug context, internal only.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7107" headers="d195489e6980 ">
                                       <p><code class="codeph">-T <span class="codeinlineitalic">file_type</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7107 d195489e6983 ">
                                       <p>Sets the debug file type, internal only.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7117" headers="d195489e6980 ">
                                       <p><code class="codeph">—m <span class="codeinlineitalic">mount_point</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7117 d195489e6983 ">
                                       <p>Specifies to debug only the file system at the specified mount point.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7128" headers="d195489e6980 ">
                                       <p><code class="codeph">-a</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7128 d195489e6983 ">
                                       <p>Resets the debug logging to log for all file systems.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7136" headers="d195489e6980 ">
                                       <p><code class="codeph">-C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7136 d195489e6983 ">
                                       <p>Dumps a memory log on all cluster nodes, and also can be added to <code class="codeph">-t</code> option.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7147" headers="d195489e6980 ">
                                       <p><code class="codeph">-t</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7147 d195489e6983 ">
                                       <p>Dumps all Hang Manager thread information to in-memory and persistent logs.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The <code class="codeph">acfsutil</code> <code class="codeph">log</code> command enables you to manage memory diagnostic log files. With none of the options specified, the <code class="codeph">acfsutil</code> <code class="codeph">log</code> command retrieves and writes the <code class="codeph">./oks.log</code> memory log by default.
                        </p>
                        <p>The <code class="codeph">-o</code> option performs the following:
                        </p>
                        <ol>
                           <li>
                              <p>Sets the log size to <code class="codeph">500M</code> ,  the log level to <code class="codeph">5</code>, and  the product to <code class="codeph">ofs</code> (acfs) for the in-memory log on all nodes
                              </p>
                           </li>
                           <li>
                              <p>Displays an informational message, such as <span class="italic">Blocking for 180 seconds, reproduce problem now</span> 
                              </p>
                           </li>
                           <li>
                              <p>After waiting for the specified number of seconds, then displays <span class="italic">Dumping log on all nodes</span></p>
                           </li>
                           <li>
                              <p>Initiates a clusterwide dump of logs </p>
                           </li>
                           <li>
                              <p>Resets the log level to <code class="codeph">2</code> and resets the log size to the default
                              </p>
                           </li>
                        </ol>
                        <p>The <code class="codeph">-o</code> option can be combined with the -<code class="codeph">p</code>, <code class="codeph">-l,</code> and <code class="codeph">-r</code> options if the default product, debug level, or log size settings should be changed.
                        </p>
                        <p>You must be the <code class="codeph">root</code> user or an Oracle ASM administrator user to run this command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>The following example shows various ways to run the <code class="codeph">acfsutil</code> <code class="codeph">log</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AC533641-0F96-44E6-AC2B-FF03166F6FD5__GUID-348935F7-B6AB-49F1-A264-D7477999478D">
                        <p class="titleinexample">Example 17-11 Using acfsutil log</p><pre class="oac_no_warn" dir="ltr">#increase internal log size to 100Mb
$ acfsutil log -r 100M

#increase log level for acfs to 5
$ acfsutil log -l 5 -p ofs

#increase log level for oks to 5
$ acfsutil log -l 5 -p oks

#collect in memory log and place it into /tmp/logfile
$ acfsutil log -f /tmp/logfile

#put trace level back to default, level 2
$ acfsutil log -l 2 -p ofs
$ acfsutil log -l 2 -p oks

# increase log level to 5, wait 3 seconds, and then automatically dump a log on all nodes, 
# log will be in a dated file in directory specified by acfsutil plog -q
$ acfsutil log -l 5 -o 3
Blocking for 3 seconds, reproduce problem now
Dumping log on all nodes

# dump out the stacks of all acfs threads running on the system on all nodes into log files 
# in the directory specified by acfsutil plog -q
$ acfsutil log -t
$ acfsutil log -C</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-55DF3528-1671-4FDA-AA98-32CBFD6D8B50" name="GUID-55DF3528-1671-4FDA-AA98-32CBFD6D8B50"></a><h4 id="OSTMG-GUID-55DF3528-1671-4FDA-AA98-32CBFD6D8B50" class="sect4">acfsutil meta</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p>Copies metadata from an Oracle ACFS file system into a separate output file.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil meta -h
acfsutil meta  [-v] [-q <span class="italic">nn</span>[K|M|G|T]]  
               [-l <span class="italic">log_file_path</span>] 
               [-o <span class="italic">acfs_extent_offsets</span>]      
               {-f <span class="italic">record_oriented_metadata_output_file</span>} [-a <span class="italic">accel_device</span>] <span class="italic">volume_device</span>

acfsutil meta  {-e <span class="italic">record_oriented_metadata_input_file</span> [-i]}
               {-f <span class="italic">output_filesystem_meta_file_prefix_name</span>}
</pre><p><code class="codeph">acfsutil meta</code> <code class="codeph">-h</code> displays help text and exits.
                        </p>
                        <p>For information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
                        </p>
                        <p>The following table contains the options available with the <code class="codeph">acfsutil meta</code> command.
                        </p>
                        <div class="tblformal" id="GUID-55DF3528-1671-4FDA-AA98-32CBFD6D8B50__OPTIONSFORTHEACFSUTILMETACOMMAND-94FF4D00">
                           <p class="titleintable">Table 17-14 Options for the acfsutil meta command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil meta command" summary="This table lists the options for the acfsutil meta command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d195489e7456">Option</th>
                                    <th align="left" valign="bottom" width="64%" id="d195489e7459">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7464" headers="d195489e7456 ">
                                       <p><code class="codeph">—f <span class="codeinlineitalic">record_oriented_metadata_output_file</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7464 d195489e7459 ">
                                       <p>Specifies the path name of the output file into which the metadata is copied.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7474" headers="d195489e7456 ">
                                       <p><code class="codeph"><span class="codeinlineitalic">volume_device</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7474 d195489e7459 ">
                                       <p>Specifies a volume device name of the file system which is to be copied.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7483" headers="d195489e7456 ">
                                       <p><code class="codeph">—v</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7483 d195489e7459 ">
                                       <p>Specifies verbose mode to generate additional diagnostic messages.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7491" headers="d195489e7456 ">
                                       <p><code class="codeph">—q <span class="codeinlineitalic">nn</span>[K|M|G|T]</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7491 d195489e7459 ">
                                       <p>Invokes the metadata collector in <span class="italic">quick sccan</span> mode. The scanning of the volume stops at the specified size. The number specified must be a positive integer and the value must be at least 200 M.
                                       </p>
                                       <p>The units are K (Kilobytes), M (Megabytes), G (Gigabytes), or T (Terabytes). If the unit indicator is specified, then it must be appended to the integer. If omitted, the default unit is bytes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7507" headers="d195489e7456 ">
                                       <p><code class="codeph">-l</code> <span class="italic"><code class="codeph">log_file_path</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7507 d195489e7459 ">
                                       <p>Specifies the path to the log file. If not specified, the log file is generated in the current directory with a default name of <code class="codeph">acfs.meta.log</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7522" headers="d195489e7456 ">
                                       <p><code class="codeph">—o <span class="codeinlineitalic">acfs_extent_offsets</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7522 d195489e7459 ">
                                       <p>Specifies a list of comma separated file offsets from which the meta collector additionally copies data.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7532" headers="d195489e7456 ">
                                       <p><code class="codeph">—a <span class="codeinlineitalic">accel_device</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7532 d195489e7459 ">
                                       <p>Specifies the location of any associated accelerator device, to be used if the file system is unmountable.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7542" headers="d195489e7456 ">
                                       <p><code class="codeph">—e<span class="codeinlineitalic"> record_oriented_metadata_input_file</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7542 d195489e7459 ">
                                       <p>Expands the specified record-oriented metadata file into files that can be used with <code class="codeph">fsck</code> or <code class="codeph">acfschkdsk</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7558" headers="d195489e7456 ">
                                       <p><code class="codeph">—i</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7558 d195489e7459 ">
                                       <p>The <code class="codeph">-i</code> option with the <span class="italic">-e</span> option lists the metadata record headers (flags, volume, offset, size) for each record-oriented metadata file.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d195489e7572" headers="d195489e7456 ">
                                       <p><code class="codeph">—f<span class="codeinlineitalic"> output_filesystem_meta_file_prefix_name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d195489e7572 d195489e7459 ">
                                       <p>Specifies the path name of the output file from <code class="codeph">—e</code> option operation.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">acfsutil meta</code> command operates as a metadata collector to partially copy an Oracle ACFS file system into a separate specified record-oriented output file. The metadata collector reads the contents of the file system specified by the volume device name of an Oracle ACFS file system. This input file system is searched for Oracle ACFS metadata and then all metadata found is written into the specified record-oriented output file. The generated record-oriented output file can be easily transferred to a another system, where it can expanded for diagnostics and analysis, without impact to the original file system at the customer site.
                        </p>
                        <p>To obtain the best copy of the file system with <code class="codeph">acfsutil meta</code>, unmount the file system before running <code class="codeph">acfsutil meta</code>. If it is not possible to unmount the file system, avoid modifying the contents or performing a volume resizing operation while <code class="codeph">acfsutil meta</code> is running.
                        </p>
                        <p>If the original file system is very large, then the output file can also be very large. Compress the output file when possible to reduce storage space and transmission time.</p>
                        <p>If the file system has an accelerator device associated with it, <code class="codeph">acfsutil meta</code> also copies the accelerator device data into the record-oriented output file. This operation occurs automatically. 
                        </p>
                        <p>In most circumstances, <code class="codeph">acfsutil meta</code> automatically copies the accelerator device into the record-oriented output file. However, if you have think that the meta collector is not able to find the accelerator device on its own, you can specify the name on the command line with the <code class="codeph">-a</code> option. For example, this situation could occur if the file system is corrupt. Note that using the <code class="codeph">-a</code> option overrides how the meta collector operates automatically, so <code class="codeph">-a</code> should be used carefully.
                        </p>
                        <p>The output file should not be placed on the Oracle ACFS device that is specified as the input device because the metadata command might process the output file also. The output file should be placed on a file system that can support an output file which is the size of the Oracle ACFS input volume device. The output file should not need all that storage unless the file system is full and contains all metadata and almost no user data, which is unlikely, but not impossible.</p>
                        <p>The <code class="codeph">-q</code> flag should be used with caution. When <code class="codeph">-q</code> is specified, the meta collector does not scan and copy the entire input file system. Instead, it only scans and copies a predetermined number of bytes and certain data structures which are considered important. The primary use for the <code class="codeph">-q</code> flag is for situations where there is not sufficient time to run the full version of the metadata collector. The <code class="codeph">-q</code> flag should not be used unless it is recommended by the support personnel investigating the problem.
                        </p>
                        <p>Expanding the record-oriented output file should be performed on the system where diagnosis and analyzes is to be performed. For example, the following command expands record-oriented metadata file on another file system that has adequate storage space.</p><pre class="oac_no_warn" dir="ltr">acfsutil meta -e record_oriented_metadata_input_file -f output_filesystem_meta_file_prefix_name</pre><p>The output of the command provides sparse files suitable for use with <code class="codeph">fsck</code> or <code class="codeph">acfschkdsk</code>. If the record oriented metadata input file includes an accelerator volume, a second sparse output file is created using the same output file name prefix with <code class="codeph">.acc</code> suffix appended. The file system used for the expanded files should support sparse files. Otherwise, the resulting expanded files could be extremely large containing useless zeros where sparse holes could be saving space.
                        </p>
                        <p>The <code class="codeph">acfsutil meta</code> expanded output file can be read by the <code class="codeph">fsck</code> command in most cases. However, the Oracle ACFS specific <code class="codeph">fsck</code> command on some OS platforms might not access the output file correctly or might not work with a specified flag. You can use a slightly modified <code class="codeph">fsck</code> command form in these cases. For example:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>On Linux, run the command in this format if you are using the <code class="codeph">—x</code> flag: 
                              </p><pre class="oac_no_warn" dir="ltr">/sbin/fsck.acfs -x filesystem_meta_file.acc filesystem_meta_file</pre></li>
                           <li>
                              <p>On Solaris, run the command in this format if you are using the <code class="codeph">—o</code> <code class="codeph">x</code> flag:
                              </p><pre class="oac_no_warn" dir="ltr">/usr/lib/fs/acfs/fsck -o x=filesystem_meta_file.acc filesystem_meta_file</pre></li>
                           <li>
                              <p>On AIX, run the command in this format:</p><pre class="oac_no_warn" dir="ltr">/sbin/helpers/acfs/fsck filesystem_meta_file</pre></li>
                           <li>
                              <p>On Windows, run the command in this format:</p><pre class="oac_no_warn" dir="ltr">acfschkdsk filesystem_meta_file</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p><a href="acfs-advanced-topics.html#GUID-55DF3528-1671-4FDA-AA98-32CBFD6D8B50__GUID-57019E00-F854-4CF3-B4BC-073B4B04D6AB">Example 17-12</a> shows the use of the <code class="codeph">acfsutil meta</code> command to copy and expand metadata into output files.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-55DF3528-1671-4FDA-AA98-32CBFD6D8B50__GUID-57019E00-F854-4CF3-B4BC-073B4B04D6AB">
                        <p class="titleinexample">Example 17-12 Using the acfsutil meta command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil meta -f /acfsmounts/critical_apps/record_oriented_metadata_file /dev/asm/volume1-123</pre><p>You can then expand the output file on the system where diagnostics and analysis are performed.</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil meta -e record_oriented_metadata_file -f filesystem_meta_file</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AB294574-8D84-4AF5-B7AD-B3CD6E27311B" name="GUID-AB294574-8D84-4AF5-B7AD-B3CD6E27311B"></a><h4 id="OSTMG-GUID-AB294574-8D84-4AF5-B7AD-B3CD6E27311B" class="sect4">acfsutil plogconfig</h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p>Manages Oracle ACFS persistent logging configuration settings.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil plogconfig [-h] [-d <span class="italic">persistent_log_directory</span>] [-t] [-q ] [-i <span class="italic">seconds</span>] 
                    [-s <span class="italic">buffer_size</span>] [-l <span class="italic">low_water_percent</span>] [-u <span class="italic">high_water_percent</span>] 
                    [-m <span class="italic">max_logfile_size</span>] [-n <span class="italic">max_logfile_number</span>]
</pre><p><code class="codeph">acfsutil</code> <code class="codeph">-h</code> <code class="codeph">plogconfig</code> displays help and exits.
                        </p>
                        <p>For information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
                        </p>
                        <p></p>
                        <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">plogconfig</code> command.
                        </p>
                        <div class="tblformal" id="GUID-AB294574-8D84-4AF5-B7AD-B3CD6E27311B__OPTIONSFORTHEACFSUTILPLOGCONFIGCOMM-004317CC">
                           <p class="titleintable">Table 17-15 Options for the acfsutil plogconfig command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil plogconfig command" summary="This table lists the options for the acfsutil plogconfig command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e7932">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e7935">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7940" headers="d195489e7932 ">
                                       <p><code class="codeph">-d <span class="codeinlineitalic">persistent_log_directory</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7940 d195489e7935 ">
                                       <p>Specifies an alternative logging directory. If not specified, the default directory is <code class="codeph">$ORACLE_BASE/crsdata/<span class="codeinlineitalic">hostname</span>/acfs</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7956" headers="d195489e7932 ">
                                       <p><code class="codeph">-t</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7956 d195489e7935 ">
                                       <p>Terminates logging.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7964" headers="d195489e7932 ">
                                       <p><code class="codeph">-q </code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7964 d195489e7935 ">
                                       <p>Queries for and then displays the persistent logging configuration settings.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7972" headers="d195489e7932 ">
                                       <p><code class="codeph">-i <span class="codeinlineitalic">seconds</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7972 d195489e7935 ">
                                       <p>Specifies the number of seconds for the interval timer.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7982" headers="d195489e7932 ">
                                       <p><code class="codeph">-s <span class="codeinlineitalic">buffer_size</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7982 d195489e7935 ">
                                       <p>Sets the log buffer size in kilobytes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e7992" headers="d195489e7932 ">
                                       <p><code class="codeph">-l <span class="codeinlineitalic">low_water_pecent</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e7992 d195489e7935 ">
                                       <p>Sets the file write trigger as a percentage.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e8002" headers="d195489e7932 ">
                                       <p><code class="codeph">-u <span class="codeinlineitalic">high_water_pecent</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e8002 d195489e7935 ">
                                       <p>Sets the file write throttle as a percentage.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e8012" headers="d195489e7932 ">
                                       <p><code class="codeph">-m <span class="codeinlineitalic">max_logfile_size</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e8012 d195489e7935 ">
                                       <p>Sets the maximum log file size in megabytes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e8022" headers="d195489e7932 ">
                                       <p><code class="codeph">-n <span class="codeinlineitalic">max_logfile_number</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e8022 d195489e7935 ">
                                       <p>Sets the maximum number of log files.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The <code class="codeph">acfsutil</code> <code class="codeph">plogconfig</code> command provides a diagnostic tool to manage configuration settings for persistent logging. 
                        </p>
                        <p>All command arguments are optional, but at least one argument must be specified.</p>
                        <div class="infoboxnote" id="GUID-AB294574-8D84-4AF5-B7AD-B3CD6E27311B__GUID-7755953C-AA87-45B5-910A-38915A1A5D3E">
                           <p class="notep1">Note:</p>
                           <p>Run the <code class="codeph">acfsutil</code> <code class="codeph">plogconfig</code> command only when Oracle Support requests configuration of persistent logging settings.
                           </p>
                        </div>
                        <p>You must be the <code class="codeph">root</code> user or an Oracle ASM administrator user to run this command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>The following example illustrates the use of the <code class="codeph">acfsutil</code> <code class="codeph">plogconfig</code> command to display the current configuration settings.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AB294574-8D84-4AF5-B7AD-B3CD6E27311B__GUID-12EBA477-4474-4282-BF1F-91DEA278CFF3">
                        <p class="titleinexample">Example 17-13 Using the Oracle ACFS acfsutil plogconfig command</p><pre class="oac_no_warn" dir="ltr"># /sbin/acfsutil plogconfig -q

Log Directory Name : /oracle/crsdata/my_host/acfs 
Buffer Size (KB) : 64
Low Water Level (percent) : 50
High Water Level (percent) : 75
Timer Interval (Seconds) : 5
Maximum Number of Log Files : 10
Maximum Log File Size (MB) : 100</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OSTMG95258"></a><a id="OSTMG95259"></a><a id="OSTMG95260"></a><a id="OSTMG95261"></a><a id="OSTMG95262"></a><a id="OSTMG95257"></a><div class="props_rev_3"><a id="GUID-3D255F3E-0D7B-4CE4-85A4-B6855506B789" name="GUID-3D255F3E-0D7B-4CE4-85A4-B6855506B789"></a><h4 id="OSTMG-GUID-3D255F3E-0D7B-4CE4-85A4-B6855506B789" class="sect4">acfsutil tune</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p>The <code class="codeph">acfsutil</code> <code class="codeph">tune</code> command displays or sets the value of Oracle ACFS tunable parameters.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil tune -h
acfsutil tune [<span class="italic">tunable_name</span>]
acfsutil tune <span class="italic">tunable_name</span>=<span class="italic">value</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">tune</code> <code class="codeph">-h</code> displays help text and exits.
                        </p>
                        <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">tune</code> command.
                        </p>
                        <div class="tblformal" id="GUID-3D255F3E-0D7B-4CE4-85A4-B6855506B789__BABHJGIC">
                           <p class="titleintable">Table 17-16 Options for the acfsutil tune command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil tune command" summary="This table lists the options for the ofsutil tune command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e8277">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e8280">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e8285" headers="d195489e8277 ">
                                       <p><span class="italic"><code class="codeph">tunable_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e8285 d195489e8280 ">
                                       <p>Specifies the name of the tunable parameter. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e8294" headers="d195489e8277 ">
                                       <p><span class="italic"><code class="codeph">value</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e8294 d195489e8280 ">
                                       <p>Specifies the value for a tunable parameter.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If a tunable parameter and value are specified, the <code class="codeph">acfsutil</code> <code class="codeph">tune</code> command sets the value of the tunable parameter in a persistent manner on a particular node. 
                        </p>
                        <p>If a tunable parameter is specified without a value, the <code class="codeph">acfsutil</code> <code class="codeph">tune</code> command displays the value that is currently assigned to the specified tunable parameter.
                        </p>
                        <p>If no options are specified, the <code class="codeph">acfsutil</code> <code class="codeph">tune</code> command displays the tunable parameter values that are currently assigned.
                        </p>
                        <p>The Oracle ACFS tunable parameter <code class="codeph">AcfsMaxOpenFiles</code> limits the number of open Oracle ACFS files on Windows and AIX. Normally you do not have to change the value of this tunable parameter; however, you may want to consider increasing the value if you have a large working set of files in your Oracle ACFS file systems.
                        </p>
                        <p>The Oracle ACFS tunable parameter <code class="codeph">AcfsMaxCachedFiles</code> sets the maximum number of closed files that remain cached in memory on Windows and AIX. Normally you do not have to change value of this tunable parameter; however, you many to consider changing the value to get better performance.
                        </p>
                        <p>Changing a tunable parameter has an immediate effect and persists across restarts. </p>
                        <p>You must be a root user or the Windows <code class="codeph">Administrator</code> to change the value of a tunable parameter.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>The first command displays Oracle ACFS tunable parameters with their values. The second command changes the value of the <code class="codeph">AcfsHMTimeOutIntervalSecs</code> parameter.
                        </p>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3D255F3E-0D7B-4CE4-85A4-B6855506B789__GUID-090F5F11-0A5B-426C-BFE9-8D2C59CDC241">
                        <p class="titleinexample">Example 17-14 Using the acfsutil tune command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil tune
AcfsHMTimeOutIntervalSecs   = 60 (0x3c)
AcfsHMSilenceIntervalMins   = 240 (0xf0)

# /sbin/acfsutil tune AcfsHMTimeOutIntervalSecs=120</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OSTMG95270"></a><a id="OSTMG95271"></a><a id="OSTMG95272"></a><a id="OSTMG95273"></a><a id="OSTMG95274"></a><a id="OSTMG95269"></a><div class="props_rev_3"><a id="GUID-FA309C15-486B-4A0D-B7A9-70D17798E7DE" name="GUID-FA309C15-486B-4A0D-B7A9-70D17798E7DE"></a><h4 id="OSTMG-GUID-FA309C15-486B-4A0D-B7A9-70D17798E7DE" class="sect4">advmutil tune</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3">Purpose</p>
                        <p><code class="codeph">advmutil</code> <code class="codeph">tune</code> displays or sets the value of an Oracle ADVM parameter. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">advmutil -h
advmutil tune [<span class="italic">parameter</span>]
advmutil tune <span class="italic">parameter</span>=<span class="italic">value</span></pre><p><code class="codeph">advmutil</code> <code class="codeph">-h</code> displays help text and exits.
                        </p>
                        <p>The following table contains the options available with the <code class="codeph">advmutil</code> <code class="codeph">tune</code> command.
                        </p>
                        <div class="tblformal" id="GUID-FA309C15-486B-4A0D-B7A9-70D17798E7DE__BABDJACJ">
                           <p class="titleintable">Table 17-17 Options for the advmutil tune command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the advmutil tune command" summary="This table lists the options for the advmutil tune command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d195489e8553">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d195489e8556">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e8561" headers="d195489e8553 ">
                                       <p><span class="italic"><code class="codeph">parameter</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e8561 d195489e8556 ">
                                       <p>Specifies the parameter for which you want to set or display the value. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d195489e8570" headers="d195489e8553 ">
                                       <p><span class="italic"><code class="codeph">value</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d195489e8570 d195489e8556 ">
                                       <p>Specifies the value of the specified parameter.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If no options are specified, the <code class="codeph">advmutil</code> <code class="codeph">tune</code> command displays the parameter values that are currently assigned. 
                        </p>
                        <p>If a parameter is specified without a value, the <code class="codeph">advmutil</code> <code class="codeph">tune</code> command displays the value that is currently assigned to the specified parameter. 
                        </p>
                        <p>You must be a privileged user to set a parameter.</p>
                        <div class="infoboxnote" id="GUID-FA309C15-486B-4A0D-B7A9-70D17798E7DE__GUID-4A0FCF7F-C166-4401-9127-CB6C6955F0F4">
                           <p class="notep1">Note:</p>
                           <p>Parameters should be set with caution and usually only by Oracle Support Services.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>A parameter that can be specified with <code class="codeph">advmutil</code> <code class="codeph">tune</code> is the maximum time in minutes for the deadlock timer (<code class="codeph">deadlock_timer</code>). The first command in the example changes the maximum time in minutes for the <code class="codeph">deadlock_timer</code> parameter. The second command displays the current settings of the Oracle ADVM parameters.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FA309C15-486B-4A0D-B7A9-70D17798E7DE__GUID-96854332-15C1-4AB8-BCD7-B7D4A6367C14">
                        <p class="titleinexample">Example 17-15 Using advmutil tune</p><pre class="oac_no_warn" dir="ltr">$ /sbin/advmutil tune deadlock_timer=20

$ /sbin/advmutil tune
deadlock_timer        = 20 (0x14)
resilver_power        = 8 (0x8)
resilver_regio        = 32 (0x20)
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="OSTMG35600"></a><div class="props_rev_3"><a id="GUID-0FF80BDD-F735-4448-B1D5-A40A6E283F32" name="GUID-0FF80BDD-F735-4448-B1D5-A40A6E283F32"></a><h3 id="OSTMG-GUID-0FF80BDD-F735-4448-B1D5-A40A6E283F32" class="sect3">Understanding Oracle ACFS I/O Failure Console Messages</h3>
               <div>
                  <p>Oracle ACFS logs information for I/O failures in the operating-specific system event log. </p>
                  <p>A console message has the following format:</p><pre class="oac_no_warn" dir="ltr">[Oracle ACFS]: I/O failure (<span class="italic"><span class="bold">error_code</span></span>) with device <span class="italic"><span class="bold">device_name</span></span> during a <span class="italic"><span class="bold">operation_name</span></span> <span class="italic"><span class="bold">op_type</span></span>.
<span class="italic"><span class="bold">file_entry_num</span></span> Starting offset: <span class="italic"><span class="bold">offset</span></span>. Length of data transfer: <span class="italic"><span class="bold">io_length</span></span> bytes.
Impact: <span class="italic"><span class="bold">acfs_type</span></span>   Object: <span class="italic"><span class="bold">object_type</span></span>   Oper.Context: <span class="italic"><span class="bold">operation_context</span></span> 
Snapshot?: <span class="italic"><span class="bold">yes_or_no</span></span> AcfsObjectID: <span class="italic"><span class="bold">acfs_object_id</span></span> . Internal ACFS Location: <span class="italic"><span class="bold">code_location</span></span>.
</pre><p>The italicized variables in the console message syntax correspond to the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>I/O failure</p>
                        <p>The operating system-specific error code, in Hex, seen by Oracle ACFS for a failed I/O. This may indicate a hardware problem, or it might indicate a failure to initiate the I/O for some other reason.</p>
                     </li>
                     <li>
                        <p>Device</p>
                        <p>The device involved, usually the ADVM device file, but under some circumstances it might be a string indicating the device minor number</p>
                     </li>
                     <li>
                        <p>Operation name</p>
                        <p>The kind of operation involved: </p>
                        <p><code class="codeph">user</code> <code class="codeph">data</code>, <code class="codeph">metadata</code>, or <code class="codeph">paging</code></p>
                     </li>
                     <li>
                        <p>Operation type</p>
                        <p>The type of operation involved: </p>
                        <p> <code class="codeph">synch</code> <code class="codeph">read</code>, <code class="codeph">synch</code> <code class="codeph">write</code>, <code class="codeph">asynch</code> <code class="codeph">read</code>, or <code class="codeph">asynch</code> <code class="codeph">write</code></p>
                     </li>
                     <li>
                        <p>File entry number</p>
                        <p>The Oracle ACFS File entry number of the file system object involved, as a decimal number. The <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">fileid</code> tool finds the corresponding file name.
                        </p>
                     </li>
                     <li>
                        <p>Offset</p>
                        <p>The disk offset of the I/O, as a decimal number.</p>
                     </li>
                     <li>
                        <p>Length of I/O</p>
                        <p>The length of the I/O in bytes, as decimal number.</p>
                     </li>
                     <li>
                        <p>File system object impacted</p>
                        <p>An indication that the file system object involved is either node-local, or is a resource accessed clusterwide. For example:</p>
                        <p><code class="codeph">Node</code> or <code class="codeph">Cluster</code></p>
                     </li>
                     <li>
                        <p>Type of object impacted</p>
                        <p>A string indicating the kind of file system object involved, when possible. For example:</p>
                        <p><code class="codeph">Unknown</code>, <code class="codeph">User</code> <code class="codeph">Dir.</code>, <code class="codeph">User</code> <code class="codeph">Symlink</code>, <code class="codeph">User</code> <code class="codeph">File</code>, <code class="codeph">Sys.Dir</code>, <code class="codeph">Sys.File</code>, or <code class="codeph">MetaData</code> 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">Sys.Dir.</code></p>
                              <p>Oracle ACFS-administered directory within the visible namespace</p>
                           </li>
                           <li>
                              <p><code class="codeph">sys.File</code></p>
                              <p>Oracle ACFS-administered file within the visible namespace</p>
                           </li>
                           <li>
                              <p><code class="codeph">MetaData</code></p>
                              <p>Oracle ACFS-administered resources outside of the visible namespace</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Operational context</p>
                        <p>A higher-level view of what code context was issuing the I/O. This is for use by Oracle Support Services. For example:</p>
                        <p> <code class="codeph">Unknown</code>, <code class="codeph">Read</code>, <code class="codeph">Write</code>, <code class="codeph">Grow</code>, <code class="codeph">Shrink</code>, <code class="codeph">Commit</code>, or <code class="codeph">Recovery</code></p>
                     </li>
                     <li>
                        <p>Snapshot</p>
                        <p>An indication of whether, if possible to determine, the data involved was from a Snapshot. For example:</p>
                        <p> <code class="codeph">Yes</code>, <code class="codeph">No</code>, or <code class="codeph">?</code></p>
                     </li>
                     <li>
                        <p>Object type of the file system</p>
                        <p>An internal identifier for the type of file system object. For use by Oracle Support Services.</p>
                     </li>
                     <li>
                        <p>Location of the code</p>
                        <p>An internal identifier of the code location issuing this message. For use by Oracle Support Services.</p>
                     </li>
                  </ul>
                  <p>The following is an example from <code class="codeph">/var/log/messages</code> in a Linux environment:
                  </p><pre class="oac_no_warn" dir="ltr">[Oracle ACFS]: I/O failure (0xc0000001) with device /dev/sdb during a metadata synch write .
Fenum Unknown. Starting offset: 67113984. Length of data transfer: 2560 bytes.
Impact: Node   Object: MetaData   Oper.Context: Write
Snapshot?: ?  AcfsObjectID: 8  . Internal ACFS Location: 5 . 
</pre><p></p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>