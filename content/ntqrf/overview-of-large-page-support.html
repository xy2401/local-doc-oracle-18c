<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Large page support is a feature of Oracle Database.">
      <meta name="description" content="Large page support is a feature of Oracle Database.">
      <title>Overview of Large Page Support</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Reference ">
      <meta property="og:description" content="Large page support is a feature of Oracle Database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Reference for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="administrators-reference-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-08-02T05:05:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83889-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="overview-of-windows-tuning.html" title="Previous" type="text/html">
      <link rel="next" href="about-reducing-priority-of-foreground-applications-on-server-console.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Administrator's Reference Guide for Microsoft Windows">
    <meta name="dcterms.isVersionOf" content="NTQRF">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-of-windows-tuning.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="about-reducing-priority-of-foreground-applications-on-server-console.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tuning-windows-to-optimize-oracle-database.html" property="item" typeof="WebPage"><span property="name"> Tuning Windows to Optimize Oracle Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Overview of Large Page Support</li>
            </ol>
            <a id="GUID-2D68244B-7223-482A-BE5D-E410ABDB674C" name="GUID-2D68244B-7223-482A-BE5D-E410ABDB674C"></a><a id="NTQRF262"></a>
            
            <h2 id="NTQRF-GUID-2D68244B-7223-482A-BE5D-E410ABDB674C" class="sect2">Overview of Large Page Support</h2>
         </header>
         <div class="ind">
            <div>
               <p>Large page support is a feature of Oracle Database.</p>
               <p>It provides a performance boost for memory-intensive database instances running on Windows Server. By taking advantage of newly introduced operating system support, Oracle Database can now make more efficient use of processor memory addressing resources. Specifically, when large page support is enabled, the CPUs in the system access the Oracle Database buffers in RAM more quickly. Instead of addressing the buffers in 4KB increments, the CPUs are told to use 2 MB page sizes in Physical Address Extension (PAE) mode and 4MB page sizes in non-PAE mode when addressing the database buffers.</p>
               <p>This feature is particularly useful when the Oracle buffer cache is several gigabytes. Smaller-sized configurations still see a gain when using large pages, but the gain will not be as great as when the database is accessing large amounts of memory.</p>
               <p>If the service is running as a user instead of the default <code class="codeph">SYSTEM</code> user, then the administrator must grant the "Lock pages in memory" privilege to the user. This privilege is not enabled by default when Windows is installed.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="overview-of-large-page-support.html#GUID-BB07FA26-815E-484C-B51F-A9E496FCFC6B">Granting Lock Pages in Memory Privilege</a><br>Use this procedure to grant lock pages in memory privilege.
                  </li>
                  <li class="ulchildlink"><a href="overview-of-large-page-support.html#GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA">Enabling Large Page Support</a><br>To take advantage of large pages, the amount of physical memory must be greater than the amount of System Global Area (SGA) specified in the parameter file. 
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="tuning-windows-to-optimize-oracle-database.html#GUID-96A8EB63-3311-43EF-94D1-AC4BF500AEA7">Tuning Windows to Optimize Oracle Database</a></p>
                  </div>
               </div>
            </div>
            <a id="NTQRF718"></a><div class="props_rev_3"><a id="GUID-BB07FA26-815E-484C-B51F-A9E496FCFC6B" name="GUID-BB07FA26-815E-484C-B51F-A9E496FCFC6B"></a><h3 id="NTQRF-GUID-BB07FA26-815E-484C-B51F-A9E496FCFC6B" class="sect3">Granting Lock Pages in Memory Privilege</h3>
               <div>
                  <p>Use this procedure to grant lock pages in memory privilege.</p>
                  <div class="section">
                     <p> To grant<code class="codeph">SeLockMemoryPrivilege</code> , perform the following steps:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>From the <span class="bold">Start </span>menu, select <span class="bold">Control Panel</span>.</span><div>
                           <p>The Control Panel window opens.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Double-click <span class="bold">Administrative Tools</span>.</span><div>
                           <p>The Administrative Tools window opens.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Double-click <span class="bold">Local Security Policy</span>.</span><div>
                           <p>The Local Security Policy window opens.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>In the left pane of the Local Security Policy window, expand <span class="bold">Local Policies</span> and select <span class="bold">User Rights Assignment</span>.</span></li>
                     <li class="stepexpand"><span>In the right pane of the Local Security Policy window, double-click <span class="bold">Lock pages in memory</span>.</span><div>
                           <p>The Lock pages in memory Properties window opens.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Click <span class="bold">Add User or Group.</span></span><div>
                           <p>The Select Users, Computers, Service Accounts, or Groups dialog box opens.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Enter Oracle Home User name in <span class="bold">Enter the object names to select</span> field and click <span class="bold">Check Names</span>.</span><div></div>
                     </li>
                     <li class="stepexpand"><span>Click <span class="bold">OK</span> to close the Select Users, Computers, Service Accounts, or Groups dialog box.</span></li>
                     <li class="stepexpand"><span>Click <span class="bold">OK</span> to close the Lock pages in memory Properties window.</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-large-page-support.html#GUID-2D68244B-7223-482A-BE5D-E410ABDB674C" title="Large page support is a feature of Oracle Database.">Overview of Large Page Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NTQRF719"></a><div class="props_rev_3"><a id="GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA" name="GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA"></a><h3 id="NTQRF-GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA" class="sect3">Enabling Large Page Support</h3>
               <div>
                  <p>To take advantage of large pages, the amount of physical memory must be greater than the amount of System Global Area (SGA) specified in the parameter file. </p>
                  <div class="section">
                     <p>Large pages might not be allocated always during instance startup. Large pages are supported in 2 modes:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Regular mode: All of the SGA is attempted to be allocated in large pages. If the required amount of large pages are not available, then the instance does not come up.</p>
                        </li>
                        <li>
                           <p>Mixed mode: All of the SGA is attempted to be allocated in large pages. If no more large pages are available, then the subsequent allocations are done using regular pages. So the SGA allocation can be a mixed set of large pages and regular pages.</p>
                           <p>The mixed mode also supports a time parameter (in <code class="codeph">msecs</code>). If a large page allocation took more time than the msecs specified by this time parameter, then subsequent allocations are made using regular pages. This parameter is helpful when the database startup time might be too long due to the entire SGA being allocated using large pages.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA__GUID-3F3EEEC7-1B08-4D4D-BC07-3F1740ED2845">
                        <p class="notep1">Note:</p>
                        <p>In regular mode, large page usage locks the entire SGA into physical memory. Physical memory is not released during a shrink operation. In mixed mode, only the large pages from the SGA are locked in physical memory, not released during a shrink operation and regular pages remain pageable.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA__GUID-0BBE189A-94A6-48B1-9D74-149CAC1483F0">
                        <p class="notep1">See Also:</p>
                        <p>Your operating system documentation for restrictions on allocating large pages</p>
                     </div>
                     <p>To enable large page support:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Go to the directory <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\bin\oracle.key</code>.</span></li>
                     <li class="stepexpand"><span>Open the <code class="codeph">oracle.key</code> in a text editor and record the value found. It is set by Oracle Universal Installer. The default is:</span><div><pre class="oac_no_warn" dir="ltr">SOFTWARE\ORACLE\KEY_<span class="italic">HOMENAME</span>
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Start Registry Editor at the command prompt:</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; regedit
</pre><div class="infoboxnote" id="GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA__GUID-53F04E06-BEB7-45AB-B1A4-C47477D8C8F6">
                              <p class="notep1">Note:</p>
                              <p>Although Registry Editor lets you view and modify registry keys and parameter values, you usually are not required to do so. In fact, you can render your system useless if you make incorrect changes. Therefore, only advanced users must edit the registry. Back up your system before making any changes in the registry.</p>
                              <p><code class="codeph">oracle.key</code> file must not be modified or removed. Oracle binaries open it to determine the location in the registry where their variables are stored.
                              </p>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Go to the <code class="codeph">HKEY_LOCAL_MACHINE</code> file.</span><div>
                           <p>Locate the key corresponding to the value found in the <code class="codeph">oracle.key</code> file. In the default case, for example, locate:
                           </p><pre class="oac_no_warn" dir="ltr">HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\KEY_<span class="italic">HOMENAME</span>
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Create <span class="italic">one</span> of the following, depending on where you want to enable large page support: </span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">ORA_LPENABLE</code> to enable large page support on all instances. Its value decides the mode of large pages for all Oracle database instances on the computer.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ORA_</code><span class="italic"><code class="codeph">SID</code></span><code class="codeph">_LPENABLE</code> to enable large page support on a specific instance. Its value decides the mode of large pages for the specific database instance.
                                 </p>
                                 <p>Set the value of the above registry entry to <code class="codeph">1</code> for regular mode and <code class="codeph">2</code> for mixed mode.
                                 </p>
                                 <p>The time parameter for mixed mode is optional. To specify this time parameter which is instance specific, create <code class="codeph">ORA_</code><span class="italic"><code class="codeph">SID</code></span><code class="codeph">_LPMAXTIME</code> and set the value to the desired number of millisecs.
                                 </p>
                                 <p>When this time parameter is specified for an instance and the large pages allocation takes more than the specified millisecs, then the rest of the SGA is allocated using regular pages.</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Exit Registry Editor.</span></li>
                  </ol>
                  <div class="section">
                     <p>By default, Oracle allocates the minimum available large page size when using large pages. The minimum available large page size, 16 MB, is obtained by using the <code class="codeph">GetLargePageMinumum</code> function.
                     </p>
                     <div class="infoboxnote" id="GUID-67160C0D-11BC-4364-ABAE-7B83845AE1BA__GUID-E5775AD4-512B-4293-961C-F33AAE003A9D">
                        <p class="notep1">Note:</p>
                        <p>Do not set the initialization parameter <code class="codeph">lock_sga</code> when large pages are enabled. Large page usage locks the entire SGA into physical memory. When used with the parameter <code class="codeph">lock_sga</code>, database startup fails with an error because the operating system automatically locks. That is, it prevents memory from being paged to disk when large pages are requested. Physical memory is not released during a shrink operation.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-large-page-support.html#GUID-2D68244B-7223-482A-BE5D-E410ABDB674C" title="Large page support is a feature of Oracle Database.">Overview of Large Page Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>