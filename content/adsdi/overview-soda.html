<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Simple Oracle Document Access (SODA) is a set of NoSQL-style APIs that let you create and store collections of documents (in particular JSON) in Oracle Database, retrieve them, and query them, without needing to know Structured Query Language (SQL) or how the documents are stored in the database.">
      <meta name="description" content="Simple Oracle Document Access (SODA) is a set of NoSQL-style APIs that let you create and store collections of documents (in particular JSON) in Oracle Database, retrieve them, and query them, without needing to know Structured Query Language (SQL) or how the documents are stored in the database.">
      <title>Overview of SODA</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Introduction to Simple Oracle Document Access (SODA)">
      <meta property="og:description" content="Simple Oracle Document Access (SODA) is a set of NoSQL-style APIs that let you create and store collections of documents (in particular JSON) in Oracle Database, retrieve them, and query them, without needing to know Structured Query Language (SQL) or how the documents are stored in the database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Introduction to Simple Oracle Document Access (SODA)">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-introduction-simple-oracle-document-access-soda.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-08-08T13:35:44-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E86033-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="changes-soda.html" title="Previous" type="text/html">
      <link rel="next" href="overview-soda-filter-specifications-qbes.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Introduction to Simple Oracle Document Access (SODA)">
    <meta name="dcterms.isVersionOf" content="ADSDI">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="changes-soda.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="overview-soda-filter-specifications-qbes.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Introduction to Simple Oracle Document Access (SODA)</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Overview of SODA</li>
            </ol>
            <a id="GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB" name="GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB"></a>
            
            <h2 id="ADSDI-GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB" class="sect2"><span class="enumeration_chapter">1 </span>Overview of SODA
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='overview-soda'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p><strong class="term">Simple Oracle Document Access</strong> (<strong class="term">SODA</strong>) is a set of NoSQL-style APIs that let you create and store collections of documents (in particular JSON) in Oracle Database, retrieve them, and query them, without needing to know Structured Query Language (SQL) or how the documents are stored in the database.
               </p>
               <div class="section">
                  <p>There are separate SODA implementations for use with different languages and with the representational state transfer (<strong class="term">REST</strong>) architectural style. SODA for REST can itself be accessed from almost any programming language. It maps SODA operations to Uniform Resource Locator (<strong class="term">URL</strong>) patterns.
                  </p>
                  <div class="infoboxnote" id="GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB__GUID-08326D27-4874-49C6-B158-7D521E1FD6B5">
                     <p class="notep1">Note:</p>
                     <p>This book describes the features that are present in different SODA implementations. Some features described here may not be available for some implementations. In addition, different implementations can have different ways of providing some of the features. Please refer to the documentation for a particular implementation for detailed information about it.</p>
                  </div>
                  <p>SODA APIs are <span class="italic">document-centric</span>. You can use any SODA implementation to perform create, read, update, and delete (<strong class="term">CRUD</strong>) operations on documents of nearly any kind (including video, image, sound, and other binary content). You can also use any SODA implementation to query the content of JavaScript Object Notation (<strong class="term">JSON</strong>) documents using pattern-matching: query-by-example (QBE). CRUD operations can be driven by document keys or by QBEs.
                  </p>
                  <p>Oracle Database supports storing and querying JSON data natively. SODA document collections are backed by ordinary database tables and views. Because of this, you can take advantage of database features for use with the content of SODA documents.</p>
                  <p>But you do <span class="italic">not</span> need knowledge of SQL, or database administrator (DBA) assistance, to develop or deploy a SODA application. SODA CRUD and query operations are automatically mapped to SQL operations on the underlying database tables or views, and these operations are optimized. 
                  </p>
                  <p>The SQL standard defines a set of SQL/JSON operators that allow direct querying of JSON data. Database <span class="italic">views</span> based on these operators provide schema-on-read behavior that is immune to changes in the structure of your documents. If needed, developers with SQL knowledge can use SQL/JSON to perform advanced operations on your SODA data that make full use of the database. For example, a SQL developer can apply database analytics and reporting to your JSON data, and can include it in aggregation and join operations that involve other data. In addition, your SODA applications can use database <span class="italic">transactions</span>.
                  </p>
                  <p>These SODA abstractions hide the complexities of SQL and client programming:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Collection</p>
                     </li>
                     <li>
                        <p>Document</p>
                     </li>
                  </ul>
                  <p>A document <strong class="term">collection</strong> contains <strong class="term">documents</strong>. Collections are persisted in an Oracle Database <strong class="term">schema</strong> (also known as a database <strong class="term">user</strong>). In some SODA implementations a database schema is referred to as a SODA <strong class="term">database</strong>.
                  </p>
                  <p>A SODA <span class="italic">collection</span> is analogous to an Oracle Database <span class="italic">table</span> or <span class="italic">view</span>. 
                  </p>
                  <p>SODA is designed primarily for working with JSON documents, but a document can be of any Multipurpose Internet Mail Extensions (MIME) type.</p>
                  <p>In addition to its content, a document has other <strong class="term">document components</strong>, including a unique identifier, called its <strong class="term">key</strong>, a version, a media type (type of content), and the date and time that it was created and last modified. The key is typically assigned by SODA when a document is created, but client-assigned keys can also be used. Besides the content and key (if client-assigned), you can set the media type of a document. The other components are generated and maintained by SODA. All components other than content and key are optional.
                  </p>
                  <p>A SODA <span class="italic">document</span> is analogous to, and is in fact backed by, a <span class="italic">row</span> of a database table or view. The row has one <span class="italic">column</span> for each document component: key, content, version, and so on.
                  </p>
                  <p>In addition to the documents it contains, a collection also has associated <strong class="term">collection metadata</strong>. This specifies various details about the collection, such as its storage, whether it should track version and time-stamp document components, how such components are generated, and whether the collection can contain only JSON documents. 
                  </p>
                  <p>In some contexts collection metadata is represented as a JSON document. This metadata document is sometimes called a <strong class="term">collection specification</strong>. You can supply a custom collection specification when you create a collection, to provide metadata that differs from that provided by default.
                  </p>
                  <p>SODA provides CRUD operations on documents. JSON documents can additionally be queried, using <strong class="term">query-by-example</strong> (<strong class="term">QBE</strong>) patterns, also known as <strong class="term">filter specifications</strong>. A filter specification is itself a JSON object. 
                  </p>
                  <p>SODA APIs provide operations for collection management (create, drop, list) and document management (CRUD).</p>
                  <p>These are some of the actions you can perform using SODA:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Create collections</p>
                     </li>
                     <li>
                        <p>Open existing collections</p>
                     </li>
                     <li>
                        <p>Drop collections</p>
                     </li>
                     <li>
                        <p>List all existing collections</p>
                     </li>
                     <li>
                        <p>Create documents</p>
                     </li>
                     <li>
                        <p>Insert documents into a collection</p>
                     </li>
                     <li>
                        <p>Find a document in a collection, by key or by key and version</p>
                     </li>
                     <li>
                        <p>Find all documents in a collection</p>
                     </li>
                     <li>
                        <p>Find documents in a collection, by keys or by QBE</p>
                     </li>
                     <li>
                        <p>Replace (update) a document in a collection, by key or by key and version (optimistic locking)</p>
                     </li>
                     <li>
                        <p>Remove a document from a collection, by key or by key and version (optimistic locking)</p>
                     </li>
                     <li>
                        <p>Remove documents from a collection, by keys or by QBE</p>
                     </li>
                     <li>
                        <p>Index the documents in a collection (to improve query performance)</p>
                     </li>
                     <li>
                        <p>Create a JSON data guide for a collection, which summarizes document structural and type information</p>
                     </li>
                  </ul>
                  <p>Your applications use a database transaction when performing one or more such actions.<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "SODA for REST is an exception in this regard; you cannot use database transactions for its actions.")"><sup>Foot&nbsp;1</sup></a></p>
               </div>
               <!-- class="section" -->
               <div class="section"></div>
               <!-- class="section" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB__GUID-225E05BA-ED7C-414A-B8DA-127A396FDEAF">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span><cite>Oracle Database SODA for Java Developer's Guide</cite></span></p>
                        </li>
                        <li>
                           <p><a href="../adsdc/toc.htm" target="_blank"><span><cite>Oracle Database SODA for C Developer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../adsdp/index.html" target="_blank"><span><cite>Oracle Database SODA for PL/SQL Developer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p><span><cite>Oracle REST Data Services SODA for REST Developer's Guide</cite></span></p>
                        </li>
                        <li>
                           <p><a href="../adjsn/index.html" target="_blank"><span><cite>Oracle Database JSON Developerâs Guide</cite></span></a>  for information about using SQL and PL/SQL with JSON data
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/adsdi&amp;id=json_org" target="_blank">Introducing JSON</a> for information about JSON
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="overview-soda.html#GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C">Overview of SODA Documents</a><br>SODA is designed primarily to manipulate JavaScript Object Notation (JSON) documents, that is, documents whose content is JSON data, but other kinds of documents can also be used. A document has other components, besides its content.
                  </li>
                  <li class="ulchildlink"><a href="overview-soda.html#GUID-C107707F-E135-493F-9112-98691C80D3E9">Overview of SODA Document Collections</a><br>A SODA collection is a set of documents that is backed by an Oracle Database table or view.
                  </li>
                  <li class="ulchildlink"><a href="overview-soda.html#GUID-9200BDAC-4BA3-4AD2-BF4B-81196278C064">Default Naming of a Collection Table</a><br>By default, the name of the database table that underlies a document collection is derived from the collection name.
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C" name="GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C"></a><h3 id="ADSDI-GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C" class="sect3"><span class="enumeration_section">1.1 </span>Overview of SODA Documents
               </h3>
               <div>
                  <p>SODA is designed primarily to manipulate JavaScript Object Notation (JSON) documents, that is, documents whose content is JSON data, but other kinds of documents can also be used. A document has other components, besides its content.</p>
                  <div class="section">
                     <p>Here is a textual representation of the content of a simple JSON document:</p><pre class="pre codeblock"><code>{ "name"    : "Alexander",
  "address" : "1234 Main Street",
  "city"    : "Anytown",
  "state"   : "CA",
  "zip"     : "12345" }</code></pre><p>You can set the following document components (with an application client, for example):</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Key</p>
                        </li>
                        <li>
                           <p>Content</p>
                        </li>
                        <li>
                           <p>Media type</p>
                        </li>
                     </ul>
                     <p>In a collection, each document must have a document key, which is unique for the collection. By default, collections are configured to automatically generate document keys for inserted documents. If you want to instead use your own, custom, keys for a collection then you must provide the key for a document when you create it.</p>
                     <p>The media type specifies the type of content for a document. For JSON documents the media type is <code class="codeph">"application/json"</code>.
                     </p>
                     <p>The following document components are set and maintained automatically by SODA itself:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Version</p>
                        </li>
                        <li>
                           <p>Creation time stamp</p>
                        </li>
                        <li>
                           <p>Last-modified time stamp</p>
                        </li>
                     </ul>
                     <p>A SODA document is an <span class="italic">abstract object</span> that encapsulates its components, including its content â it is a carrier of content. A SODA create-document operation creates such a programmatic document object, and a document object is returned by some SODA operations, such as find operations.<a id="GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C__SODAFORRESTISANEXCEPTIONINTHISREGAR-0094D0A8" name="GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C__SODAFORRESTISANEXCEPTIONINTHISREGAR-0094D0A8" href="#GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C__SODAFORRESTISANEXCEPTIONINTHISREGAR-0094D0A8" onclick="footdisplay(2, "Because REST is not a programming language, SODA for REST has no programmatic âobjectâ that represents a document. But SODA for REST operations involve the same concept of a document. For example, when you read a document you obtain a JSON representation of it, which includes all of the components (key, content, version, and so on).")"><sup>Foot&nbsp;2</sup></a> 
                     </p>
                     <p>A document is stored in Oracle Database as a row in a table or view, with each component in its own column.</p>
                     <p>In a client application, a SODA document is represented in a way that is appropriate to the particular SODA implementation used. For example: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>In SODA for Java, a document is represented as a Java interface.</p>
                        </li>
                        <li>
                           <p>In SODA for PL/SQL, a document is represented as a PL/SQL object type.</p>
                        </li>
                        <li>
                           <p>In SODA for C, a document is represented as an Oracle Call Interface (OCI) handle.</p>
                        </li>
                     </ul>
                     <p>In all cases, there are methods or functions to create documents and access their components.</p>
                     <p>To write content to SODA collections and read content from them, you use create-document, write, and read operations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You use a SODA <span class="italic">create-document</span> operation to create a document object with content that you provide. (The content can be JSON data or something else.)
                           </p>
                        </li>
                        <li>
                           <p>You use a SODA <span class="italic">write</span> operation (such as insert), to store the document persistently in Oracle Database. (The document content is written to a database table.)
                           </p>
                        </li>
                        <li>
                           <p>You use a SODA <span class="italic">read</span> operation (such as find), to fetch the document back from Oracle Database. You use specific <span class="italic">getter</span> operations to read specific document components (such as key and content).
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-FD2AA288-D82C-4CE8-995C-88DD02F5BA1C__INTRODUCINGJSONFORINFORMATIONABOUTJ-CC0DCC46">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/adsdi&amp;id=json_org" target="_blank">Introducing JSON</a> for general information about JSON
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-soda.html#GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB" title="Simple Oracle Document Access (SODA) is a set of NoSQL-style APIs that let you create and store collections of documents (in particular JSON) in Oracle Database, retrieve them, and query them, without needing to know Structured Query Language (SQL) or how the documents are stored in the database.">Overview of SODA</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-C107707F-E135-493F-9112-98691C80D3E9" name="GUID-C107707F-E135-493F-9112-98691C80D3E9"></a><h3 id="ADSDI-GUID-C107707F-E135-493F-9112-98691C80D3E9" class="sect3"><span class="enumeration_section">1.2 </span>Overview of SODA Document Collections
               </h3>
               <div>
                  <p>A SODA collection is a set of documents that is backed by an Oracle Database table or view.</p>
                  <div class="section">
                     <p><span class="italic">By default</span>, creating a SODA document collection creates the following in Oracle Database:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Persistent default collection <span class="italic">metadata</span>.
                           </p>
                        </li>
                        <li>
                           <p>A <span class="italic">table</span> for storing the collection, in the database schema to which your SODA client is connected.
                           </p>
                        </li>
                     </ul>
                     <p>All SODA implementations provide a <span class="italic">get-metadata</span> operation, which returns the metadata for a collection, represented in JSON. The <span class="italic">default collection metadata</span>, which is returned for a default collection, is shown in <a href="overview-soda.html#GUID-C107707F-E135-493F-9112-98691C80D3E9__EXAMPLE-142-01BFAE27">Example 1-1</a>. 
                     </p>
                     <p>The default metadata specifies a collection that tracks five components for each document: key, content, version, last-modified time stamp, and created-on  time stamp. These are specified in JSON by fields <code class="codeph">keyColumn</code>, <code class="codeph">contentcolumn</code>,  <code class="codeph">versionColumn</code>, <code class="codeph">lastModifiedColumn</code>, and <code class="codeph">creationTimeColumn</code>, respectively. Each of these components is stored in a separate column in the table or view that backs the collection in Oracle Database. The metadata further specifies various details about these components and the database columns that back them.
                     </p>
                     <p>In <a href="overview-soda.html#GUID-C107707F-E135-493F-9112-98691C80D3E9__EXAMPLE-142-01BFAE27">Example 1-1</a>, for  the key component: the column name is <code class="codeph">"ID"</code>, the column type is <code class="codeph">"VARCHAR2"</code>, the maximum key length is <code class="codeph">255</code>, and the key generation method used is <code class="codeph">"UUID"</code>.
                     </p>
                     <p>In a client application, a document collection is represented  in a way that is appropriate to the particular SODA implementation used. For example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>In SODA for Java, a collection is represented as a Java interface.</p>
                        </li>
                        <li>
                           <p>In SODA for PL/SQL, a collection is represented as a PL/SQL object type.</p>
                        </li>
                        <li>
                           <p>In SODA for C, a collection is represented as an Oracle Call Interface (OCI) handle.</p>
                        </li>
                     </ul>
                     <p>When a collection is created, the create-collection operation returns a Java or PL/SQL object or an OCI handle, which you can use to perform various collection read and write operations.<a id="fn_3" name="fn_3" href="#fn_3" onclick="footdisplay(3, "This is the case only for language-based SODA implementations. In SODA for REST a collection is essentially represented by just a URL.")"><sup>Foot&nbsp;3</sup></a></p>
                     <div class="infoboxnote" id="GUID-C107707F-E135-493F-9112-98691C80D3E9__GUID-A3DF2324-E24E-4D88-99B0-15DF8D1873B4">
                        <p class="notep1">Note:</p>
                        <p>In the SODA for REST URI syntax, after the version component, you can use <code class="codeph">custom-actions</code>, <code class="codeph">metadata-catalog</code>, <span class="italic">or</span> a particular collection name. When you use <code class="codeph">custom-actions</code> or <code class="codeph">metadata-catalog</code>, the <span class="italic">next</span> segment in the URI, if there is one, is a collection name. 
                        </p>
                        <p>Because of this syntax flexibility, you <span class="italic">cannot</span> have a collection named either <code class="codeph">custom-actions</code> or <code class="codeph">metadata-catalog</code>. An error is raised if you try to create a collection with either of those names using SODA for REST.
                        </p>
                        <p>In other SODA implementations, besides SODA for REST, nothing prevents you from creating and using a collection named <code class="codeph">custom-actions</code> or <code class="codeph">metadata-catalog</code>. But for possible interoperability, best practice calls for not using these names for collections.
                        </p>
                     </div>
                     <p>When you create a collection you can specify things such as the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Storage details, such as the name of the table that stores the collection and the names and data types of its columns.</p>
                        </li>
                        <li>
                           <p>The presence or absence of columns for creation time stamp, last-modified time stamp, and version.</p>
                        </li>
                        <li>
                           <p>Whether the collection can store only JSON documents.</p>
                        </li>
                        <li>
                           <p>Methods of document key generation, and whether document keys are client-assigned or generated automatically.</p>
                        </li>
                        <li>
                           <p>Methods of version generation.</p>
                        </li>
                     </ul>
                     <p>This configurability also lets you map a new collection to an <span class="italic">existing</span> database table or view.
                     </p>
                     <p>To configure a collection in a nondefault way, you must define custom collection metadata and pass it to the create-collection operation. This metadata is represented as JSON data.</p>
                     <div class="infoboxnote" id="GUID-C107707F-E135-493F-9112-98691C80D3E9__GUID-FFA3EE59-CF50-413A-B9A2-D74F77765F4A">
                        <p class="notep1">Note:</p>
                        <p>You can customize collection metadata to obtain different behavior from that provided by default. However, changing some components requires familiarity with Oracle Database concepts, such as SQL data types. Oracle recommends that you do not change such components unless you have a compelling reason. Because SODA collections are implemented on top of Oracle Database tables (or views), many collection configuration components are related to the underlying table configuration.</p>
                        <p>For example, if you change the content column type from <code class="codeph">BLOB</code> (the default value) to <code class="codeph">VARCHAR2</code> then you must understand the implications (content size for <code class="codeph">VARCHAR2</code> is limited to 32K bytes, character-set conversion can take place, and so on).
                        </p>
                        <p>Reasons you might want to use custom metadata include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To configure SecureFiles LOB storage.</p>
                           </li>
                           <li>
                              <p>To configure a collection to store documents other than JSON (a <span class="bold">heterogeneous collection</span>).
                              </p>
                           </li>
                           <li>
                              <p>To map an existing Oracle Database table or view to a new collection.</p>
                           </li>
                           <li>
                              <p>To specify that a collection mapping to an existing table is read-only.</p>
                           </li>
                           <li>
                              <p>To use a <code class="codeph">VARCHAR2</code> column for JSON content, and to increase the default maximum length of data allowed in the column.
                              </p>
                              <p>You might want to increase the maximum allowed data length if your database is configured with extended data types, which extends the maximum length of these data types to 32767 bytes. For more information about extended data types, see <a href="../sqlrf/Data-Types.html#SQLRF55623" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C107707F-E135-493F-9112-98691C80D3E9__GUID-6E00E4A1-DE5A-4EF0-86F7-5D8D5D878C49">
                        <p class="notep1">See Also:</p>
                        <p><a href="soda-collection-metadata-components-reference.html#GUID-49EFF3D3-9FAB-4DA6-BDE2-2650383566A3" title="Collection metadata is composed of multiple components. A detailed definition of the components is presented.">SODA Collection Metadata Components (Reference)</a> for information about the SODA collection metadata components
                        </p>
                     </div>
                     <p>You can perform read and write operations on a collection only if it is open. <span class="italic">Opening</span> a collection amounts to obtaining an object (in Java and PL/SQL) or a handle (in C) that represents the collection. <span class="italic">Creating</span> a collection opens it automatically: the create-collection operation returns a collection object or handle. There is also an open operation, to open an existing collection. It too returns a collection object or handle.&nbsp;If you try to create a collection, and a collection with the same name already exists, then that existing collection is simply opened.
                     </p>
                     <div class="infoboxnote" id="GUID-C107707F-E135-493F-9112-98691C80D3E9__GUID-0E77E352-6959-4EA7-B501-48E659C4A22B">
                        <p class="notep1">Note:</p>
                        <p>By default, the table name for a collection is derived from the collection name, but it can also be explicitly provided in the custom collection metadata that you pass to the create-collection operation. If this table name (derived or explicitly provided) matches an existing table in the currently connected database schema (user), the create-collection operation tries to use that existing table to back the collection.<a id="fn_4" name="fn_4" href="#fn_4" onclick="footdisplay(4, " SODA for REST is an exception here. for security reasons, in this context an error is raised for SODA for REST, to disallow access to existing tables using REST operations.")"><sup>Foot&nbsp;4</sup></a></p>
                        <p>You must therefore <span class="italic">ensure that the existing table matches the collection metadata</span>. For example, if the collection metadata specifies that the collection has three columns, for key, content, and version, then the underlying table must have these same columns, and the column types must match those specified in the collection metadata. The create-collection operation performs minimal validation of the existing table, to check that it matches collection metadata. If this check determines that the table and metadata do not match then the create-collection operation raises an error.
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-C107707F-E135-493F-9112-98691C80D3E9__GUID-CAD20877-A10A-43C9-8946-C02F3AE4C76B">
                        <p class="notep1">Caution:</p>
                        <p>Do <span class="italic">not</span> use SQL to drop the database <span class="italic">table</span> that underlies a collection. Dropping a <span class="italic">collection</span> involves more than just dropping its database table. In addition to the documents that are stored in its table, a collection has <span class="italic">metadata</span>, which is also persisted in Oracle Database. Dropping the table underlying a collection does <span class="italic">not</span> also drop the collection metadata. 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C107707F-E135-493F-9112-98691C80D3E9__EXAMPLE-142-01BFAE27">
                     <p class="titleinexample">Example 1-1 Default Collection Metadata</p><pre class="pre codeblock"><code>{
   "schemaName" : "mySchemaName",
   "tableName" : "myTableName",
   "keyColumn" :
   {
      "name" : "ID",
      "sqlType" : "VARCHAR2",
      "maxLength" : 255,
      "assignmentMethod" : "UUID"
   },
   "contentColumn" :
   {
      "name" : "JSON_DOCUMENT",
      "sqlType" : "BLOB",
      "compress" : "NONE",
      "cache" : true,
      "encrypt" : "NONE",
      "validation" : "STANDARD"
   },
   "versionColumn" :
   {
     "name" : "VERSION",
     "method" : "SHA256"
   },
   "lastModifiedColumn" :
   {
     "name" : "LAST_MODIFIED"
   },
   "creationTimeColumn" :
   {
      "name" : "CREATED_ON"
   },
   "readOnly" : false
}</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="soda-collection-metadata-components-reference.html#GUID-49EFF3D3-9FAB-4DA6-BDE2-2650383566A3" title="Collection metadata is composed of multiple components. A detailed definition of the components is presented.">SODA Collection Metadata Components (Reference)</a></li>
                        <li><a href="overview-soda.html#GUID-9200BDAC-4BA3-4AD2-BF4B-81196278C064" title="By default, the name of the database table that underlies a document collection is derived from the collection name.">Default Naming of a Collection Table</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-soda.html#GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB" title="Simple Oracle Document Access (SODA) is a set of NoSQL-style APIs that let you create and store collections of documents (in particular JSON) in Oracle Database, retrieve them, and query them, without needing to know Structured Query Language (SQL) or how the documents are stored in the database.">Overview of SODA</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-9200BDAC-4BA3-4AD2-BF4B-81196278C064" name="GUID-9200BDAC-4BA3-4AD2-BF4B-81196278C064"></a><h3 id="ADSDI-GUID-9200BDAC-4BA3-4AD2-BF4B-81196278C064" class="sect3"><span class="enumeration_section">1.3 </span>Default Naming of a Collection Table
               </h3>
               <div>
                  <p>By default, the name of the database table that underlies a document collection is derived from the collection name.</p>
                  <p> If you want a different table name from that provided by default then use custom collection metadata to explicitly provide the name.</p>
                  <p>The <span class="italic">default table name</span> is derived from the collection name you provide, as follows:
                  </p>
                  <ol>
                     <li>
                        <p>Each ASCII control character and double quotation mark character (<span class="bold"><code class="codeph">"</code></span>) in the collection name is replaced by an underscore character (<span class="bold"><code class="codeph">_</code></span>).
                        </p>
                     </li>
                     <li>
                        <p>If <span class="italic">all</span> of the following conditions apply, then all letters in the name are converted to <span class="italic">uppercase</span>, to provide the table name. In this case, you need not quote the table name in SQL code; otherwise, you must quote it.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The letters in the name are either all lowercase or all uppercase.</p>
                           </li>
                           <li>
                              <p>The name begins with an ASCII letter.</p>
                           </li>
                           <li>
                              <p>Each character in the name is alphanumeric ASCII, an underscore (<code class="codeph">_</code>), a dollar sign (<code class="codeph">$</code>), or a number sign (<code class="codeph">#</code>).
                              </p>
                              <div class="infoboxnote" id="GUID-9200BDAC-4BA3-4AD2-BF4B-81196278C064__GUID-66907BCD-1F89-479B-BFC2-94486889A3A2">
                                 <p class="notep1">Note:</p>
                                 <p>Oracle recommends that you do <span class="italic">not</span> use dollar-sign characters (<code class="codeph">$</code>) or number-sign characters (<code class="codeph">#</code>) in Oracle identifier names.
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </li>
                  </ol>
                  <p>For example:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Collection names "col" and "COL" both result in a table named "COL". When used in SQL, the table name is interpreted case-insensitively, so it need not be enclosed in double quotation marks (<code class="codeph">"</code>).
                        </p>
                     </li>
                     <li>
                        <p>Collection name "myCol" results in a table named "myCol". When used in SQL, the table name is interpreted case-sensitively, so it must be enclosed in double quotation marks (<span class="bold"><code class="codeph">"</code></span>).
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="soda-collection-metadata-components-reference.html#GUID-54D19001-8C95-48F9-B221-4634B89166B5" title="The collection metadata component that specifies the name of the table or view to which the collection is mapped.">Table or View</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-soda.html#GUID-BE42F8D3-B86B-43B4-B2A3-5760A4DF79FB" title="Simple Oracle Document Access (SODA) is a set of NoSQL-style APIs that let you create and store collections of documents (in particular JSON) in Oracle Database, retrieve them, and query them, without needing to know Structured Query Language (SQL) or how the documents are stored in the database.">Overview of SODA</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: SODA for REST is an exception in this regard; you cannot use database transactions for its actions.<br>Footnote&nbsp;2: Because REST is not a programming language, SODA for REST has no programmatic âobjectâ that represents a document. But SODA for REST operations involve the same concept of a document. For example, when you read a document you obtain a JSON representation of it, which includes all of the components (key, content, version, and so on).<br>Footnote&nbsp;3: This is the case only for language-based SODA implementations. In SODA for REST a collection is essentially represented by just a URL.<br>Footnote&nbsp;4:  SODA for REST is an exception here. for security reasons, in this context an error is raised for SODA for REST, to disallow access to existing tables using REST operations.<br></div>
      </article>
   </body>
</html>