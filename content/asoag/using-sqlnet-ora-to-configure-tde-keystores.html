<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">
      <meta name="description" content="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">
      <title>Using sqlnet.ora to Configure Transparent Data Encryption Keystores</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Security Guide ">
      <meta property="og:description" content="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="advanced-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-13T09:28:14-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83681-06">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="using-transparent-data-encryption-with-other-oracle-features.html" title="Previous" type="text/html">
      <link rel="next" href="frequently-asked-questions-about-transparent-data-encryption.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Advanced Security Guide">
    <meta name="dcterms.isVersionOf" content="ASOAG">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-transparent-data-encryption-with-other-oracle-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="frequently-asked-questions-about-transparent-data-encryption.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asopart1.html" property="item" typeof="WebPage"><span property="name">Using Transparent Data Encryption</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using sqlnet.ora to Configure Transparent Data Encryption Keystores</li>
            </ol>
            <a id="GUID-692F595E-77D7-4E77-9875-8516BDC9811A" name="GUID-692F595E-77D7-4E77-9875-8516BDC9811A"></a>
            
            <h2 id="ASOAG-GUID-692F595E-77D7-4E77-9875-8516BDC9811A" class="sect2"><span class="enumeration_chapter">9 </span>Using sqlnet.ora to Configure Transparent Data Encryption Keystores
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>If you do not want to use the <code class="codeph">WALLET_ROOT</code> parameter to configure keystores, then you can use the <code class="codeph">sqlnet.ora</code> file. 
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-DF9504EF-BA08-4585-895D-2E5F4BA30E50">About the Keystore Location in the sqlnet.ora File</a><br>If you have not set the <code class="codeph">WALLET_ROOT</code> parameter, then Oracle Database checks the <code class="codeph">sqlnet.ora</code> file for the directory location of the keystore.
                  </li>
                  <li class="ulchildlink"><a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-278422A5-1F77-4E82-B4A1-578F03AE30FD">Configuring the sqlnet.ora File for a Software Keystore Location</a><br>Use the <code class="codeph">sqlnet.ora</code> file to configure the keystore location for a regular file system, for multiple database access, and for use with Oracle Automatic Storage Management (ASM).
                  </li>
                  <li class="ulchildlink"><a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-446E7F4A-D122-4533-B194-60383F128B53">Example: Configuring a Software Keystore for a Regular File System</a><br>You can configure a software keystore for a regular file system.
                  </li>
                  <li class="ulchildlink"><a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-0DDFCEB4-3331-4475-90F2-2092AAB5CFF3">Example: Configuring a Software Keystore When Multiple Databases Share the sqlnet.ora File</a><br>You can configure multiple databases to share the <code class="codeph">sqlnet.ora</code> file. 
                  </li>
                  <li class="ulchildlink"><a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-443E617E-EFE9-4C5E-BAF0-A56E339DD72F">Example: Configuring a Software Keystore for Oracle Automatic Storage Management</a><br>You can configure <code class="codeph">sqlnet.ora</code> for an Automatic Storage Management (ASM) file system
                  </li>
                  <li class="ulchildlink"><a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-C55E491B-5C30-406E-BDCF-67B87C5A0F00">Example: Configuring a Software Keystore for an Oracle Automatic Storage Management Disk Group</a><br>You can configure <code class="codeph">sqlnet.ora</code> for an Oracle Automatic Storage Management (ASM) disk group.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="asopart1.html" title="Part I describes how to use Transparent Data Encryption.">Using Transparent Data Encryption</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-DF9504EF-BA08-4585-895D-2E5F4BA30E50" name="GUID-DF9504EF-BA08-4585-895D-2E5F4BA30E50"></a><h3 id="ASOAG-GUID-DF9504EF-BA08-4585-895D-2E5F4BA30E50" class="sect3">About the Keystore Location in the sqlnet.ora File</h3>
               <div>
                  <p>If you have not set the <code class="codeph">WALLET_ROOT</code> parameter, then Oracle Database checks the <code class="codeph">sqlnet.ora</code> file for the directory location of the keystore.
                  </p>
                  <p>This applies to whether the keystore is a software keystore, a hardware module security (HSM) keystore, or an Oracle Key Vault keystore. You must edit the <code class="codeph">sqlnet.ora</code> file to define a directory location for the keystore that you plan to create. Ensure that this directory exists beforehand. Preferably, this directory should be empty. 
                  </p>
                  <p>Note the following behavior when you must edit the <code class="codeph">sqlnet.ora</code> file in an Oracle Real Application Clusters (Oracle RAC) or a multitenant environment:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">In an Oracle RAC environment:</span> If you are using the <code class="codeph">srvctl</code> utility and if you want to include environment variables in the <code class="codeph">sqlnet.ora</code> configuration file, then you must set these environment variables in both the operating system and the <code class="codeph">srvctl</code> environment. Oracle recommends that you place the keystore on a shared file system, such as Oracle Automatic Storage Management (ASM) or NFS.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">In a multitenant environment:</span> If the <code class="codeph">sqlnet.ora</code> file is in the CDB root, then the keystore location will be set for the entire CDB environment. You can configure a <code class="codeph">sqlnet.ora</code> at the PDB level if the PDBs are working in isolated mode. 
                        </p>
                     </li>
                  </ul>
                  <p>In the <code class="codeph">sqlnet.ora</code> file, you must set the <code class="codeph">ENCRYPTION_WALLET_LOCATION</code> parameter to specify the keystore location. When determining which keystore to use, Oracle Database searches for the keystore location in the following places, in this order: 
                  </p>
                  <ol>
                     <li>
                        <p>It attempts to use the keystore in the location specified by the parameter <code class="codeph">ENCRYPTION_WALLET_LOCATION</code> in the <code class="codeph">sqlnet.ora</code> file. 
                        </p>
                     </li>
                     <li>
                        <p>If the <code class="codeph">ENCRYPTION_WALLET_LOCATION</code> parameter is not set, then it attempts to use the keystore in the location that is specified by the parameter <code class="codeph">WALLET_LOCATION</code>.
                        </p>
                     </li>
                     <li>
                        <p>If the <code class="codeph">WALLET_LOCATION</code> parameter is also not set, then Oracle Database looks for a keystore at the default database location, which is <code class="codeph">$ORACLE_BASE</code><code class="codeph">/admin/</code><span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span><code class="codeph">/wallet</code> or <code class="codeph">$ORACLE_HOME</code><code class="codeph">/admin/</code><span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span><code class="codeph">/wallet</code>. (<span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span> is the unique name of the database specified in the initialization parameter file.) When the keystore location is not set in the <code class="codeph">sqlnet.ora</code> file, then the <code class="codeph">V$ENCRYPTION_WALLET</code> view displays the default location. You can check the location and status of the keystore in the <code class="codeph">V$ENCRYPTION_WALLET</code> view.
                        </p>
                     </li>
                  </ol>
                  <p>By default, the <code class="codeph">sqlnet.ora</code> file is located in the <code class="codeph">$ORACLE_HOME</code><code class="codeph">/dbs</code> directory or in the location set by the <code class="codeph">TNS_ADMIN</code> environment variable. Ensure that you have properly set the <code class="codeph">TNS_ADMIN</code> environment variable to point to the correct <code class="codeph">sqlnet.ora</code> file. 
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../sqpug/SQL-Plus-quick-start.html#SQPUG-GUID-D65BD2EF-72C6-4E61-812B-9FFCAAF6F305" target="_blank"><span><cite>SQL*Plus User's Guide and Reference</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-692F595E-77D7-4E77-9875-8516BDC9811A" title="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">Using sqlnet.ora to Configure Transparent Data Encryption Keystores</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-278422A5-1F77-4E82-B4A1-578F03AE30FD" name="GUID-278422A5-1F77-4E82-B4A1-578F03AE30FD"></a><h3 id="ASOAG-GUID-278422A5-1F77-4E82-B4A1-578F03AE30FD" class="sect3">Configuring the sqlnet.ora File for a Software Keystore Location</h3>
               <div>
                  <p>Use the <code class="codeph">sqlnet.ora</code> file to configure the keystore location for a regular file system, for multiple database access, and for use with Oracle Automatic Storage Management (ASM).
                  </p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To create a software keystore on a regular file system, use the following format when you edit the <code class="codeph">sqlnet.ora</code> file:
                           </p><pre class="oac_no_warn" dir="ltr">ENCRYPTION_WALLET_LOCATION=
 (SOURCE=
  (METHOD=<span class="bold">FILE</span>)
   (METHOD_DATA=
    (DIRECTORY=<span class="italic"><span class="bold">path_to_keystore</span></span>)))
</pre></li>
                     </ul>
                     <p>If the <span class="bold"><span class="italic"><code class="codeph">path_to_keystore</code></span></span> will contain an environment variable, then set this variable in the environment where the database instance is started and before you start the database. If you are using the <code class="codeph">srvctl</code> utility to start the database, then set the environment variable in the <code class="codeph">srvctl</code> environment as well, using the following command: 
                     </p><pre class="oac_no_warn" dir="ltr">srvctl setenv database -db <span class="italic">database_name</span> -env "<span class="italic">environment_variable_name</span>=<span class="italic">environment_variable_value</span>"</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-692F595E-77D7-4E77-9875-8516BDC9811A" title="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">Using sqlnet.ora to Configure Transparent Data Encryption Keystores</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-446E7F4A-D122-4533-B194-60383F128B53" name="GUID-446E7F4A-D122-4533-B194-60383F128B53"></a><h3 id="ASOAG-GUID-446E7F4A-D122-4533-B194-60383F128B53" class="sect3">Example: Configuring a Software Keystore for a Regular File System</h3>
               <div>
                  <p>You can configure a software keystore for a regular file system.</p>
                  <p>The following example shows how to configure a software keystore location in the <code class="codeph">sqlnet.ora</code> file for a regular file system in which the database name is <code class="codeph">orcl</code>.
                  </p><pre class="oac_no_warn" dir="ltr">ENCRYPTION_WALLET_LOCATION=
  (SOURCE=
   (METHOD=FILE)
    (METHOD_DATA=
     (DIRECTORY=/etc/ORACLE/WALLETS/orcl)))
</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-692F595E-77D7-4E77-9875-8516BDC9811A" title="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">Using sqlnet.ora to Configure Transparent Data Encryption Keystores</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-0DDFCEB4-3331-4475-90F2-2092AAB5CFF3" name="GUID-0DDFCEB4-3331-4475-90F2-2092AAB5CFF3"></a><h3 id="ASOAG-GUID-0DDFCEB4-3331-4475-90F2-2092AAB5CFF3" class="sect3">Example: Configuring a Software Keystore When Multiple Databases Share the sqlnet.ora File</h3>
               <div>
                  <p>You can configure multiple databases to share the <code class="codeph">sqlnet.ora</code> file. 
                  </p>
                  <p>The following example shows how to configure a software keystore location when multiple databases share the <code class="codeph">sqlnet.ora</code> file. 
                  </p><pre class="oac_no_warn" dir="ltr">ENCRYPTION_WALLET_LOCATION=
 (SOURCE=
  (METHOD=FILE)
   (METHOD_DATA=
    (DIRECTORY=/etc/ORACLE/WALLETS/$ORACLE_SID/)))
</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-692F595E-77D7-4E77-9875-8516BDC9811A" title="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">Using sqlnet.ora to Configure Transparent Data Encryption Keystores</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-443E617E-EFE9-4C5E-BAF0-A56E339DD72F" name="GUID-443E617E-EFE9-4C5E-BAF0-A56E339DD72F"></a><h3 id="ASOAG-GUID-443E617E-EFE9-4C5E-BAF0-A56E339DD72F" class="sect3">Example: Configuring a Software Keystore for Oracle Automatic Storage Management</h3>
               <div>
                  <p>You can configure <code class="codeph">sqlnet.ora</code> for an Automatic Storage Management (ASM) file system
                  </p>
                  <p></p>
                  <p>The following example shows how to configure a software keystore location in the <code class="codeph">sqlnet.ora</code> file for an ASM file system:
                  </p><pre class="oac_no_warn" dir="ltr">ENCRYPTION_WALLET_LOCATION=
 (SOURCE=
  (METHOD=FILE)
   (METHOD_DATA=
    (DIRECTORY=+disk1/mydb/wallet)))</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-692F595E-77D7-4E77-9875-8516BDC9811A" title="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">Using sqlnet.ora to Configure Transparent Data Encryption Keystores</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-C55E491B-5C30-406E-BDCF-67B87C5A0F00" name="GUID-C55E491B-5C30-406E-BDCF-67B87C5A0F00"></a><h3 id="ASOAG-GUID-C55E491B-5C30-406E-BDCF-67B87C5A0F00" class="sect3">Example: Configuring a Software Keystore for an Oracle Automatic Storage Management Disk Group</h3>
               <div>
                  <p>You can configure <code class="codeph">sqlnet.ora</code> for an Oracle Automatic Storage Management (ASM) disk group.
                  </p>
                  <p>The following format shows how to configure a software keystore if you want to create a software keystore location on an ASM disk group:</p><pre class="oac_no_warn" dir="ltr">ENCRYPTION_WALLET_LOCATION=
 (SOURCE=
  (METHOD=FILE)
   (METHOD_DATA=
    (DIRECTORY=+<span class="italic">ASM_file_path_of_the_diskgroup</span>)))
</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-sqlnet-ora-to-configure-tde-keystores.html#GUID-692F595E-77D7-4E77-9875-8516BDC9811A" title="If you do not want to use the WALLET_ROOT parameter to configure keystores, then you can use the sqlnet.ora file.">Using sqlnet.ora to Configure Transparent Data Encryption Keystores</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>