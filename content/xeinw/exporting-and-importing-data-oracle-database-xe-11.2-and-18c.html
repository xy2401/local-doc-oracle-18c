<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Exporting and Importing Data between Oracle Database XE 11.2 and 18c</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-express-edition-installation-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-20T04:57:40-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90413-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="using-enterprise-manager-express.html" title="Previous" type="text/html">
      <link rel="next" href="migrating-data-and-applications.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Express Edition Installation Guide for Microsoft Windows">
    <meta name="dcterms.isVersionOf" content="XEINW">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-enterprise-manager-express.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="migrating-data-and-applications.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Exporting and Importing Data between Oracle Database XE 11.2 and 18c</li>
            </ol>
            <a id="GUID-B80F7ACD-59BD-4EC3-A92A-1A310A9CA43C" name="GUID-B80F7ACD-59BD-4EC3-A92A-1A310A9CA43C"></a>
            
            <h2 id="XEINW-GUID-B80F7ACD-59BD-4EC3-A92A-1A310A9CA43C" class="sect2"><span class="enumeration_chapter">9 </span>Exporting and Importing Data between Oracle Database XE 11.2 and 18c
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This section explains how to export and import data between Oracle Database XE 11g Release 2 (11.2) and XE 18c. Depending if Oracle Application Express (APEX) was used or not in your 11.2 database, follow one of these procedures:</p>
               <ul style="list-style-type: disc;" id="GUID-B80F7ACD-59BD-4EC3-A92A-1A310A9CA43C__UL_J3D_KY1_CGB">
                  <li>
                     <p><a href="exporting-and-importing-data-oracle-database-xe-11.2-and-18c.html#GUID-F496A4B2-0C3E-430C-B4A8-3C1F13289738" title="Enter a short description of your topic here (optional).">Exporting and Importing Data for non-APEX Users</a></p>
                  </li>
                  <li>
                     <p><a href="exporting-and-importing-data-oracle-database-xe-11.2-and-18c.html#GUID-6C55327E-2701-426B-A55A-3A576DC78FCE" title="This topic describes how to export and import data between Oracle Database XE 11.2 and XE 18c for Oracle Application Express (APEX) users.">Exporting and Importing Data for Oracle Application Express Users</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-F496A4B2-0C3E-430C-B4A8-3C1F13289738" name="GUID-F496A4B2-0C3E-430C-B4A8-3C1F13289738"></a><h3 id="XEINW-GUID-F496A4B2-0C3E-430C-B4A8-3C1F13289738" class="sect3"><span class="enumeration_section">9.1 </span>Exporting and Importing Data for non-APEX Users
               </h3>
               <div>
                  <p>Enter a short description of your topic here (optional).</p>
                  <p>This topic describes how to export and import data between your Oracle Database XE 11.2 and XE 18c databases when Oracle Application Express (APEX) was not used in your 11.2 XE database.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F496A4B2-0C3E-430C-B4A8-3C1F13289738__GUID-EF2CEDF3-AD63-4E66-9DC1-2A7E6B3689EF">Exporting Data</p>
                     <ol>
                        <li>
                           <p>To export data from your 11.2 XE database, perform the following steps:</p>
                           <ol type="a">
                              <li>
                                 <p>Create a directory <span class="italic">\dump_folder</span> on the local file system for the <code class="codeph">DUMP_DIR</code> directory object.
                                 </p>
                              </li>
                              <li>
                                 <p>Connect to the 11.2 XE database as user <code class="codeph">SYS</code> using the <code class="codeph">SYSDBA</code> privilege.
                                 </p>
                              </li>
                              <li>
                                 <p>Create directory object <code class="codeph">DUMP_DIR</code> and grant <code class="codeph">READ</code> and <code class="codeph">WRITE</code> privileges on the <code class="codeph">DUMP_DIR</code> directory to the <code class="codeph">SYSTEM</code> user.
                                 </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; CREATE DIRECTORY DUMP_DIR AS 'C:\temp\dump';
SQL&gt; GRANT READ, WRITE ON DIRECTORY DUMP_DIR TO SYSTEM;</pre></li>
                              <li>
                                 <p>To create a <code class="codeph">dump</code> folder, run the following command from your Windows command prompt:
                                 </p><pre class="oac_no_warn" dir="ltr">mkdir C:\temp\dump</pre></li>
                              <li>
                                 <p>Export data from your 11.2 XE database to the dump folder.</p><pre class="oac_no_warn" dir="ltr">expdp system/system_password full=Y EXCLUDE=SCHEMA:\"LIKE \'APEX_%\'\",SCHEMA:\"LIKE \'FLOWS_%\'\" directory=DUMP_DIR dumpfile=DB11G.dmp logfile=expdpDB11G.log</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Deinstall Oracle Database XE 11.2 if installation of 18c XE is planned on the same system.</p>
                           <p>See <a href="https://docs.oracle.com/cd/E17781_01/install.112/e18803/toc.htm#XEINW134" target="_blank">Deinstalling the Oracle Database XE Software</a> in Oracle Database Express Edition Installation Guide 11g Release 2 (11.2) for Microsoft Windows.
                           </p>
                        </li>
                        <li>
                           <p>Install Oracle Database XE 18c.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F496A4B2-0C3E-430C-B4A8-3C1F13289738__GUID-487CF5E4-585F-4D8E-BC1B-A318B16A6728">Importing Data</p>
                     <ol>
                        <li>
                           <p>To import data in your 18c XE database, perform the following steps:</p>
                           <ol type="a">
                              <li>
                                 <p>Connect to the 18c XE database as user <code class="codeph">SYS</code> using the <code class="codeph">SYSDBA</code> privilege.
                                 </p>
                              </li>
                              <li>
                                 <p>Create directory object <code class="codeph">DUMP_DIR</code> and grant <code class="codeph">READ</code> and <code class="codeph">WRITE</code> privileges on the directory to the <code class="codeph">SYSTEM</code> user.
                                 </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt; CREATE DIRECTORY DUMP_DIR AS '\dump_folder';
SQL&gt; GRANT READ, WRITE ON DIRECTORY DUMP_DIR TO SYSTEM;</pre></li>
                              <li>
                                 <p>Import data to the 18c XE database from the dump folder.</p><pre class="oac_no_warn" dir="ltr">impdp system/system_password@localhost:listnerport/xepdb1 full=Y EXCLUDE=SCHEMA:\"LIKE \'APEX_%\'\",SCHEMA:\"LIKE \'FLOWS_%\'\" directory=DUMP_DIR dumpfile=DB11G.dmp logfile=impdpDB11G.log</pre></li>
                           </ol>
                           <div class="p">You can ignore the following errors:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>ORA-39083: Object type TABLESPACE:"SYSAUX" failed to create with error</p>
                                 </li>
                                 <li>
                                    <p>ORA-31685: Object type USER:"SYS" failed due to insufficient privileges</p>
                                 </li>
                                 <li>
                                    <p>ORA-39083: Object type PROCACT_SYSTEM failed to create with error</p>
                                 </li>
                                 <li>
                                    <p>ORA-01917: user or role 'APEX_040000' does not exist</p>
                                 </li>
                                 <li>
                                    <p>ORA-31684 "already exists" errors</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6C55327E-2701-426B-A55A-3A576DC78FCE" name="GUID-6C55327E-2701-426B-A55A-3A576DC78FCE"></a><h3 id="XEINW-GUID-6C55327E-2701-426B-A55A-3A576DC78FCE" class="sect3"><span class="enumeration_section">9.2 </span>Exporting and Importing Data for Oracle Application Express Users
               </h3>
               <div>
                  <p>This topic describes how to export and import data between Oracle Database XE 11.2 and XE 18c for Oracle Application Express (APEX) users.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6C55327E-2701-426B-A55A-3A576DC78FCE__GUID-B43AF52E-B070-43F1-A4A9-25CD5A421457">Exporting Data</p>
                     <ol>
                        <li>
                           <div class="p">Upgrade Oracle Application Express in your 11.2 XE database to at least APEX 5.1.4 which is the minimum supported version in database 18c if you have not already done so. You can download APEX distributions at&nbsp;<a href="http://www.oracle.com/technetwork/developer-tools/apex/downloads/index.html" target="_blank"><span class="italic">http://www.oracle.com/technetwork/developer-tools/apex/downloads/index.html</span></a>. 
                              <div class="infoboxnotealso" id="GUID-6C55327E-2701-426B-A55A-3A576DC78FCE__GUID-F0E43277-A445-492A-9763-167F80B8EAE5">
                                 <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/xeinw&amp;id=HTMIG-GUID-38805604-3203-4365-B9E0-9347DE5D3D7A" target="_blank"><span class="italic">Application Express Installation Guide</span></a> for more information about Upgrading Oracle Application Express (APEX) within Oracle Database Express Edition
                              </div>
                           </div>
                        </li>
                        <li>
                           <p>To export the data from your 11.2 XE database, perform the following steps:</p>
                           <ol type="a">
                              <li>
                                 <p>Create a directory on the local file system for the <code class="codeph">DUMP_DIR</code> directory object.
                                 </p>
                              </li>
                              <li>
                                 <p>Connect to the 11.2 XE database  as user <code class="codeph">SYS</code> using the <code class="codeph">SYSDBA</code> privilege.
                                 </p>
                              </li>
                              <li>
                                 <p>Create directory object <code class="codeph">DUMP_DIR</code> and grant <code class="codeph">READ</code> and <code class="codeph">WRITE</code> privileges on the directory to the <code class="codeph">SYSTEM</code> user.
                                 </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; CREATE DIRECTORY DUMP_DIR AS 'C:\temp\dump';
SQL&gt; GRANT READ, WRITE ON DIRECTORY DUMP_DIR TO SYSTEM;
</pre></li>
                              <li>
                                 <p>Export data from the 11.2 XE database in the <code class="codeph">DUMP_DIR</code> directory.
                                 </p><pre class="oac_no_warn" dir="ltr">expdp system/<span class="italic">system_password</span> full=Y directory=DUMP_DIR dumpfile=DB11G.dmp logfile=expdpDB11G.log
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Deinstall Oracle Database XE 11.2 if installation of Oracle Database XE 18c is planned on the same system.</p>
                           <p>See <a href="https://docs.oracle.com/cd/E17781_01/install.112/e18803/toc.htm#XEINW134" target="_blank">Deinstalling the Oracle Database XE Software</a> in Oracle Database Express Edition Installation Guide 11g Release 2 (11.2) for Microsoft Windows.
                           </p>
                        </li>
                        <li>
                           <p>Install Oracle Database XE 18c.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6C55327E-2701-426B-A55A-3A576DC78FCE__GUID-B0E36102-9E96-4B6C-8E3D-68C90C0E2044">Importing Data</p>
                     <ol>
                        <li>
                           <p>To import data to the 18c XE database, perform the following steps:</p>
                           <ol type="a">
                              <li>
                                 <p>Connect to 18c XE database as user <code class="codeph">SYS</code> using the <code class="codeph">SYSDBA</code> privilege.
                                 </p>
                              </li>
                              <li>
                                 <p>Create directory object <code class="codeph">DUMP_DIR</code> and grant <code class="codeph">READ</code> and <code class="codeph">WRITE</code> privileges on the directory to the <code class="codeph">SYSTEM</code> user.
                                 </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt; CREATE DIRECTORY DUMP_DIR AS 'C:\temp\dump';;
SQL&gt; GRANT READ, WRITE ON DIRECTORY DUMP_DIR TO SYSTEM;
</pre></li>
                              <li>
                                 <p>Import data to your 18c XE database from the dump folder.</p><pre class="oac_no_warn" dir="ltr">impdp system/<span class="italic">system_password</span>@localhost/xepdb1 full=Y REMAP_DIRECTORY='C:\app\usernamne\install_dir\oradata\XE\':'\install_dir\oradata\XE\' directory=DUMP_DIR dumpfile=DB11G.dmp logfile=impdpDB11G.log
</pre><p>Remapping the directory is necessary when you use different directory file naming conventions. The first argument of the REMAP_DIRECTORY parameter is the location of your 11.2 XE data files (the source) and the second argument is the location of the 18c XE data files (target).</p>
                                 <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/xeinw&amp;id=SUTIL-GUID-5DA84A72-B71C-4491-9DD8-7075D9A4B04F" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information about impdp <code class="codeph">REMAP_DIRECTORY</code> parameter syntax
                                 </p>
                              </li>
                           </ol>
                           <div class="p">You can ignore the following errors:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>ORA-39083: Object type TABLESPACE:"SYSAUX" failed to create with error</p>
                                 </li>
                                 <li>
                                    <p>ORA-31685: Object type USER:"SYS" failed due to insufficient privileges</p>
                                 </li>
                                 <li>
                                    <p>ORA-39083: Object type PROCACT_SYSTEM failed to create with error</p>
                                 </li>
                                 <li>
                                    <p>ORA-01917: user or role 'APEX_040000' does not exist</p>
                                 </li>
                                 <li>
                                    <p>ORA-31684  "already exists" errors</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li> Run post database import scripts to configure Oracle Application Express (APEX).
                           <ol type="a">
                              <li>
                                 <p>Download <a href="https://www.oracle.com/technetwork/developer-tools/apex/application-express/apxfix-5137274.zip" target="_blank"><span class="italic">https://www.oracle.com/technetwork/developer-tools/apex/application-express/apxfix-5137274.zip</span></a> and extract the <code class="codeph">apfix.sql</code> script on your server.
                                 </p>
                              </li>
                              <li>
                                 <p>Copy the file <span class="bold">apxfix.sql</span> into the top level directory of the APEX source you used to upgrade APEX in your 11.2 XE database. Change your working directory to that source.
                                 </p>
                              </li>
                              <li>
                                 <p>Run <code class="codeph">apxfix.sql</code> passing the schema name that owns the APEX software. For example, if you upgraded 11.2 XE to APEX 5.1.4 prior to exporting the data, provide the schema name <code class="codeph">APEX_050100</code> as the argument: 
                                 </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt;&nbsp;@apxfix.sql APEX_050100
SQL&gt; EXIT
</pre></li>
                              <li>
                                 <p>Configure the embedded PL/SQL gateway. Run the <code class="codeph">apex_epg_config.sql</code> script passing the file system path to the Oracle Application Express (APEX) software. For example, if you unzipped the APEX software in <code class="codeph">\tmp</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">
SQL&gt;&nbsp;@apex_epg_config.sql SYSTEM_DRIVE:\TEMP</pre></li>
                              <li>
                                 <p>Set the HTTP port for the embedded PL/SQL gateway. For example, to set the HTTP port to 8080:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt; EXEC XDB.DBMS_XDB.SETHTTPPORT(8080);
SQL&gt; COMMIT;</pre></li>
                              <li>
                                 <p>Connect to <code class="codeph">CDB$ROOT</code> and unlock the <code class="codeph">ANONYMOUS</code> user: 
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SESSION SET CONTAINER=CDB$ROOT;
SQL&gt; ALTER USER ANONYMOUS ACCOUNT UNLOCK;
SQL&gt; EXIT</pre></li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>