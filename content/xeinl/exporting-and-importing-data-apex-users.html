<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Exporting and Importing Data for Oracle Application Express (APEX) Users</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation Guide for Linux x86-64">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-express-edition-installation-guide-linux.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-12-07T09:23:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90411-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="exporting-and-importing-data-non-apex-users.html" title="Previous" type="text/html">
      <link rel="next" href="migrating-data-and-applications.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Express Edition Installation Guide for Linux">
    <meta name="dcterms.isVersionOf" content="XEINL">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="exporting-and-importing-data-non-apex-users.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="migrating-data-and-applications.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="importing-and-exporting-data-11.2-xe-and-18c-xe.html" property="item" typeof="WebPage"><span property="name">Exporting and Importing Data between Oracle Database XE 11.2 and 18c</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Exporting and Importing Data for Oracle Application Express (APEX) Users</li>
            </ol>
            <a id="GUID-A37F8BF6-632C-4ADA-82C3-99D1CDC58A53" name="GUID-A37F8BF6-632C-4ADA-82C3-99D1CDC58A53"></a>
            
            <h2 id="XEINL-GUID-A37F8BF6-632C-4ADA-82C3-99D1CDC58A53" class="sect2"><span class="enumeration_section">9.2 </span>Exporting and Importing Data for Oracle Application Express (APEX) Users
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This topic describes how to export and import data between Oracle Database XE 11.2 and XE 18c for Oracle Application Express (APEX) users.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-A37F8BF6-632C-4ADA-82C3-99D1CDC58A53__GUID-6E74EC30-D242-43A1-BC4A-D70E3355DD6C">Exporting Data</p>
                  <ol>
                     <li>
                        <div class="p">Upgrade Oracle Application Express in your 11.2 XE database to at least APEX 5.1.4 which is the minimum supported version in database 18c if you have not already done so. You can download APEX distributions at&nbsp;<a href="http://www.oracle.com/technetwork/developer-tools/apex/downloads/index.html" target="_blank"><span class="italic">http://www.oracle.com/technetwork/developer-tools/apex/downloads/index.html</span></a>. 
                           <div class="infoboxnotealso" id="GUID-A37F8BF6-632C-4ADA-82C3-99D1CDC58A53__GUID-F0E43277-A445-492A-9763-167F80B8EAE5">
                              <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/xeinl&amp;id=HTMIG-GUID-38805604-3203-4365-B9E0-9347DE5D3D7A" target="_blank"><span class="italic">Application Express Installation Guide</span></a> for more information about Upgrading Oracle Application Express (APEX) within Oracle Database Express Edition
                           </div>
                        </div>
                     </li>
                     <li>
                        <p>To export the data from your 11.2 XE database, perform the following steps:</p>
                        <ol type="a">
                           <li>
                              <p>Create a directory on the local file system for the <code class="codeph">DUMP_DIR</code> directory object.
                              </p>
                           </li>
                           <li>
                              <p>Connect to the 11.2 XE database  as user <code class="codeph">SYS</code> using the <code class="codeph">SYSDBA</code> privilege.
                              </p>
                           </li>
                           <li>
                              <p>Create directory object <code class="codeph">DUMP_DIR</code> and grant <code class="codeph">READ</code> and <code class="codeph">WRITE</code> privileges on the directory to the <code class="codeph">SYSTEM</code> user.
                              </p><pre class="oac_no_warn" dir="ltr">sqlplus "/ AS SYSDBA"
SQL&gt; CREATE DIRECTORY DUMP_DIR AS '/<span class="italic">dump_folder</span>';
SQL&gt; GRANT READ, WRITE ON DIRECTORY DUMP_DIR TO SYSTEM;
</pre></li>
                           <li>
                              <p>Export data from the 11.2 XE database in the <code class="codeph">DUMP_DIR</code> directory.
                              </p><pre class="oac_no_warn" dir="ltr">expdp system/<span class="italic">system_password</span> full=Y directory=DUMP_DIR dumpfile=DB11G.dmp logfile=expdpDB11G.log
</pre></li>
                        </ol>
                     </li>
                     <li>
                        <p>Deinstall Oracle Database XE 11.2 if installation of Oracle Database XE 18c is planned on the same system. See <a href="deinstalling-oracle-database-xe-software-linux.html" title="When you deinstall Oracle Database XE, all components, including data files, the database, and the software, are removed.">Deinstalling Oracle Database XE</a> for more information
                        </p>
                     </li>
                     <li>
                        <p>Install Oracle Database XE 18c.</p>
                     </li>
                  </ol>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A37F8BF6-632C-4ADA-82C3-99D1CDC58A53__GUID-0896D31F-67FD-48F2-8B46-F24F2B0DABC6">Importing Data</p>
               </div>
               <!-- class="section" -->
               <ol>
                  <li>
                     <p>To import data to the 18c XE database, perform the following steps:</p>
                     <ol type="a">
                        <li>
                           <p>Connect to 18c XE database as user <code class="codeph">SYS</code> using the <code class="codeph">SYSDBA</code> privilege.
                           </p>
                        </li>
                        <li>
                           <p>Create directory object <code class="codeph">DUMP_DIR</code> and grant <code class="codeph">READ</code> and <code class="codeph">WRITE</code> privileges on the directory to the <code class="codeph">SYSTEM</code> user.
                           </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt; CREATE DIRECTORY DUMP_DIR AS '/<span class="italic">dump_folder</span>';
SQL&gt; GRANT READ, WRITE ON DIRECTORY DUMP_DIR TO SYSTEM;
</pre></li>
                        <li>
                           <p>Import data to your 18c XE database from the dump folder.</p><pre class="oac_no_warn" dir="ltr">impdp system/<span class="italic">system_password</span>@localhost/xepdb1 full=Y REMAP_DIRECTORY='/u01/app/oracle/oradata/XE/':'/opt/oracle/oradata/XE/XEPDB1' directory=DUMP_DIR dumpfile=DB11G.dmp logfile=impdpDB11G.log
</pre><p>Remapping the directory is necessary when you use different directory file naming conventions. The first argument of the REMAP_DIRECTORY parameter is the location of your 11.2 XE data files (the source) and the second argument is the location of the 18c XE data files (target).</p>
                           <p>See <a href="../sutil/datapump-import-utility.html#SUTIL-GUID-5DA84A72-B71C-4491-9DD8-7075D9A4B04F" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information about impdp <code class="codeph">REMAP_DIRECTORY</code> parameter syntax
                           </p>
                        </li>
                     </ol>
                     <div class="p">You can ignore the following errors:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>ORA-39083: Object type TABLESPACE:"SYSAUX" failed to create with error</p>
                           </li>
                           <li>
                              <p>ORA-31685: Object type USER:"SYS" failed due to insufficient privileges</p>
                           </li>
                           <li>
                              <p>ORA-39083: Object type PROCACT_SYSTEM failed to create with error</p>
                           </li>
                           <li>
                              <p>ORA-01917: user or role 'APEX_040000' does not exist</p>
                           </li>
                           <li>
                              <p>ORA-31684  "already exists" errors</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li> Run post database import scripts to configure Oracle Application Express (APEX).
                     <ol type="a">
                        <li>
                           <p>Download <a href="https://www.oracle.com/technetwork/developer-tools/apex/application-express/apxfix-5137274.zip" target="_blank"><span class="italic">https://www.oracle.com/technetwork/developer-tools/apex/application-express/apxfix-5137274.zip</span></a> and extract the <code class="codeph">apfix.sql</code> script on your server.
                           </p>
                        </li>
                        <li>
                           <p>Copy the file <span class="bold">apxfix.sql</span> into the top level directory of the APEX source you used to upgrade APEX in your 11.2 XE database. Change your working directory to that source.
                           </p>
                        </li>
                        <li>
                           <p>Run <code class="codeph">apxfix.sql</code> passing the schema name that owns the APEX software. For example, if you upgraded 11.2 XE to APEX 5.1.4 prior to exporting the data, provide the schema name <code class="codeph">APEX_050100</code> as the argument: 
                           </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt;&nbsp;@apxfix.sql APEX_050100
SQL&gt; EXIT
</pre></li>
                        <li>
                           <p>Configure the embedded PL/SQL gateway. Run the <code class="codeph">apex_epg_config.sql</code> script passing the file system path to the Oracle Application Express (APEX) software. For example, if you unzipped the APEX software in /tmp:
                           </p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt;&nbsp;@apex_epg_config.sql /tmp
</pre><p></p>
                        </li>
                        <li>
                           <p>Set the HTTP port for the embedded PL/SQL gateway. For example, to set the HTTP port to 8080:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SESSION SET CONTAINER=XEPDB1;
SQL&gt; EXEC XDB.DBMS_XDB.SETHTTPPORT(8080);
SQL&gt; COMMIT;</pre></li>
                        <li>
                           <p>Connect to <code class="codeph">CDB$ROOT</code> and unlock the <code class="codeph">ANONYMOUS</code> user: 
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SESSION SET CONTAINER=CDB$ROOT;
SQL&gt; ALTER USER ANONYMOUS ACCOUNT UNLOCK;
SQL&gt; EXIT</pre></li>
                     </ol>
                  </li>
               </ol>
            </div>
         </div>
      </article>
   </body>
</html>