<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can migrate data and applications in and out of your XE database using various methods.">
      <meta name="description" content="You can migrate data and applications in and out of your XE database using various methods.">
      <title>Migrating Data and Applications</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation Guide">
      <meta property="og:description" content="You can migrate data and applications in and out of your XE database using various methods.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation Guide for Linux x86-64">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-express-edition-installation-guide-linux.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-12-07T09:23:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E90411-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="exporting-and-importing-data-apex-users.html" title="Previous" type="text/html">
      <link rel="next" href="deinstalling-oracle-database-xe-software-linux.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Express Edition Installation Guide for Linux">
    <meta name="dcterms.isVersionOf" content="XEINL">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="exporting-and-importing-data-apex-users.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="deinstalling-oracle-database-xe-software-linux.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Migrating Data and Applications</li>
            </ol>
            <a id="GUID-1FA44F6F-E578-4F1B-921E-518EEFFACE07" name="GUID-1FA44F6F-E578-4F1B-921E-518EEFFACE07"></a>
            
            <h2 id="XEINL-GUID-1FA44F6F-E578-4F1B-921E-518EEFFACE07" class="sect2"><span class="enumeration_chapter">10 </span>Migrating Data and Applications
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can migrate data and applications in and out of your XE database using various methods.</p>
               <p>You can export tables and data from one XE installation and import them into another. Oracle recommends you use 11g Release 2 and higher to export your data.</p>
               <p>Migrating from Oracle Database XE 18c to Oracle Database Enterprise Edition 18c is supported via the unplug, plug scenario only. You can unplug a PDB from XE 18c database and plug it into another Enterpise Edition 18c database of the same release. Migrating from Oracle Database XE 18c to any of the other Oracle Database 18c offerings is not supported.</p>
               <p>Upgrade from Oracle Database XE 11.2 to Oracle Database XE 18c is not supported.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-1FA44F6F-E578-4F1B-921E-518EEFFACE07__GUID-D5B05E1B-C632-422D-854F-A5B6F05D76C1">Procedure to Unplug a PDB from 18c XE and Plug into 18c EE</p>
                  <p>A Pluggable Database (PDB) created in Oracle Database XE 18c can be migrated to another Multitenant Container Database (CDB) Enterprise Edition (EE) 18c.</p>
                  <p>The standard plug compatibility requirements apply.&nbsp;See <a href="../multi/overview-of-pdb-creation.html#MULTI-GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" target="_blank"><span class="italic">Oracle Multitenant Administrator’s Guide</span></a> for more information about general prerequisites for PDB creation.
                  </p>
                  <div class="p">For example, you want to unplug your xepdb1 out of the XE 18c XE CDB and plug it in another 18c EE CDB.
                     <ul style="list-style-type: disc;">
                        <li>
                           <div class="p">Unplug xepdb1 from XE database and create the <code>/tmp/xepdb1.xml</code> metadata file using this command :<pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE xepdb1 UNPLUG INTO '/tmp/xepdb1.xml';</pre></div>
                        </li>
                     </ul>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Login to your EE environment. The xepdb1 metadata file should be available from that system.</p>
                        </li>
                        <li>
                           <p>Run the&nbsp;DBMS_PDB.CHECK_PLUG_COMPATIBILITY&nbsp;function to determine whether the unplugged PDB is compatible with the CDB.</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
  compatible CONSTANT VARCHAR2(3) := 
    CASE DBMS_PDB.CHECK_PLUG_COMPATIBILITY(
           pdb_descr_file =&gt; '/tmp/xepdb1.xml',
           pdb_name       =&gt; 'XEPDB1')
    WHEN TRUE THEN 'YES'
    ELSE 'NO'
END;
BEGIN
  DBMS_OUTPUT.PUT_LINE(compatible);
END;
/</pre></li>
                        <li>
                           <div class="p">If the PDB is compatible with the CDB, you can plug xepdb1 into the 18c EE database using this command. <pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE NEWXEPDB USING&nbsp;'/tmp/xepdb1.xml'
NOCOPY 
TEMPFILE REUSE;</pre></div>This example assumes :
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The XML file accurately describes the current locations of the files. Therefore, the&nbsp;SOURCE_FILE_NAME_CONVERT&nbsp;clause or&nbsp;SOURCE_FILE_DIRECTORY&nbsp;clause is not required.</p>
                              </li>
                              <li>
                                 <p>The files are in the correct location. Therefore,&nbsp;NOCOPY&nbsp;is included.</p>
                              </li>
                              <li>
                                 <p>Storage limits are not required for the PDB. Therefore, the&nbsp;STORAGE&nbsp;clause is not required.</p>
                              </li>
                              <li>
                                 <p>A file with the same name as the temp file specified in the XML file exists in the target location. Therefore, the&nbsp;TEMPFILE REUSE&nbsp;clause is required.</p>
                              </li>
                           </ul> See <a href="../multi/plugging-in-a-pdb.html#MULTI-GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" target="_blank"><span class="italic">Oracle Multitenant Administrator’s Guide</span></a>  for more information about plugging in an unplugged PDB
                           <p></p>
                        </li>
                        <li>
                           <div class="p">Run catalog, catproc and utrlp on the plugged in NEWXEPDB.<pre class="oac_no_warn" dir="ltr">sqlplus / as sysdba
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SHOW PDBS;
CON_ID CON_NAME         OPEN MODE  RESTRICTED
------ ---------------- ---------- ----------        
2      PDB$SEED         READ ONLY  NO         
3      ORCLPDB          READ WRITE NO         
4      NEWXEPDB         READ WRITE YES</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SESSION SET CONTAINER=newxepdb;
SQL&gt; SPOOL catalog.log
SQL&gt; @$ORACLE_HOME/rdbms/admin/catalog
SQL&gt; SPOOL OFF;

SQL&gt; SPOOL catproc.log
SQL&gt; @$ORACLE_HOME/rdbms/admin/catproc
SQL&gt; SPOOL OFF;

SQL&gt; SPOOL utlrp.log
SQL&gt; @$ORACLE_HOME/rdbms/admin/utlrp
SQL&gt; SPOOL OFF;
</pre><pre class="oac_no_warn" dir="ltr">SELECT COMP_NAME, STATUS, VERSION FROM DBA_REGISTRY;

COMP_NAME                           STATUS       VERSION
----------------------------------- ------------ ------------
Oracle Database Catalog Views       VALID        18.0.0.0.0
Oracle Database Packages and Types  VALID        18.0.0.0.0
Oracle Real Application Clusters    OPTION OFF   18.0.0.0.0
JServer JAVA Virtual Machine        VALID        18.0.0.0.0
Oracle XDK                          VALID        18.0.0.0.0
Oracle Database Java Packages       VALID        18.0.0.0.0
OLAP Analytic Workspace             VALID        18.0.0.0.0
Oracle XML Database                 VALID        18.0.0.0.0
Oracle Workspace Manager            VALID        18.0.0.0.0
Oracle Text                         VALID        18.0.0.0.0
Oracle Multimedia                   VALID        18.0.0.0.0
Spatial                             VALID        18.0.0.0.0
Oracle OLAP API                     VALID        18.0.0.0.0
Oracle Label Security               VALID        18.0.0.0.0
Oracle Database Vault               VALID        18.0.0.0.0</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT OWNER, OBJECT_NAME FROM DBA_INVALID_OBJECTS WHERE STATUS = 'INVALID';

no rows selected</pre></div>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>