<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Multimedia provides the ORD_DOC PL/SQL package. This package provides procedures to perform common operations such as importing and exporting media data to and from operating system files, and extracting information from media data.">
      <meta name="description" content="Oracle Multimedia provides the ORD_DOC PL/SQL package. This package provides procedures to perform common operations such as importing and exporting media data to and from operating system files, and extracting information from media data.">
      <title>Oracle Multimedia ORD_DOC PL/SQL Package</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Reference">
      <meta property="og:description" content="Oracle Multimedia provides the ORD_DOC PL/SQL package. This package provides procedures to perform common operations such as importing and exporting media data to and from operating system files, and extracting information from media data.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multimedia-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-07T00:32:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E84256-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="oracle-multimedia-ORD_AUDIO-plsql-package.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-multimedia-ORD_IMAGE-plsql-package.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multimedia Reference">
    <meta name="dcterms.isVersionOf" content="AIVUG">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-multimedia-ORD_AUDIO-plsql-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-multimedia-ORD_IMAGE-plsql-package.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Multimedia ORD_DOC PL/SQL Package</li>
            </ol>
            <a id="GUID-BEE2F08E-0758-4ECF-B526-71F9984DFA01" name="GUID-BEE2F08E-0758-4ECF-B526-71F9984DFA01"></a>
            
            <h2 id="AIVUG-GUID-BEE2F08E-0758-4ECF-B526-71F9984DFA01" class="sect2"><span class="enumeration_chapter">4 </span> Oracle Multimedia ORD_DOC PL/SQL Package
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Multimedia provides the ORD_DOC PL/SQL package. This package provides procedures to perform common operations such as importing and exporting media data to and from operating system files, and extracting information from media data.</p>
               <p>This package adds Oracle Multimedia support to audio, image, video, and other heterogeneous media data stored in BLOBs and BFILEs.</p>
               <p>The ORD_DOC package is defined in the <code>orddrpsp.sql</code> file. After installation, this file is available in the Oracle home directory at:
               </p>
               <p><span class="italic"><code class="codeph">&lt;ORACLE_HOME&gt;</code></span><code class="codeph">/ord/im/admin</code> (on Linux and UNIX)
               </p>
               <p><span class="italic"><code class="codeph">&lt;ORACLE_HOME&gt;</code></span><code class="codeph">\ord\im\admin</code> (on Windows)
               </p>
               <p>The examples in these topics assume that the DOCDIR directory and these tables exist: TAUD, TDOC, TIMG, and TVID.</p>
               <p>See the following topics for details about the procedures in the ORD_DOC PL/SQL package:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="oracle-multimedia-ORD_DOC-plsql-package.html#GUID-AE489686-9184-4ACC-9DF8-3195DE64AF74">ORD_DOC PL/SQL Package: getProperties( ) for BFILEs</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-multimedia-ORD_DOC-plsql-package.html#GUID-FE159013-5BC4-4892-85B1-150638C2FC64">ORD_DOC PL/SQL Package: getProperties( ) (all attributes) for BFILEs</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-multimedia-ORD_DOC-plsql-package.html#GUID-F91FBA3F-8F46-400B-B1A0-554B5E9AA21B">ORD_DOC PL/SQL Package: getProperties( ) for BLOBs</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-multimedia-ORD_DOC-plsql-package.html#GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D">ORD_DOC PL/SQL Package: getProperties( ) (all attributes) for BLOBs</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-BEE2F08E-0758-4ECF-B526-71F9984DFA01__GUID-649F8448-747F-4F64-BCB2-ECCB0258413C">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>See <a href="procedures-common-all-oracle-multimedia-plsql-package-apis.html#GUID-AE6D32B3-97E4-4AA6-A463-D2147DBF4AAA" title="The Oracle Multimedia PL/SQL packages include some common procedures that support the movement of multimedia data stored in BLOBs and BFILEs between Oracle database and the local file system.">Procedures Common to All Oracle Multimedia PL/SQL Package APIs</a> for information about exporting and importing media data to and from operating system files
                        </p>
                     </li>
                     <li>
                        <p><a href="procedures-common-all-oracle-multimedia-plsql-package-apis.html#GUID-051FF1C5-A884-45A5-A887-99E9DE099A1C">Examples for Oracle Multimedia PL/SQL Packages</a> for more information about the tables and directories used in the examples
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2"><a id="GUID-AE489686-9184-4ACC-9DF8-3195DE64AF74" name="GUID-AE489686-9184-4ACC-9DF8-3195DE64AF74"></a><h3 id="AIVUG-GUID-AE489686-9184-4ACC-9DF8-3195DE64AF74" class="sect3"><span class="enumeration_section">4.1 </span>ORD_DOC PL/SQL Package: getProperties( ) for BFILEs
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2">Format</p><pre class="pre codeblock"><code>getProperties(docBfile   IN OUT NOCOPY BFILE, 
              attributes IN OUT NOCOPY CLOB);</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Description</p>
                     <p>Reads the document data stored in a BFILE to get the values of the media attributes for supported formats, and then stores them in the input CLOB. This procedure populates the CLOB with a set of format and application properties in XML form.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AE489686-9184-4ACC-9DF8-3195DE64AF74__GUID-41C942FF-F5E5-4B2C-9361-D0BE8E030A23">
                              <!-- --></a>docBfile
                        </dt>
                        <dd>
                           <p>The document data represented as a BFILE.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE489686-9184-4ACC-9DF8-3195DE64AF74__GUID-0C092F76-42A5-494B-B4CB-F3218BB30892">
                              <!-- --></a>attributes
                        </dt>
                        <dd>
                           <p>The CLOB to hold the XML attribute information extracted by the getProperties( ) procedure. This CLOB is populated with a set of format and application properties of the document BFILE data in XML form.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Usage Notes</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Pragmas</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Exceptions</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-AE489686-9184-4ACC-9DF8-3195DE64AF74__GUID-40AD9E86-7B97-429A-B08F-DFAE9BB814E4">
                     <p>Get the property information for known document attributes:</p><pre class="pre codeblock"><code>DECLARE
   doc_attrib CLOB;
   doc_data BFILE:=BFILENAME('DOCDIR','testvid.dat');
BEGIN
   DBMS_LOB.CREATETEMPORARY(doc_attrib, FALSE, DBMS_LOB.CALL);

   -- get properties from bfile
   ORDSYS.ORD_DOC.getProperties(doc_data, doc_attrib);

   -- print length of extracted properties
   DBMS_OUTPUT.PUT_LINE('Size of XML Annotations ' ||
        TO_CHAR(DBMS_LOB.GETLENGTH(doc_attrib)));

EXCEPTION
   WHEN OTHERS THEN
        RAISE;
END;
/</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-FE159013-5BC4-4892-85B1-150638C2FC64" name="GUID-FE159013-5BC4-4892-85B1-150638C2FC64"></a><h3 id="AIVUG-GUID-FE159013-5BC4-4892-85B1-150638C2FC64" class="sect3"><span class="enumeration_section">4.2 </span>ORD_DOC PL/SQL Package: getProperties( ) (all attributes) for BFILEs
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2">Format</p><pre class="pre codeblock"><code>getProperties(docBfile      IN OUT NOCOPY BFILE, 
              mimeType      OUT VARCHAR2, 
              format        OUT VARCHAR2, 
              contentLength OUT INTEGER);</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Description</p>
                     <p>Reads the document data stored in a BFILE to get the values of the media attributes for supported formats, and then returns them as explicit parameters. This procedure extracts the properties for these attributes of the document data: MIME type, content length, and format.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-FE159013-5BC4-4892-85B1-150638C2FC64__GUID-01D0DDEF-7F75-4B3E-9321-99B2DE9D2E84">
                              <!-- --></a>docBfile
                        </dt>
                        <dd>
                           <p>The document data represented as a BFILE.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FE159013-5BC4-4892-85B1-150638C2FC64__GUID-18978A7D-DAC2-4F2D-8FF9-D11A5FAF7F7D">
                              <!-- --></a>mimeType
                        </dt>
                        <dd>
                           <p>The MIME type of the document data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FE159013-5BC4-4892-85B1-150638C2FC64__GUID-3A02858F-9298-482A-9281-8C53D9004342">
                              <!-- --></a>format
                        </dt>
                        <dd>
                           <p>The format of the document data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FE159013-5BC4-4892-85B1-150638C2FC64__GUID-2A3EF722-76B2-431A-B7C8-4487976CC62C">
                              <!-- --></a>contentLength
                        </dt>
                        <dd>
                           <p>The length of the content, in bytes.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Usage Notes</p>
                     <p>If a property cannot be extracted from the media source, then the respective parameter is set to NULL.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Pragmas</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Exceptions</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FE159013-5BC4-4892-85B1-150638C2FC64__GUID-C314446A-3355-476A-B332-C7F6BD317EF6">
                     <p>Get the property information for known document attributes:</p><pre class="pre codeblock"><code>DECLARE
   doc_data BFILE:=BFILENAME('DOCDIR','testimg.dat');
   doc_mimeType VARCHAR2(80);
   doc_format VARCHAR2(32):=NULL;
   doc_contentLength NUMBER;
BEGIN

   -- get properties from bfile
   ORDSYS.ORD_DOC.getProperties(doc_data,
        doc_mimeType, doc_format, doc_contentLength);

   -- print properties
   DBMS_OUTPUT.PUT_LINE('mimeType: ' || doc_mimeType );
   DBMS_OUTPUT.PUT_LINE('format: ' || doc_format );
   DBMS_OUTPUT.PUT_LINE('contentLength: ' || doc_contentLength );

EXCEPTION
   WHEN OTHERS THEN
        RAISE;
END;
/</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-F91FBA3F-8F46-400B-B1A0-554B5E9AA21B" name="GUID-F91FBA3F-8F46-400B-B1A0-554B5E9AA21B"></a><h3 id="AIVUG-GUID-F91FBA3F-8F46-400B-B1A0-554B5E9AA21B" class="sect3"><span class="enumeration_section">4.3 </span>ORD_DOC PL/SQL Package: getProperties( ) for BLOBs
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2">Format</p><pre class="pre codeblock"><code>getProperties(docBlob    IN BLOB, 
              attributes IN OUT NOCOPY CLOB);
</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Description</p>
                     <p>Reads the document data stored in a BLOB to get the values of the media attributes for supported formats, and then stores them in the input CLOB. This procedure extracts the properties for these attributes of the document data: MIME type, content length, and format. This procedure populates the CLOB with a set of format and application properties in XML form.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F91FBA3F-8F46-400B-B1A0-554B5E9AA21B__GUID-6E5BDEA4-2409-4745-89F7-9E13955B9D22">
                              <!-- --></a>docBlob
                        </dt>
                        <dd>
                           <p>The document data represented as a BLOB.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F91FBA3F-8F46-400B-B1A0-554B5E9AA21B__GUID-AB6A6F3E-6C5D-4CF8-A855-B72C77F9249A">
                              <!-- --></a>attributes
                        </dt>
                        <dd>
                           <p>The CLOB to hold the XML attribute information extracted by the getProperties( ) procedure. This CLOB is populated with a set of format and application properties of the document BLOB data in XML form.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Usage Notes</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Pragmas</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Exceptions</p>
                     <p>ORDSourceExceptions.EMPTY_SOURCE</p>
                     <p>This exception is raised when the input docBLOB parameter is NULL.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F91FBA3F-8F46-400B-B1A0-554B5E9AA21B__GUID-5438A49D-FD72-4659-AC5A-FC7C9E3AAAA3">
                     <p>Get the property information for known document attributes:</p><pre class="pre codeblock"><code>DECLARE
   doc_attrib CLOB;
   doc_data BLOB;
BEGIN
   SELECT document,attributes INTO doc_data,doc_attrib 
       FROM tdoc WHERE N=1 FOR UPDATE;

   -- get properties from blob 
   ORDSYS.ORD_DOC.getProperties(doc_data, doc_attrib);
  
   -- print length of extracted properties
   DBMS_OUTPUT.PUT_LINE('Size of XML Annotations ' ||
        TO_CHAR(DBMS_LOB.GETLENGTH(doc_attrib)));

   UPDATE tdoc SET document=doc_data, attributes=doc_attrib WHERE N=1;
   COMMIT;

EXCEPTION
   WHEN OTHERS THEN
        RAISE;
END;
/</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D" name="GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D"></a><h3 id="AIVUG-GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D" class="sect3"><span class="enumeration_section">4.4 </span>ORD_DOC PL/SQL Package: getProperties( ) (all attributes) for BLOBs
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2">Format</p><pre class="pre codeblock"><code>getProperties(docBLOB       IN BLOB, 
              mimeType      OUT VARCHAR2, 
              format        OUT VARCHAR2, 
              contentLength OUT INTEGER);</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Description</p>
                     <p>Reads the document data stored in a BLOB to get the values of the media attributes for supported formats, and then returns them as explicit parameters. This procedure extracts the properties for these attributes of the document data: MIME type, content length, and format.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D__GUID-88471D99-6608-4A71-AD71-4EF95748C51B">
                              <!-- --></a>docBLOB
                        </dt>
                        <dd>
                           <p>The document data represented as a BLOB.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D__GUID-C99FDF1D-E045-478F-81DD-441221CDC5D9">
                              <!-- --></a>mimeType
                        </dt>
                        <dd>
                           <p>The MIME type of the document data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D__GUID-FFF411C7-1AD5-4630-B03C-4DC72B7B0375">
                              <!-- --></a>format
                        </dt>
                        <dd>
                           <p>The format of the document data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D__GUID-1CADAA15-6305-453B-830F-D38CDFB9A592">
                              <!-- --></a>contentLength
                        </dt>
                        <dd>
                           <p>The length of the content, in bytes.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Usage Notes</p>
                     <p>If a property cannot be extracted from the media source, then the respective parameter is set to NULL.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Pragmas</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Exceptions</p>
                     <p>ORDSourceExceptions.EMPTY_SOURCE</p>
                     <p>This exception is raised when the input docBLOB parameter is NULL.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-22F34707-20A3-44A4-B496-3E0B5B68C26D__GUID-3B1B42A0-46B6-4F58-9198-3E89789E69E6">
                     <p>Get the property information for known document attributes:</p><pre class="pre codeblock"><code>DECLARE
   doc_data BLOB;
   doc_mimeType VARCHAR2(80);
   doc_format VARCHAR2(32):=NULL;
   doc_contentLength NUMBER;
BEGIN
   SELECT document, mimetype, format, contentlength 
       INTO doc_data, doc_mimeType, doc_format, doc_contentLength 
       FROM tdoc WHERE N=1 FOR UPDATE;

   -- get properties from blob
   ORDSYS.ORD_DOC.getProperties(doc_data, doc_mimeType, doc_format, 
       doc_contentLength);

   -- print properties
   DBMS_OUTPUT.PUT_LINE('mimeType: ' || doc_mimeType );
   DBMS_OUTPUT.PUT_LINE('format: ' || doc_format );
   DBMS_OUTPUT.PUT_LINE('contentLength: ' || doc_contentLength );

   UPDATE tdoc SET
         document=doc_data,
         mimetype=doc_mimeType,
         format=doc_format,
         contentlength=doc_contentLength
       WHERE N=1;
   COMMIT;

EXCEPTION
   WHEN OTHERS THEN
        RAISE;
END;
/</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>