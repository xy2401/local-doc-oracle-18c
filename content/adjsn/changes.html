<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Changes in Oracle Database for this book are described.">
      <meta name="description" content="Changes in Oracle Database for this book are described.">
      <title>Changes in This Release for Oracle Database JSON Developer's Guide</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JSON Developer's Guide">
      <meta property="og:description" content="Changes in Oracle Database for this book are described.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JSON Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="json-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-22T14:01:42-08:00">
      <meta name="dcterms.title" content="JSON Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="2015, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83706-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html">
      <link rel="next" href="intro-to-json-data-and-oracle-database.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADJSN">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="intro-to-json-data-and-oracle-database.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JSON Developer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Changes in This Release for Oracle Database JSON Developer's Guide</li>
            </ol>
            <a id="GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" name="GUID-D31E988A-82B0-4C21-A617-EC5FC1023821"></a><a id="ADJSN6162"></a>
            
            <h2 id="ADJSN-GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" class="sect2">Changes in This Release for Oracle Database JSON Developer's Guide</h2>
         </header>
         <div class="ind">
            <div>
               <p>Changes in Oracle Database for this book are described.</p>
               <div class="section">
                  <p><span class="italic">Oracle Database JSON Developer's Guide</span> was a new book in Oracle Database 12c Release 2 (12.2.0.1). Information about using JSON data in Oracle Database 12c Release 1 (12.1.0.2) is available in <a class="new-window" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADXDB-GUID-A8A58B49-13A5-4F42-8EA0-508951DAE0BB"><span><cite>Oracle XML&nbsp;DB Developer’s Guide</cite></span></a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="changes.html#GUID-6834FDD2-A670-43FC-99AC-840B81B8904B">Changes in Oracle Database Release 18c, Version 18.1, for JSON Developer’s Guide</a><br>The changes in JSON support and in <span class="italic">Oracle Database JSON Developer’s Guide</span> for Oracle Database Release 18c, Version 18.1, are described.
                  </li>
                  <li class="ulchildlink"><a href="changes.html#GUID-EC6F5AAB-4A2E-4ABB-84BF-AB467620C391">Changes in Oracle Database 12c Release 2 (12.2.0.1) for JSON Developer’s Guide</a><br>The changes in JSON support and in <span class="italic">Oracle Database JSON Developer’s Guide</span> for Oracle Database 12c Release 2 (12.2.0.1) are described.
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" name="GUID-6834FDD2-A670-43FC-99AC-840B81B8904B"></a><h3 id="ADJSN-GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" class="sect3">Changes in Oracle Database Release 18c, Version 18.1, for JSON Developer’s Guide</h3>
               <div>
                  <p>The changes in JSON support and in <span class="italic">Oracle Database JSON Developer’s Guide</span> for Oracle Database Release 18c, Version 18.1, are described.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3">New Features</a><br>The following features are new in this release.
                     </li>
                     <li class="ulchildlink"><a href="changes.html#GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA">Deprecated Features</a><br>The following features are deprecated in this release, and may be desupported in a future release.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="changes.html#GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" title="Changes in Oracle Database for this book are described.">Changes in This Release for Oracle Database JSON Developer's Guide</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" name="GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3"></a><h4 id="ADJSN-GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" class="sect4">New Features</h4>
                  <div>
                     <p>The following features are new in this release.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="changes.html#GUID-8C9B00DD-45D8-499B-919C-8632E034B664">SQL Enhancements</a><br>Multiple SQL enhancements are provided for storing and querying JSON data in the database.
                        </li>
                        <li class="ulchildlink"><a href="changes.html#GUID-7F43AE55-4176-477E-8D3B-021ED838106D">Sharding Support</a><br>Sharding support for JSON data has been enhanced.
                        </li>
                        <li class="ulchildlink"><a href="changes.html#GUID-01465965-9D45-413A-9EA6-B5BFED51A554">Performance Improvements for LOB Storage</a><br>Performance has been improved for JSON data that uses LOB storage. This particularly affects the common use case of reading and writing an entire JSON document stored as a LOB.
                        </li>
                        <li class="ulchildlink"><a href="changes.html#GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883">JSON Search Index Support for Longer Field Names</a><br>The maximum JSON field name length supported for a JSON search index is now 255 bytes (formerly it was 64 bytes).
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="changes.html#GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" title="The changes in JSON support and in Oracle Database JSON Developer’s Guide for Oracle Database Release 18c, Version 18.1, are described.">Changes in Oracle Database Release 18c, Version 18.1, for JSON Developer’s Guide</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664" name="GUID-8C9B00DD-45D8-499B-919C-8632E034B664"></a><h5 id="ADJSN-GUID-8C9B00DD-45D8-499B-919C-8632E034B664" class="sect5">SQL Enhancements</h5>
                     <div>
                        <p>Multiple SQL enhancements are provided for storing and querying JSON data in the database.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-B6C93791-EB73-4E44-8B39-B255445560EA">You Can Specify That a SQL Expression Returns JSON Data</p>
                           <p>You can apply SQL function <code class="codeph">treat</code>, with keywords <code class="codeph">AS JSON</code>, to a SQL expression to specify that the expression returns JSON data. This is useful in situations where Oracle cannot determine that the result is JSON data. It is also useful in situations where you want to force some text to be interpreted as JSON data. For example, you can use it to tell Oracle to interpret a <code class="codeph">VARCHAR2</code> value of <code class="codeph">{}</code> not as a string but as an empty JSON object.
                           </p>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-8BF7DE13-2E57-403E-A73F-84EED76E1EE8">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/TREAT.html#SQLRF-GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p> 
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-C04F6054-5E9C-4DE7-B008-CBEE3073DCF5">LOB Results for JSON_VALUE, JSON_QUERY, and JSON_TABLE</p>
                           <p>SQL/JSON function <code class="codeph">json_value</code> can now return a <code class="codeph">CLOB</code> instance.
                           </p>
                           <p>SQL/JSON function <code class="codeph">json_query</code> can now return a <code class="codeph">CLOB</code> or <code class="codeph">BLOB</code> instance. A <code class="codeph">BLOB</code> result is in the AL32UTF8 character set.
                           </p>
                           <p>As before, the data type of a <code class="codeph">json_table</code> column depends on whether the column is specified as <code class="codeph">FORMAT JSON</code>. If it is, the <code class="codeph">json_query</code> return types are supported; if it is not, the <code class="codeph">json_value</code> return types are supported.
                           </p>
                           <p>Previously: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">json_value</code> supported only <code class="codeph">VARCHAR2</code>, <code class="codeph">NUMBER</code>, <code class="codeph">DATE</code>, <code class="codeph">TIMESTAMP</code>, <code class="codeph">TIMESTAMP WITH TIME ZONE</code>, and <code class="codeph">SDO_GEOMETRY</code></p> as return types.
                              </li>
                              <li>
                                 <p><code class="codeph">json_query</code> supported only <code class="codeph">VARCHAR2</code>  as return type.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-BACAE924-5378-4F6F-A14C-6127E035349D">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/Single-Row-Functions.html#SQLRF-GUID-C13171B3-C070-4137-AC71-7A30BD26F380" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-0B5A0307-418B-4E5D-9303-C180D4FE2AC8">SQL/JSON Generation Function Enhancements</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Optional keyword <code class="codeph">STRICT</code> has been added. When present, any inputs that are declared or otherwise expected to be JSON data are checked to ensure that they are, in fact, well-formed JSON data. If any of them is not then an error is raised. 
                                 </p>
                                 <p>(You can declare input to be JSON by using keywords <code class="codeph">FORMAT JSON</code> or by using SQL function <code class="codeph">treat</code> with keywords <code class="codeph">AS JSON</code>. Input is expected to be JSON data if it is from a table column that has an <code class="codeph">is json</code> constraint or it is the output of another JSON generation function.)
                                 </p>
                              </li>
                              <li>
                                 <p>The SQL/JSON generation functions (<code class="codeph">json_object</code>, <code class="codeph">json_array</code>, <code class="codeph">json_objectagg</code>, and <code class="codeph">json_arrayagg</code>) can now return a <code class="codeph">CLOB</code> or <code class="codeph">BLOB</code> instance. A <code class="codeph">BLOB</code> result is in the AL32UTF8 character set.
                                 </p>
                              </li>
                              <li>
                                 <p>The input expression to a generation function can now be of any of these SQL data types (in addition to <code class="codeph">NUMBER</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">DATE</code> and <code class="codeph">TIMESTAMP</code>):
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">BINARY_DOUBLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">BINARY_FLOAT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLOB</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">BLOB</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">NVARCHAR2</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">RAW</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">TIMESTAMP WITH TIME ZONE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">INTERVAL YEAR TO MONTH</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">INTERVAL DAY TO SECOND</code></p>
                                    </li>
                                 </ul>
                                 <p>How the result of generation is rendered in JSON depends on the data type of the input.</p>
                                 <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-67D9F815-B86E-4F55-8BB0-2788B4C346C8">
                                    <p class="notep1">See Also:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="generation.html#GUID-C0F8F837-EE36-4EDD-9261-6E8A9245906C__HANDLINGOFINPUTVALUESFORSQLJSONGENE-E12FED19">Handling of Input Values For SQL/JSON Generation Functions</a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/Single-Row-Functions.html#SQLRF-GUID-C13171B3-C070-4137-AC71-7A30BD26F380" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-148F598C-5395-42EA-81A0-3C9BA4CBA011">Item Methods for SQL/JSON Path Expressions</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>New item methods have been added: <code class="codeph">numberOnly()</code>, <code class="codeph">stringOnly()</code>, <code class="codeph">boolean()</code>, <code class="codeph">booleanOnly()</code>, <code class="codeph">size()</code>, and <code class="codeph">type()</code>.
                                 </p>
                                 <p>The data-type conversion methods with “only” in their name are the same as the corresponding methods with names without “only”, except that the former convert <span class="italic">only </span>JSON values that are of the given type (e.g., <code class="codeph">number</code>) to the related SQL data type (e.g. <code class="codeph">NUMBER</code>). The methods without “only” in the name allow conversion, when possible, of <span class="italic">any </span>JSON value to the given SQL data type.
                                 </p>
                              </li>
                              <li>
                                 <p>All item methods can now be used in path expressions for SQL/JSON functions <code class="codeph">json_value</code>, <code class="codeph">json_query</code>, and <code class="codeph">json_table</code> (columns). In Oracle Database 12c Release 2 (12.2.0.1), item methods could only be used in path expressions for SQL/JSON condition <code class="codeph">json_exists</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Item method <code class="codeph">string()</code> can now return <code class="codeph">CLOB</code> or <code class="codeph">BLOB</code> (in addition to <code class="codeph">VARCHAR2</code>). The default is <code class="codeph">VARCHAR2(4000)</code>.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-65C0A164-8821-4C38-8D1C-F7C287161C66">
                              <p class="notep1">See Also:</p>
                              <p><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="The Oracle item methods available for a SQL/JSON path expression are described.">SQL/JSON Path Expression Item Methods</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-D83ED689-7053-4582-A659-761371C18B03">JSON Data Guide Enhancements</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle SQL aggregate function <code class="codeph">json_dataguide</code> now accepts optional formatting arguments:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>You can return a <span class="italic">hierarchical</span> dataguide, by specifying keyword <code class="codeph"><span class="bold">FORMAT</span></code> with argument <code class="codeph">DBMS_JSON.FORMAT_<span class="bold">HIERARCHICAL</span></code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>You can specify <span class="italic">pretty-printing</span> (indentation to improve readability) of the returned dataguide, by specifying keyword <code class="codeph"><span class="bold">PRETTY</span></code> with argument <code class="codeph">DBMS_JSON.<span class="bold">PRETTY</span></code> .
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>New data-dictionary views are available, to show you the dataguide information recorded for individual JSON object <span class="italic">fields</span> in a dataguide-enabled search index: <code class="codeph">USER_JSON_DATAGUIDE_FIELDS</code>, <code class="codeph">ALL_JSON_DATAGUIDE_FIELDS</code>, <code class="codeph">DBA_JSON_DATAGUIDE_FIELDS</code>. (These are in addition to views <code class="codeph">USER_JSON_DATAGUIDES</code>, <code class="codeph">ALL_JSON_DATAGUIDES</code>, and <code class="codeph">DBA_JSON_DATAGUIDES</code>, which list the tables that have JSON columns with a dataguide-enabled search index.)
                                 </p>
                              </li>
                              <li>
                                 <p>For JSON documents that contain an array of scalar values, a dataguide now records the scalar types as well as the type <code class="codeph">ARRAY</code>. The recorded path for the scalar values is indicated in a flat data guide by appending <code class="codeph"><span class="bold">[*]</span></code> to the path recorded for the array itself. 
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-49CA8D9A-1D79-4782-98B1-9F3B8739B42B">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/JSON_DATAGUIDE.html#SQLRF-GUID-4CF32887-0F46-4925-8381-AE2B74343933" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p> 
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-954E3B5B-2BD1-463E-872B-31D84DB9AC6E">Data-Dictionary Views That Record the Presence of JSON Columns</p>
                           <p>Data-dictionary views <code class="codeph">USER_JSON_COLUMNS</code>, <code class="codeph">ALL_JSON_COLUMNS</code>, and <code class="codeph">DBA_JSON_COLUMNS</code> now list the <span class="italic">views</span>, as well as the tables, that have columns with JSON data.
                           </p>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-FDF06B6B-7447-42A1-9049-85B34FAA0A34">
                              <p class="notep1">See Also:</p>
                              <p><a href="../refrn/ALL_JSON_COLUMNS.html#REFRN-GUID-0FEC03C4-8F07-47C0-8FC0-A771EBF5D057" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about <code class="codeph">ALL_JSON_COLUMNS</code> and the related data-dictionary views
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-FAD28A1C-D95D-45D6-89A8-C3D31A62F38A">SQL/JSON Function JSON_TABLE Syntax</p>
                           <p>The syntax of <code class="codeph">json_table</code> has been enhanced by making it simpler for some common use cases:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You can now use simple dot-notation syntax in place of a path expression.</p>
                              </li>
                              <li>
                                 <p>If a column is the projection of a JSON object field, and if you want the column to have the same name as the field, then you need not provide a path expression to that object — the path is inferred from the column name.</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-FF922CC1-11B5-4F75-ABF6-7F7D0737980F">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/JSON_TABLE.html#SQLRF-GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p> 
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-CC3A5138-90F0-484C-BF8F-D1BA3EAE50C7">ON STATEMENT Support For JSON_TABLE Materialized Views</p>
                           <p>You can now use keywords <code class="codeph">ON STATEMENT</code> when creating a materialized view using a <code class="codeph">json_table</code> query. Using <code class="codeph">ON STATEMENT</code>  instead of <code class="codeph">ON COMMIT</code> means that the view is automatically  synchronized for each DML statement against the base table.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-6B65B807-FBB2-4E99-8EC8-8DCB2213939F">New SQL Function TO_UTC_TIMESTAMP_TZ</p>
                           <p>SQL function <code class="codeph"><span class="bold">to_UTC_timestamp_tz</span></code> takes as input an ISO 8601 date format string and returns an instance of SQL data type <code class="codeph">TIMESTAMP WITH TIMEZONE</code>. It normalizes the input to UTC time (Coordinated Universal Time, formerly Greenwich Mean Time). Unlike SQL function <code class="codeph">to_timestamp_tz</code>, the new function assumes that the input string uses the ISO 8601 date format, defaulting the time zone to UTC 0.
                           </p>
                           <p>A typical use of this function would be to provide its output to SQL function <code class="codeph">sys_extract_UTC</code>, obtaining a UTC time that is then passed as a SQL bind variable to SQL/JSON condition <code class="codeph">json_exists</code>, to perform a time-stamp range comparison.
                           </p>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-F6FF8FF6-3773-4E1A-BDEA-6DAE47639138">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/adjsn&amp;id=wikipedia_iso8601" target="_blank">ISO 8601</a> for information about the ISO date formats
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-BB8B415B-84FB-4A90-B8DC-83AAE5191C8E">New Oracle SQL Condition JSON_EQUAL</p>
                           <p>Oracle SQL condition <code class="codeph">json_equal</code> compares two JSON values and returns true if they are equal, false otherwise. For this comparison, insignificant whitespace and insignificant object member order are ignored. For example, JSON objects are equal if they have the same members, regardless of their order. However, if either of two compared objects has one or more duplicate fields then the value returned by <code class="codeph">json_equal</code> is unspecified.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="creating-a-table-with-a-json-column.html#GUID-74BBD890-EE42-425E-AF09-FEFC5F9093AF" title="How can you tell whether a given column of a table or view is well-formed JSON data? Whenever this is the case, the column is listed in the following static data dictionary views: DBA_JSON_COLUMNS, USER_JSON_COLUMNS, and ALL_JSON_COLUMNS.">Determining Whether a Column Necessarily Contains JSON Data</a></li>
                              <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="The basic syntax of a SQL/JSON path expression is presented. It is composed of a context item followed by zero or more object or array steps, depending on the nature of the context item, followed optionally by a function step. Examples are provided.">Basic SQL/JSON Path Expression Syntax</a></li>
                              <li><a href="json-dataguide.html#GUID-70D47F29-BA01-4908-A5C1-8EB10AAB89A0" title="You can query static data-dictionary views to see which tables have JSON columns with data guide-enabled JSON search indexes and to extract JSON object field information that is recorded in dataguide-enabled JSON search indexes.">Data-Dictionary Views For Persistent Data-Guide Information</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-7F43AE55-4176-477E-8D3B-021ED838106D" name="GUID-7F43AE55-4176-477E-8D3B-021ED838106D"></a><h5 id="ADJSN-GUID-7F43AE55-4176-477E-8D3B-021ED838106D" class="sect5">Sharding Support</h5>
                     <div>
                        <p>Sharding support for JSON data has been enhanced.</p>
                        <p>The following are now supported:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>JSON search index on sharded tables, whether user-managed or system-managed.</p>
                           </li>
                           <li>
                              <p>Cross-shard (and in-shard) queries for JSON data returned as <code class="codeph">CLOB</code> or <code class="codeph">BLOB</code> from SQL and PL/SQL. This includes projection of JSON data to <code class="codeph">CLOB</code> and <code class="codeph">BLOB</code> columns using SQL/JSON function <code class="codeph">json_table</code>.
                              </p>
                           </li>
                           <li>
                              <p>Evaluation on individual shards of cross-shard queries that use SQL/JSON functions and conditions. This includes the use of the following: </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Function <code class="codeph">json_value</code> and aggregate function <code class="codeph">json_dataguide</code> in a <code class="codeph">SELECT</code> clause
                                    </p>
                                 </li>
                                 <li>
                                    <p>Function <code class="codeph">json_table</code> in a <code class="codeph">FROM</code> clause
                                    </p>
                                 </li>
                                 <li>
                                    <p>Function <code class="codeph">json_value</code>, and conditions <code class="codeph">json_exists</code> and <code class="codeph">json_textcontains</code>, in a <code class="codeph">WHERE</code> clause.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Automatic relocation of base-table and index storage-table partitions during chunk migration.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7F43AE55-4176-477E-8D3B-021ED838106D__GUID-24B432DC-BF63-45F4-9B50-D065F12194EB">
                           <p class="notep1">See Also:</p>
                           <p><a href="../shard/changes-in-this-release.html#SHARD-GUID-337B61E5-4340-4027-82D8-CB3DCF1EF38D" target="_blank"><span><cite>Oracle Sharding Guide</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-01465965-9D45-413A-9EA6-B5BFED51A554" name="GUID-01465965-9D45-413A-9EA6-B5BFED51A554"></a><h5 id="ADJSN-GUID-01465965-9D45-413A-9EA6-B5BFED51A554" class="sect5">Performance Improvements for LOB Storage</h5>
                     <div>
                        <p>Performance has been improved for JSON data that uses LOB storage. This particularly affects the common use case of reading and writing an entire JSON document stored as a LOB.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883" name="GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883"></a><h5 id="ADJSN-GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883" class="sect5">JSON Search Index Support for Longer Field Names</h5>
                     <div>
                        <p>The maximum JSON field name length supported for a JSON search index is now 255 bytes (formerly it was 64 bytes).</p>
                        <div class="infoboxnote" id="GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883__GUID-41D376D1-A312-4BE0-BBAC-F1793643EE4C">
                           <p class="notep1">Note:</p>
                           <p>You <span class="bold">must rebuild</span> any JSON search indexes and Oracle Text indexes created prior to Oracle Database 18c if they index JSON data that contains object fields with names longer than 64 bytes. See <a href="../upgrd/recommended-and-best-practices-complete-upgrading-oracle-database.html#UPGRD-GUID-7A5E0A01-7711-4EEA-88DD-EECF16B9A6F7" target="_blank"><span><cite>Oracle Database Upgrade Guide</cite></span></a> for more information.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="oracle-json-restrictions.html#GUID-1DB81125-54A7-4CB6-864B-78E0E7E407C9" title="The restrictions associated with Oracle support of JSON data in Oracle Database are listed here.">Oracle Database JSON Restrictions</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA" name="GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA"></a><h4 id="ADJSN-GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA" class="sect4">Deprecated Features</h4>
                  <div>
                     <p>The following features are deprecated in this release, and may be desupported in a future release.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SQL/JSON functions returning a Boolean JSON value as a number (zero or one). Return the value as <code class="codeph">VARCHAR2</code> or (in PL/SQL only) as <code class="codeph">BOOLEAN</code>; do not return it as <code class="codeph">NUMBER</code>. If you really need a SQL numeric value then you can use SQL <code class="codeph">DECODE</code> or <code class="codeph">CASE WHEN</code> to obtain zero or one from a <code class="codeph">VARCHAR2</code> value.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="changes.html#GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" title="The changes in JSON support and in Oracle Database JSON Developer’s Guide for Oracle Database Release 18c, Version 18.1, are described.">Changes in Oracle Database Release 18c, Version 18.1, for JSON Developer’s Guide</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB6241"></a><div class="props_rev_3"><a id="GUID-EC6F5AAB-4A2E-4ABB-84BF-AB467620C391" name="GUID-EC6F5AAB-4A2E-4ABB-84BF-AB467620C391"></a><h3 id="ADJSN-GUID-EC6F5AAB-4A2E-4ABB-84BF-AB467620C391" class="sect3">Changes in Oracle Database 12c Release 2 (12.2.0.1) for JSON Developer’s Guide</h3>
               <div>
                  <p>The changes in JSON support and in <span class="italic">Oracle Database JSON Developer’s Guide</span> for Oracle Database 12c Release 2 (12.2.0.1) are described.
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="changes.html#GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6">New Features</a><br>The following features are new in this release.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="changes.html#GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" title="Changes in Oracle Database for this book are described.">Changes in This Release for Oracle Database JSON Developer's Guide</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6242"></a><div class="props_rev_3"><a id="GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6" name="GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6"></a><h4 id="ADJSN-GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6" class="sect4">New Features</h4>
                  <div>
                     <p>The following features are new in this release.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="changes.html#GUID-5E538A77-1B27-452F-8359-8C3F42283018">Storage and Management of JSON Data</a><br></li>
                        <li class="ulchildlink"><a href="changes.html#GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C">Queries of JSON Data</a><br></li>
                        <li class="ulchildlink"><a href="changes.html#GUID-ACFA9A8A-E999-420F-8774-D3860704277D">Performance</a><br></li>
                        <li class="ulchildlink"><a href="changes.html#GUID-483888FA-2D10-4C98-B19A-C4D7C45399E0">Other</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="changes.html#GUID-EC6F5AAB-4A2E-4ABB-84BF-AB467620C391" title="The changes in JSON support and in Oracle Database JSON Developer’s Guide for Oracle Database 12c Release 2 (12.2.0.1) are described.">Changes in Oracle Database 12c Release 2 (12.2.0.1) for JSON Developer’s Guide</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-5E538A77-1B27-452F-8359-8C3F42283018" name="GUID-5E538A77-1B27-452F-8359-8C3F42283018"></a><h5 id="ADJSN-GUID-5E538A77-1B27-452F-8359-8C3F42283018" class="sect5">Storage and Management of JSON Data</h5>
                     <div>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="changes.html#GUID-3A12031E-13A8-48A4-B0B5-AFA9CE914518">JSON Data Partitioning</a><br>You can now partition a table using a JSON virtual column as the partitioning key.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-CCDAD42B-C471-49F8-9EFA-A9328F07DD65">JSON Search Index on a Partitioned Table</a><br>You can now create a JSON search index on a partitioned base table (with range, list, hash, or interval partitioning).
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-3A12031E-13A8-48A4-B0B5-AFA9CE914518" name="GUID-3A12031E-13A8-48A4-B0B5-AFA9CE914518"></a><h6 id="ADJSN-GUID-3A12031E-13A8-48A4-B0B5-AFA9CE914518" class="sect6">JSON Data Partitioning</h6>
                        <div>
                           <p>You can now partition a table using a JSON virtual column as the partitioning key.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-3A12031E-13A8-48A4-B0B5-AFA9CE914518__GUID-0C928034-E8FB-4B1F-8962-DAE77D4BBFE9">
                              <p class="notep1">See Also:</p>
                              <p><a href="partitioning-json-data.html#GUID-E1AA281B-483C-48EC-8E5C-5B460EB8EA57" title="You can partition a table using a JSON virtual column as the partitioning key. The virtual column is extracted from a JSON column using SQL/JSON function json_value.">Partitioning JSON Data</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-5E538A77-1B27-452F-8359-8C3F42283018">Storage and Management of JSON Data</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-CCDAD42B-C471-49F8-9EFA-A9328F07DD65" name="GUID-CCDAD42B-C471-49F8-9EFA-A9328F07DD65"></a><h6 id="ADJSN-GUID-CCDAD42B-C471-49F8-9EFA-A9328F07DD65" class="sect6">JSON Search Index on a Partitioned Table</h6>
                        <div>
                           <p>You can now create a JSON search index on a partitioned base table (with range, list, hash, or interval partitioning).</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-5E538A77-1B27-452F-8359-8C3F42283018">Storage and Management of JSON Data</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C" name="GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C"></a><h5 id="ADJSN-GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C" class="sect5">Queries of JSON Data</h5>
                     <div>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="changes.html#GUID-A4175E56-5B48-414B-B100-2AB29E9ECBDF">Path Expression Enhancements</a><br>JSON path expressions can now include filter expressions that must be satisfied by the matching data and transformation methods that can transform it.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-2D8B5187-8C44-455E-9EE9-096085E248A8">Simple Dot-Notation Syntax Supports Array Access</a><br>You can now access arrays and their elements using the simple dot-notation syntax.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-FEC35B29-1305-4399-90D2-3CB6D7847B5F">Data Guide</a><br>You can now create a JSON data guide, which captures the structural information of a set of JSON documents. It acts as a derived schema and is maintained along with the JSON data that it represents. It can also record statistics about scalar values used in the documents.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-9C3C5E0A-9895-4F93-9997-E24AA9DF2635">SQL/JSON Functions and Conditions Added to PL/SQL</a><br>SQL/JSON functions <code class="codeph">json_value</code>, <code class="codeph">json_query</code>, <code class="codeph">json_object</code>, and <code class="codeph">json_array</code>, as well as SQL/JSON condition <code class="codeph">json_exists</code>, have been added to the PL/SQL language as built-in functions (<code class="codeph">json_exists</code> is a Boolean function in PL/SQL).
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-BBDEA5D8-AD14-4099-975A-3DAD1336AEA0">JSON_VALUE and JSON_TABLE Support for Additional Data Types</a><br>You can now use SQL data types <code class="codeph">SDO_GEOMETRY</code>, <code class="codeph">DATE</code>, <code class="codeph">TIMESTAMP</code>, and <code class="codeph">TIMESTAMP WITH TIME ZONE</code> with SQL/JSON functions <code class="codeph">json_value</code> and <code class="codeph">json_table</code>.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-A4175E56-5B48-414B-B100-2AB29E9ECBDF" name="GUID-A4175E56-5B48-414B-B100-2AB29E9ECBDF"></a><h6 id="ADJSN-GUID-A4175E56-5B48-414B-B100-2AB29E9ECBDF" class="sect6">Path Expression Enhancements</h6>
                        <div>
                           <p>JSON path expressions can now include filter expressions that must be satisfied by the matching data and transformation methods that can transform it.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-A4175E56-5B48-414B-B100-2AB29E9ECBDF__GUID-14AAF949-A0F6-41DC-92A2-79D56B63FFB5">
                              <p class="notep1">See Also:</p>
                              <p><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="The basic syntax of a SQL/JSON path expression is presented. It is composed of a context item followed by zero or more object or array steps, depending on the nature of the context item, followed optionally by a function step. Examples are provided.">Basic SQL/JSON Path Expression Syntax</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C">Queries of JSON Data</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-2D8B5187-8C44-455E-9EE9-096085E248A8" name="GUID-2D8B5187-8C44-455E-9EE9-096085E248A8"></a><h6 id="ADJSN-GUID-2D8B5187-8C44-455E-9EE9-096085E248A8" class="sect6">Simple Dot-Notation Syntax Supports Array Access</h6>
                        <div>
                           <p>You can now access arrays and their elements using the simple dot-notation syntax.</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C">Queries of JSON Data</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-FEC35B29-1305-4399-90D2-3CB6D7847B5F" name="GUID-FEC35B29-1305-4399-90D2-3CB6D7847B5F"></a><h6 id="ADJSN-GUID-FEC35B29-1305-4399-90D2-3CB6D7847B5F" class="sect6">Data Guide</h6>
                        <div>
                           <p>You can now create a JSON data guide, which captures the structural information of a set of JSON documents. It acts as a derived schema and is maintained along with the JSON data that it represents. It can also record statistics about scalar values used in the documents.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-FEC35B29-1305-4399-90D2-3CB6D7847B5F__GUID-F688BB66-77EB-48C3-B279-40EFCC30093C">
                              <p class="notep1">See Also:</p>
                              <p><a href="json-dataguide.html#GUID-219FC30E-89A7-4189-BC36-7B961A24067C" title="A JSON data guide lets you discover information about the structure and content of JSON documents stored in Oracle Database.">JSON Data Guide</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C">Queries of JSON Data</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-9C3C5E0A-9895-4F93-9997-E24AA9DF2635" name="GUID-9C3C5E0A-9895-4F93-9997-E24AA9DF2635"></a><h6 id="ADJSN-GUID-9C3C5E0A-9895-4F93-9997-E24AA9DF2635" class="sect6">SQL/JSON Functions and Conditions Added to PL/SQL</h6>
                        <div>
                           <p>SQL/JSON functions <code class="codeph">json_value</code>, <code class="codeph">json_query</code>, <code class="codeph">json_object</code>, and <code class="codeph">json_array</code>, as well as SQL/JSON condition <code class="codeph">json_exists</code>, have been added to the PL/SQL language as built-in functions (<code class="codeph">json_exists</code> is a Boolean function in PL/SQL).
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-9C3C5E0A-9895-4F93-9997-E24AA9DF2635__GUID-543C6182-8D57-4105-B016-D5D7B8726D3C">
                              <p class="notep1">See Also:</p>
                              <p><a href="json-in-oracle-database.html#GUID-D7BCE045-EF6D-47E9-9BB2-30C01933248E__USEPLSQLWITHJSONDATA-14460C9F">Use PL/SQL With JSON Data</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C">Queries of JSON Data</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-BBDEA5D8-AD14-4099-975A-3DAD1336AEA0" name="GUID-BBDEA5D8-AD14-4099-975A-3DAD1336AEA0"></a><h6 id="ADJSN-GUID-BBDEA5D8-AD14-4099-975A-3DAD1336AEA0" class="sect6">JSON_VALUE and JSON_TABLE Support for Additional Data Types</h6>
                        <div>
                           <p>You can now use SQL data types <code class="codeph">SDO_GEOMETRY</code>, <code class="codeph">DATE</code>, <code class="codeph">TIMESTAMP</code>, and <code class="codeph">TIMESTAMP WITH TIME ZONE</code> with SQL/JSON functions <code class="codeph">json_value</code> and <code class="codeph">json_table</code>.
                           </p>
                           <p>You can specify any of these as the return data type for SQL/JSON function <code class="codeph">json_value</code>, and you can specify any of them as a column data type for SQL/JSON function <code class="codeph">json_table</code>. 
                           </p>
                           <p><code class="codeph">SDO_GEOMETRY</code> is used for Oracle Spatial and Graph data. In particular, this means that you can use these functions with GeoJSON data, which is a format for encoding geographic data in JSON.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-BBDEA5D8-AD14-4099-975A-3DAD1336AEA0__GUID-BE2C1D67-1FB6-41AB-B5FF-07E10B8C41B6">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" title="SQL/JSON query functions json_value and json_query accept an optional RETURNING clause, which specifies the data type of the value returned by the function. This clause and the default behavior (no RETURNING clause) are described here.">RETURNING Clause for SQL/JSON Query Functions</a></p>
                                 </li>
                                 <li>
                                    <p><a href="function-JSON_TABLE.html#GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" title="SQL/JSON function json_table projects specific JSON data to columns of various SQL data types. You use it to map parts of a JSON document into the rows and columns of a new, virtual table, which you can also think of as an inline view.">SQL/JSON Function JSON_TABLE</a></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/adjsn&amp;id=geojson_org" target="_blank">GeoJSON.org</a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-873D2F6E-AEC9-499C-B81A-B0092DFE993C">Queries of JSON Data</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-ACFA9A8A-E999-420F-8774-D3860704277D" name="GUID-ACFA9A8A-E999-420F-8774-D3860704277D"></a><h5 id="ADJSN-GUID-ACFA9A8A-E999-420F-8774-D3860704277D" class="sect5">Performance</h5>
                     <div>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="changes.html#GUID-AF7D2028-8928-45D4-ADD7-7DF7B403DFD4">Search Enhancements</a><br>You can use a simpler syntax to create a JSON search index. Range search is now available for numbers and JSON strings that can be cast as built-in date and time types.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-54AF4FFB-C17B-43EE-A733-C776C8E47A9C">SQL/JSON Query Functions and Conditions Rewritten to JSON_TABLE</a><br>The optimizer will now often rewrite multiple invocations of <code class="codeph">json_exists</code>, <code class="codeph">json_value</code>, and <code class="codeph">json_query</code> (any combination) to fewer invocations of <code class="codeph">json_table</code>. This typically improves performance because the data is parsed only once for each <code class="codeph">json_table</code> invocation.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-6D2DD0A8-DAAD-464D-9CF9-7CB8BB423C19">JSON Columns In the In-Memory Column Store</a><br>You can now store JSON columns in the In-Memory Column Store, to improve query performance.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-C14C52AA-E651-4E79-BA23-58957F498FBF">Materialized Views Over JSON Data</a><br>You can now create a materialized view over JSON data that is projected as <code class="codeph">VARCHAR2</code> or <code class="codeph">NUMBER</code> columns. 
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-AF7D2028-8928-45D4-ADD7-7DF7B403DFD4" name="GUID-AF7D2028-8928-45D4-ADD7-7DF7B403DFD4"></a><h6 id="ADJSN-GUID-AF7D2028-8928-45D4-ADD7-7DF7B403DFD4" class="sect6">Search Enhancements</h6>
                        <div>
                           <p>You can use a simpler syntax to create a JSON search index. Range search is now available for numbers and JSON strings that can be cast as built-in date and time types.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-AF7D2028-8928-45D4-ADD7-7DF7B403DFD4__GUID-A4DDDAC6-00A7-4F16-850C-13472DEC71A8">
                              <p class="notep1">See Also:</p>
                              <p><a href="indexes-for-json-data.html#GUID-D7A604E1-F617-4C92-A9D9-00B6AB78EFD8" title="A JSON search index is a general index. It can improve the performance of both (1) ad hoc structural queries, that is, queries that you might not anticipate or use regularly, and (2) full-text search. It is an Oracle Text index that is designed specifically for use with JSON data.">JSON Search Index: Ad Hoc Queries and Full-Text Search</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-ACFA9A8A-E999-420F-8774-D3860704277D">Performance</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-54AF4FFB-C17B-43EE-A733-C776C8E47A9C" name="GUID-54AF4FFB-C17B-43EE-A733-C776C8E47A9C"></a><h6 id="ADJSN-GUID-54AF4FFB-C17B-43EE-A733-C776C8E47A9C" class="sect6">SQL/JSON Query Functions and Conditions Rewritten to JSON_TABLE</h6>
                        <div>
                           <p>The optimizer will now often rewrite multiple invocations of <code class="codeph">json_exists</code>, <code class="codeph">json_value</code>, and <code class="codeph">json_query</code> (any combination) to fewer invocations of <code class="codeph">json_table</code>. This typically improves performance because the data is parsed only once for each <code class="codeph">json_table</code> invocation.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-54AF4FFB-C17B-43EE-A733-C776C8E47A9C__GUID-A4DDDAC6-00A7-4F16-850C-13472DEC71A8">
                              <p class="notep1">See Also:</p>
                              <p><a href="function-JSON_TABLE.html#GUID-5CDC25A8-A516-44B8-9C8F-0CE666933903" title="SQL/JSON function json_table generalizes SQL/JSON condition json_exists and SQL/JSON functions json_value and json_query. Everything that you can do using these functions you can do using json_table. For the jobs they accomplish, the syntax of these functions is simpler to use than is the syntax of json_table.">JSON_TABLE Generalizes SQL/JSON Query Functions and Conditions</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-ACFA9A8A-E999-420F-8774-D3860704277D">Performance</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-6D2DD0A8-DAAD-464D-9CF9-7CB8BB423C19" name="GUID-6D2DD0A8-DAAD-464D-9CF9-7CB8BB423C19"></a><h6 id="ADJSN-GUID-6D2DD0A8-DAAD-464D-9CF9-7CB8BB423C19" class="sect6">JSON Columns In the In-Memory Column Store</h6>
                        <div>
                           <p>You can now store JSON columns in the In-Memory Column Store, to improve query performance.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-6D2DD0A8-DAAD-464D-9CF9-7CB8BB423C19__GUID-C52605CA-8F3A-4588-9BFC-3C0303AADB5F">
                              <p class="notep1">See Also:</p>
                              <p><a href="in-memory-json-data.html#GUID-857A2E95-28AB-4314-B654-4CB05C50D9CF" title="A column of JSON data can be stored in the In-Memory Column Store (IM column store) to improve query performance.">In-Memory JSON Data</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-ACFA9A8A-E999-420F-8774-D3860704277D">Performance</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-C14C52AA-E651-4E79-BA23-58957F498FBF" name="GUID-C14C52AA-E651-4E79-BA23-58957F498FBF"></a><h6 id="ADJSN-GUID-C14C52AA-E651-4E79-BA23-58957F498FBF" class="sect6">Materialized Views Over JSON Data</h6>
                        <div>
                           <p>You can now create a materialized view over JSON data that is projected as <code class="codeph">VARCHAR2</code> or <code class="codeph">NUMBER</code> columns. 
                           </p>
                           <p>SQL/JSON function <code class="codeph">json_table</code> projects specific JSON data as <code class="codeph">VARCHAR2</code> or <code class="codeph">NUMBER</code> columns. You can typically increase query performance by creating a materialized view over such columns. The view must be read-only: a <code class="codeph">FOR UPDATE</code> clause is not allowed when creating it. Both full and incremental view refresh are supported. You can often increase query performance further by creating indexes on the view columns.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-C14C52AA-E651-4E79-BA23-58957F498FBF__GUID-99477E70-3DB8-4098-80BE-BE5A6664B920">
                              <p class="notep1">See Also:</p>
                              <p><a href="function-JSON_TABLE.html#GUID-BFA1FB9A-0F18-4ED2-B504-6855DC6705B5" title="To improve query performance you can create a view over JSON data that you project to columns using SQL/JSON function json_table. To further improve query performance you can create a materialized view and place the JSON data in memory.">Creating a View Over JSON Data Using JSON_TABLE</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-ACFA9A8A-E999-420F-8774-D3860704277D">Performance</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-483888FA-2D10-4C98-B19A-C4D7C45399E0" name="GUID-483888FA-2D10-4C98-B19A-C4D7C45399E0"></a><h5 id="ADJSN-GUID-483888FA-2D10-4C98-B19A-C4D7C45399E0" class="sect5">Other</h5>
                     <div>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="changes.html#GUID-AECA4A67-FC15-45B1-AF7E-2D84A04D1316">SQL/JSON Functions for Generating JSON Data</a><br>You can now construct JSON data programmatically using SQL/JSON functions <code class="codeph">json_object</code>, <code class="codeph">json_array</code>, <code class="codeph">json_objectagg</code>, and <code class="codeph">json_arrayagg</code>.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-9528C694-73E8-438E-9999-168743DEF4DB">PL/SQL APIs For JSON Data</a><br>PL/SQL APIs are now available to provide (1) data guide operations and (2) get and set operations on JSON object types that are backed by an In-Memory, hierarchical, programmatic representation.
                           </li>
                           <li class="ulchildlink"><a href="changes.html#GUID-83106AE8-F5E7-428B-A6CA-7BD6835ED84C">JSON Columns in a Sharded Table</a><br>You can now create a JSON column in a sharded table and query that JSON data.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes.html#GUID-4426DDE5-99D6-4BB9-886D-45C35EEC36E6" title="The following features are new in this release.">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-AECA4A67-FC15-45B1-AF7E-2D84A04D1316" name="GUID-AECA4A67-FC15-45B1-AF7E-2D84A04D1316"></a><h6 id="ADJSN-GUID-AECA4A67-FC15-45B1-AF7E-2D84A04D1316" class="sect6">SQL/JSON Functions for Generating JSON Data</h6>
                        <div>
                           <p>You can now construct JSON data programmatically using SQL/JSON functions <code class="codeph">json_object</code>, <code class="codeph">json_array</code>, <code class="codeph">json_objectagg</code>, and <code class="codeph">json_arrayagg</code>.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-AECA4A67-FC15-45B1-AF7E-2D84A04D1316__GUID-F3D362E0-6AA7-42B4-96DA-CCFB4FB8F10D">
                              <p class="notep1">See Also:</p>
                              <p><a href="generation-of-json-data.html#GUID-D5DD4CFA-0675-4074-9D5B-F1AAE42DA719" title="You can use SQL to generate JSON data from other kinds of database data programmatically, using SQL/JSON functions json_object, json_array, json_objectagg, and json_arrayagg.">Generation of JSON Data</a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-483888FA-2D10-4C98-B19A-C4D7C45399E0">Other</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-9528C694-73E8-438E-9999-168743DEF4DB" name="GUID-9528C694-73E8-438E-9999-168743DEF4DB"></a><h6 id="ADJSN-GUID-9528C694-73E8-438E-9999-168743DEF4DB" class="sect6">PL/SQL APIs For JSON Data</h6>
                        <div>
                           <p>PL/SQL APIs are now available to provide (1) data guide operations and (2) get and set operations on JSON object types that are backed by an In-Memory, hierarchical, programmatic representation.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-9528C694-73E8-438E-9999-168743DEF4DB__GUID-8A5210A7-EBE1-41BC-BFC0-FBB293D9A5F4">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="json-dataguide.html#GUID-219FC30E-89A7-4189-BC36-7B961A24067C" title="A JSON data guide lets you discover information about the structure and content of JSON documents stored in Oracle Database.">JSON Data Guide</a></p>
                                 </li>
                                 <li>
                                    <p><a href="pl-sql-object-types-for-json.html#GUID-C0C2A8C0-99BD-4770-9EA2-B7D53804FC18" title="You can use PL/SQL object types for JSON to read and write multiple fields of a JSON document. This can increase performance, in particular by avoiding multiple parses and serializations of the data.">PL/SQL Object Types for JSON</a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-483888FA-2D10-4C98-B19A-C4D7C45399E0">Other</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-83106AE8-F5E7-428B-A6CA-7BD6835ED84C" name="GUID-83106AE8-F5E7-428B-A6CA-7BD6835ED84C"></a><h6 id="ADJSN-GUID-83106AE8-F5E7-428B-A6CA-7BD6835ED84C" class="sect6">JSON Columns in a Sharded Table</h6>
                        <div>
                           <p>You can now create a JSON column in a sharded table and query that JSON data.</p>
                           <p>You can store JSON data in a column of type <code class="codeph">VARCHAR2</code> (up to 32,767 bytes), <code class="codeph">CLOB</code>, or <code class="codeph">BLOB</code> in a sharded table. You cannot query JSON data across multiple shards unless it is stored as <code class="codeph">VARCHAR2</code>.
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="changes.html#GUID-483888FA-2D10-4C98-B19A-C4D7C45399E0">Other</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>