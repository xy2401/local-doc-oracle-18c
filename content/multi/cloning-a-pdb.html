<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">
      <meta name="description" content="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">
      <title>Cloning a PDB or Non-CDB</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator’s Guide ">
      <meta property="og:description" content="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-20T07:27:44-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E84914-08">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/18">
      
      <link rel="prev" href="creating-a-pdb-from-scratch.html" title="Previous" type="text/html">
      <link rel="next" href="relocating-a-pdb.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"18","element_name":"Release 18","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="MULTI">
    <meta name="dcterms.release" content="Release 18">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-a-pdb-from-scratch.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="relocating-a-pdb.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="creating-pdbs.html" property="item" typeof="WebPage"><span property="name">Creating and Removing PDBs and Application Containers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Cloning a PDB or Non-CDB</li>
            </ol>
            <a id="GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" name="GUID-05702CEB-A43C-452C-8081-4CA68DDA8007"></a>
            
            <h2 id="MULTI-GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" class="sect2"><span class="enumeration_chapter">7 </span>Cloning a PDB or Non-CDB
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.</p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B">About Cloning a PDB</a><br>To clone a PDB from a source PDB or from a non-CDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement.
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B39552A6-9206-40FE-B168-962215C7E743">Cloning a Local PDB: Basic Steps</a><br>You can clone a local PDB by executing <code class="codeph">CREATE PLUGGABLE DATABASE</code> and specify the source PDB in the <code class="codeph">FROM</code> clause.
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA">Cloning a Local PDB: Examples</a><br>The following examples clone a local source PDB named <code class="codeph">pdb1</code> to a target PDB named <code class="codeph">pdb2</code> given different factors.
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F">Cloning a Remote PDB: Basic Steps</a><br>You can create a PDB by cloning a remote PDB. After the cloning operation, the source and the target PDB are in different locations.
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8">Cloning a Remote PDB or Non-CDB: Examples</a><br>These examples clone a remote PDB or non-CDB given different factors.
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396">After Cloning a PDB</a><br>Certain rules regarding users and tablespaces apply after cloning a PDB.
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774">Materializing a Snapshot Copy PDB</a><br>You can materialize a snapshot copy PDB by running an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">MATERIALIZE</code> clause. Materializing a snapshot copy PDB copies all data blocks.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN13754"></a><a id="ADMIN13755"></a><a id="ADMIN14321"></a><a id="ADMIN13585"></a><a id="ADMIN14166"></a><a id="ADMIN13584"></a><div class="props_rev_3"><a id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" name="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B"></a><h3 id="MULTI-GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" class="sect3"><span class="enumeration_section">7.1 </span>About Cloning a PDB
               </h3>
               <div>
                  <p>To clone a PDB from a source PDB or from a non-CDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement.
                  </p>
                  <p>This technique clones a source PDB or non-CDB as a new PDB and automatically plugs the clone into the CDB. To use this technique, you must include a <code class="codeph">FROM</code> clause that specifies the source. The source is the existing PDB or non-CDB that you want to clone. The target PDB is the clone of the source. The source can be any of the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Local PDB</p>
                     </li>
                     <li>
                        <p>PDB in a remote CDB</p>
                     </li>
                     <li>
                        <p>Non-CDB</p>
                     </li>
                  </ul>
                  <p>The <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement copies the files associated with the source to a new location and associates the files with the target PDB. When the CDB is in <code class="codeph">ARCHIVELOG</code> mode and local undo mode, the source PDB can be open in read/write mode and operational during the cloning process. This technique is known as <strong class="term">hot cloning</strong>.
                  </p>
                  <div class="infoboxnote" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-7D5E4F9B-B303-4DB5-8B30-B8D629E6430B">
                     <p class="notep1">Note:</p>If you clone a PDB, and if the source database has encrypted data or a keystore set, then you must provide the keystore password by including the keystore identified by <code class="codeph"><span class="codeinlineitalic">keystore_password</span></code> clause in the <code class="codeph">CREATE PLUGGABLE DATABASE ... FROM</code> SQL statement. You must provide this password even if the source database is using an auto-login software keystore. You can determine whether the source database has encrypted data or a keystore by querying the <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> data dictionary view.
                  </div>
                  <p>A typical use for cloning is creation of test PDBs. Cloning enables you to create one or more clones of a PDB or non-CDB and safely test them in isolation. For example, you might test a new or modified application on a cloned PDB before using the application with a production PDB.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2">About Cloning a Local PDB</a><br>The simplest form of cloning copies a PDB from a CDB into the same CDB.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279">About Cloning a Remote PDB</a><br>When the source is a PDB is in a remote CDB, you must use a database link to clone the PDB into the local CDB. 
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26">About Cloning a Non-CDB</a><br>When the source is a non-CDB, you must specify a database link to the non-CDB in the <code class="codeph">FROM</code> clause. 
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12">About Cloning an Application PDB</a><br>In all cloning scenarios, when you run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement in the application root, the cloned PDB is created in the application container.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A">About Refreshable Clone PDBs</a><br>The <code class="codeph">CREATE&nbsp;PLUGGABLE&nbsp;DATABASE ... REFRESH MODE</code> statement clones a source PDB and configures the clone to be refreshable. Refreshing the clone PDB updates it with redo accumulated since the last redo log apply.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D">About Cloning PDBs from PDB Snapshots</a><br>A <strong class="term">PDB snapshot</strong> is a database-managed, point-in-time copy of a PDB. A <strong class="term">snapshot clone PDB</strong> is a PDB created from a snapshot.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62">About Snapshot Copy PDBs</a><br>A <strong class="term">snapshot copy PDB</strong> is a PDB that has been created using a <code class="codeph">CREATE PLUGGABLE DATABASE ... SNAPSHOT COPY</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999">About Split Mirror Clone PDBs</a><br>In Oracle ASM, a split mirror is the process of detaching a point-in-time media copy from a parent copy. After the split, updates to the parent do not affect the child copy.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-94D52D7E-4986-4B72-9118-90C645C164F3">
                     <p class="notep1">See Also:</p>
                     <p><a href="../asoag/managing-keystores-encryption-keys-in-united-mode.html#ASOAG-GUID-67812205-D0C9-4F5F-BA64-DAE282F3B516" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> to learn about cloning a source with encrypted data or a keystore set
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2" name="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2"></a><h4 id="MULTI-GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2" class="sect4"><span class="enumeration_section">7.1.1 </span>About Cloning a Local PDB
                  </h4>
                  <div>
                     <p>The simplest form of cloning copies a PDB from a CDB into the same CDB.</p>
                     <div class="infoboxnote" id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2__GUID-B5F57724-4C3A-41F4-8E2C-176FA16E09D0">
                        <p class="notep1">Note:</p>
                        <p>You cannot use the <code class="codeph">FROM</code> clause in the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to create a PDB from the PDB seed (<code class="codeph">PDB$SEED</code>) or from an application seed.
                        </p>
                     </div>
                     <p>The following figure illustrates how to clone a local PDB.</p>
                     <div class="figure" id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2__CEGGCIDD">
                        <p class="titleinfigure">Figure 7-1 Clone a Local PDB</p><img src="img/admin0911.png" width="484" alt="Description of Figure 7-1 follows" title="Description of Figure 7-1 follows" longdesc="img_text/admin0911.html"><br><a href="img_text/admin0911.html">Description of "Figure 7-1 Clone a Local PDB"</a></div>
                     <!-- class="figure" -->
                     <p>Before cloning a PDB, address the questions that apply to cloning a PDB in <span class="q">"<a href="overview-of-pdb-creation.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="This table describes each clause and when to use each clause.">Table 5-3</a>"</span>. The table describes which <code class="codeph">CREATE PLUGGABLE DATABASE</code> clauses to specify based on different factors.
                     </p>
                     <p>Starting in <span>Oracle Database 18c</span>, you can clone a local PDB using DBCA.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2__GUID-E953B3C0-7E64-4873-BBB4-C9F13CA7F51D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" title="You can determine your current container ID or container name in a CDB.">Determining the Current Container ID or Name</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-a-pdb-from-scratch.html#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" title="Use the CREATE PLUGGABLE DATABASE statement to create a PDB in a CDB using the files of the PDB seed (PDB$SEED).">Creating a PDB from Scratch</a>"</span> to learn how to create a PDB from the seed
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="cloning-a-pdb.html#GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26" title="This example clones a PDB using the silent mode of DBCA. Hot cloning is supported.">Cloning a Local PDB Using DBCA: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-88E61123-F651-47D7-9977-B589268EBD29" title="You create an application PDB by running the CREATE&nbsp;PLUGGABLE&nbsp;DATABASE&nbsp;statement with an application root as the current container.">Creating an Application PDB</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279" name="GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279"></a><h4 id="MULTI-GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279" class="sect4"><span class="enumeration_section">7.1.2 </span>About Cloning a Remote PDB
                  </h4>
                  <div>
                     <p>When the source is a PDB is in a remote CDB, you must use a database link to clone the PDB into the local CDB. </p>
                     <p>The database link must exist in the <span class="italic">local</span> CDB (not the remote CDB). When you issue the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement from the root of the local CDB, you must specify a database link to the remote CDB that contains the PDB being cloned in the <code class="codeph">FROM</code> clause. The database link connects from the local CDB to either to the root of the remote CDB or to the remote source PDB.
                     </p>
                     <p>The following figure illustrates how this technique creates a new PDB when the source PDB is remote.</p>
                     <div class="figure" id="GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279__CEGHBGGJ">
                        <p class="titleinfigure">Figure 7-2 Creating a PDB by Cloning a Remote PDB</p><img src="img/admin092.png" width="587" alt="Description of Figure 7-2 follows" title="Description of Figure 7-2 follows" longdesc="img_text/admin092.html"><br><a href="img_text/admin092.html">Description of "Figure 7-2 Creating a PDB by Cloning a Remote PDB"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26" name="GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26"></a><h4 id="MULTI-GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26" class="sect4"><span class="enumeration_section">7.1.3 </span>About Cloning a Non-CDB
                  </h4>
                  <div>
                     <p>When the source is a non-CDB, you must specify a database link to the non-CDB in the <code class="codeph">FROM</code> clause. 
                     </p>
                     <p>The following figure illustrates how this technique creates a new PDB when the source is a remote non-CDB.</p>
                     <div class="figure" id="GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26__CEGJIEAI">
                        <p class="titleinfigure">Figure 7-3 Creating a PDB by Cloning a Non-CDB</p><img src="img/admin108.png" alt="Description of Figure 7-3 follows" title="Description of Figure 7-3 follows" longdesc="img_text/admin108.html"><br><a href="img_text/admin108.html">Description of "Figure 7-3 Creating a PDB by Cloning a Non-CDB"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12" name="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12"></a><h4 id="MULTI-GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12" class="sect4"><span class="enumeration_section">7.1.4 </span>About Cloning an Application PDB
                  </h4>
                  <div>
                     <p>In all cloning scenarios, when you run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement in the application root, the cloned PDB is created in the application container.
                     </p>
                     <p>The application name and version of the source PDB must match the application name and version of the application container. </p>
                     <p>The following graphic illustrates how this technique creates a new application PDB in an application container by cloning a local source application PDB. The source PDB can also be a PDB plugged into the local CDB root, a PDB plugged into a remote CDB root, or an application PDB plugged into a remote application root.</p>
                     <div class="figure" id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12__CLONEAPDBINANAPPLICATIONCONTAINER-7BC6E389">
                        <p class="titleinfigure">Figure 7-4 Clone a PDB in an Application Container</p><img src="img/admin115.png" alt="Description of Figure 7-4 follows" title="Description of Figure 7-4 follows" longdesc="img_text/admin115.html"><br><a href="img_text/admin115.html">Description of "Figure 7-4 Clone a PDB in an Application Container"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12__GUID-0D128A0B-3EF1-4B66-A522-1DCAAA9B2408">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="overview-of-pdb-creation.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="However you choose to create a PDB, you must decide on the tablespaces and files that will store the data.">PDB Storage</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-C476B273-469B-4999-8637-A6BA1BD6300A" name="GUID-C476B273-469B-4999-8637-A6BA1BD6300A"></a><h4 id="MULTI-GUID-C476B273-469B-4999-8637-A6BA1BD6300A" class="sect4"><span class="enumeration_section">7.1.5 </span>About Refreshable Clone PDBs
                  </h4>
                  <div>
                     <p>The <code class="codeph">CREATE&nbsp;PLUGGABLE&nbsp;DATABASE ... REFRESH MODE</code> statement clones a source PDB and configures the clone to be refreshable. Refreshing the clone PDB updates it with redo accumulated since the last redo log apply.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B">Purpose of Refreshable Clone PDBs</a><br>The cloning operation for production PDBs can take a long time.
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-DB70AAC5-A426-4991-8D84-697790AA9A11">Automatic and Manual Refresh Modes</a><br>You can configure the clone PDB to refresh automatically at set intervals, or you can refresh it manually with the <code class="codeph">ALTER PLUGGABLE DATABASE REFRESH</code> statement. 
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1">Requirements for Refreshable Clone PDBs</a><br>Creation of a refreshable clone PDB requires a database link. The database link can point to the same CDB or a different CDB.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B" name="GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B"></a><h5 id="MULTI-GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B" class="sect5"><span class="enumeration_section">7.1.5.1 </span>Purpose of Refreshable Clone PDBs
                     </h5>
                     <div>
                        <p>The cloning operation for production PDBs can take a long time.</p>
                        <p>If PDBs are cloned infrequently to avoid a drag on the system, then the clone data becomes stale. A refreshable clone PDB solves this problem. When a refreshable clone is stale, you can quickly refresh it with recent redo. A typical practice is to maintain a “golden master” refreshable clone of a production PDB, and then take snapshot clones of the golden master for development and testing.</p>
                        <p>You can reverse the roles for source and clone PDBs using an <code class="codeph">ALTER PLUGGABLE DATABASE ... SWITCHOVER</code> statement. This capability is useful in the following situations:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Planned switchover</p>
                              <p>The CDB hosting the source PDB may experience significantly more overhead than the CDB hosting the clone PDB. To achieve load balancing, you can reverse the roles, making the clone the new source PDB, and the source PDB the new clone.</p>
                           </li>
                           <li>
                              <p>Unplanned switchover</p>
                              <p>The source PDB may suffer an unplanned failure. In this case, you can make the clone PDB the new source PDB, and resume normal operations.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B__GUID-AADE6323-617E-47BD-9391-EC3FEE1BD970">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" title="A refreshable clone PDB is a read-only clone that can periodically synchronize with its source PDB.">Managing Refreshable Clone PDBs</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-PLUGGABLE-DATABASE.html#SQLRF-GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about <code class="codeph">ALTER PLUGGABLE DATABASE ... SWITCHOVER</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="The CREATE&nbsp;PLUGGABLE&nbsp;DATABASE ... REFRESH MODE statement clones a source PDB and configures the clone to be refreshable. Refreshing the clone PDB updates it with redo accumulated since the last redo log apply.">About Refreshable Clone PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11" name="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11"></a><h5 id="MULTI-GUID-DB70AAC5-A426-4991-8D84-697790AA9A11" class="sect5"><span class="enumeration_section">7.1.5.2 </span>Automatic and Manual Refresh Modes
                     </h5>
                     <div>
                        <p>You can configure the clone PDB to refresh automatically at set intervals, or you can refresh it manually with the <code class="codeph">ALTER PLUGGABLE DATABASE REFRESH</code> statement. 
                        </p>
                        <p>The <code class="codeph">REFRESH MODE</code> clause is supported only in a <code class="codeph">CREATE PLUGGABLE DATABASE ... FROM</code> statement. You can use this clause to specify one of the following options:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify <code class="codeph">REFRESH MODE NONE</code>, the default, to create a PDB that is not refreshable.
                              </p>
                              <p>You can change a refreshable clone PDB into an ordinary PDB by including the <code class="codeph">REFRESH MODE NONE</code> clause in an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement and then opening the PDB in read/write mode. You cannot change an ordinary PDB into a refreshable clone PDB. After a refreshable clone PDB is converted to an ordinary PDB, you cannot change it back into a refreshable clone PDB.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">REFRESH MODE MANUAL</code> to create a refreshable PDB that must be refreshed manually.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">REFRESH MODE EVERY <span class="codeinlineitalic">number_of_minutes</span> MINUTES</code> to create a refreshable PDB that is refreshed automatically after the specified number of minutes has passed. A refreshable PDB that uses automatic refresh can also be refreshed manually.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11__GUID-D010F47C-77A9-4589-AF7C-8DAB7ADEA297">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When you create a refreshable PDB, you can set the <code class="codeph">REMOTE_RECOVERY_FILE_DEST</code> initialization parameter in the PDB. This initialization parameter specifies a directory from which to read archive log files during refresh operations if the source PDB is not available over its database link.
                                 </p>
                              </li>
                              <li>
                                 <p>If new data files are created in the source PDB, then the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter must be set in the CDB to convert the data file paths from the source PDB to the clone PDB.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="example" id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11__GUID-A5EAF9C8-DA70-4EFC-B78C-3DD227F864DB">
                           <p class="titleinexample">Example 7-1 A REFRESH MODE Clause That Specifies Automatic Refresh</p>
                           <p>This refresh mode clause specifies that a refreshable PDB is refreshed automatically every two hours (120 minutes):</p><pre class="pre codeblock"><code>REFRESH MODE EVERY 120 MINUTES</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11__GUID-A4E51717-37C4-498F-BB95-A8983D8D851D">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="cloning-a-pdb.html#GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" title="You can create a PDB by cloning a remote PDB. After the cloning operation, the source and the target PDB are in different locations.">Cloning a Remote PDB: Basic Steps</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="You can refresh a PDB that was created as a refreshable clone.">Refreshing a PDB</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="The CREATE&nbsp;PLUGGABLE&nbsp;DATABASE ... REFRESH MODE statement clones a source PDB and configures the clone to be refreshable. Refreshing the clone PDB updates it with redo accumulated since the last redo log apply.">About Refreshable Clone PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1" name="GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1"></a><h5 id="MULTI-GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1" class="sect5"><span class="enumeration_section">7.1.5.3 </span>Requirements for Refreshable Clone PDBs
                     </h5>
                     <div>
                        <p>Creation of a refreshable clone PDB requires a database link. The database link can point to the same CDB or a different CDB.</p>
                        <p>A refreshable clone PDB must be in either of the following states:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Closed</p>
                              <p>A refreshable PDB must be closed when a refresh is performed. If it is not closed when automatic refresh is attempted, then the refresh is deferred until the next scheduled refresh. If it is not closed when a user attempts to perform manual refresh, then an error is reported.</p>
                           </li>
                           <li>
                              <p>Open in read-only mode</p>
                              <p>The refreshable PDB must be kept in read-only mode to prevent out-of-sync changes on the refreshable PDB which do not occur on the source PDB. The refreshable PDB is intended to serve as a clone master and as such must accurately reflect the source PDB at the refreshed point in time.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="The CREATE&nbsp;PLUGGABLE&nbsp;DATABASE ... REFRESH MODE statement clones a source PDB and configures the clone to be refreshable. Refreshing the clone PDB updates it with redo accumulated since the last redo log apply.">About Refreshable Clone PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D" name="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D"></a><h4 id="MULTI-GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D" class="sect4"><span class="enumeration_section">7.1.6 </span>About Cloning PDBs from PDB Snapshots
                  </h4>
                  <div>
                     <p>A <strong class="term">PDB snapshot</strong> is a database-managed, point-in-time copy of a PDB. A <strong class="term">snapshot clone PDB</strong> is a PDB created from a snapshot.
                     </p>
                     <p>Starting in <span>Oracle Database 19c</span>, the behavior of PDB snapshots depends on the setting of the <code class="codeph">CLONEDB</code> initialization parameter:
                     </p>
                     <ul style="list-style-type: disc;" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__UL_G4J_VWZ_YFB">
                        <li>
                           <p><code class="codeph">CLONEDB=TRUE</code></p>
                           <p>You can take snapshots of PDBs that are in read/write mode or read-only mode. The first snapshot of the PDB contains full copies of the original PDB files, but subsequent snapshots of the same PDB contain sparse files.</p>
                        </li>
                        <li>
                           <p><code class="codeph">CLONEDB=FALSE</code></p>
                           <p>You can only take snapshots of read-only PDBs. Every snapshot is a full copy of the source PDB files. In this case, if you create a clone PDB based on a PDB snapshot, then the source PDB must remain read-only for the lifetime of the clone PDB.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-FEE7CE17-B281-4A3F-980C-B0581F730B0C">
                        <p class="notep1">Note:</p>
                        <p id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__d5e5267">See <span id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__d5e5269"><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a> for details on which features are supported for different editions and services</span>.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-D861A478-C6DA-4459-80A8-6AD3E58B0E19">PDB Snapshot Carousel</p>
                        <p>A <span>PDB snapshot carousel</span> is a library of up to 8 snapshots. The carousel enables you to perform a “hot clone” of a PDB to a specific SCN or point in time. A use case is to restore a snapshot from the carousel, typically the most recent snapshot, and then recover it to the required SCN or timestamp.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-185DBA54-7406-4B02-8BD2-1EA62BF693D3">Cloning a PDB from a PDB Snapshot</p>
                        <p>The <code class="codeph">USING SNAPSHOT</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement creates an active PDB from an existing PDB snapshot. To view the available PDB snapshots, query the <code class="codeph">DBA_PDB_SNAPSHOTS</code> data dictionary view.
                        </p>
                        <p>To clone a PDB from a snapshot, specify one of the following values in the <code class="codeph">USING SNAPSHOT</code> clause:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__UL_Y1C_LRX_XFB">
                           <li>
                              <p>The PDB snapshot name</p>
                           </li>
                           <li>
                              <p>The PDB snapshot SCN in the following form:</p><pre class="pre codeblock"><code>USING SNAPSHOT AT SCN <span class="italic">scn</span></code></pre></li>
                           <li>
                              <p>The PDB snapshot timestamp in the following form:</p><pre class="pre codeblock"><code>USING SNAPSHOT AT TIME <span class="italic">timestamp</span></code></pre></li>
                        </ul>
                        <p>If the PDB snapshot is a sparse copy (that is, it was created when <code class="codeph">CLONEDB=TRUE</code> and was not the first snapshot taken of the source PDB), then the PDB cloned from this snapshot is also sparse.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-2FFC8633-8544-4BB0-9755-9BF6E0FDD169">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__UL_Z1C_LRX_XFB">
                           <li>
                              <p><span class="q">"<a href="administering-pdb-snapshots.html#GUID-8771C38E-E6C1-49BC-8160-CE987E6154AF" title="The SNAPSHOT MODE clause controls creation of snapshots, and determines whether creation is manual, automatic, or disabled.">User Interface for PDB Snapshot Carousel</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55694" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for the syntax and semantics of the <code class="codeph">USING SNAPSHOT</code> clause
                              </p>
                           </li>
                           <li>
                              <p><span><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/multi&amp;id=DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a> for details on which features are supported for different editions and services</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" name="GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62"></a><h4 id="MULTI-GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" class="sect4"><span class="enumeration_section">7.1.7 </span>About Snapshot Copy PDBs
                  </h4>
                  <div>
                     <p>A <strong class="term">snapshot copy PDB</strong> is a PDB that has been created using a <code class="codeph">CREATE PLUGGABLE DATABASE ... SNAPSHOT COPY</code> statement.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E">How a Snapshot Copy PDB Differs from a Standard Clone</a><br>A snapshot copy PDB and a PDB snapshot created with the <code class="codeph">USING SNAPSHOT</code> clause are distinct types of snapshots.
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705">Storage Requirements for Snapshot Copy PDBs</a><br>When you specify the <code class="codeph">SNAPSHOT COPY</code> clause in <code class="codeph">CREATE PLUGGABLE DATABASE ... FROM <span class="codeinlineitalic">sourcepdb</span></code>, all data files of the source PDB must reside in the same storage type.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E" name="GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E"></a><h5 id="MULTI-GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E" class="sect5"><span class="enumeration_section">7.1.7.1 </span>How a Snapshot Copy PDB Differs from a Standard Clone
                     </h5>
                     <div>
                        <p>A snapshot copy PDB and a PDB snapshot created with the <code class="codeph">USING SNAPSHOT</code> clause are distinct types of snapshots.
                        </p>
                        <p>A snapshot copy PDB does not include a complete copy of the source data files. Rather, Oracle Database creates a storage-level snapshot of the underlying file system, and then creates the clone PDB from the snapshot. </p>
                        <p>Unlike a standard clone PDB, the snapshot copy PDB is dependent on the storage snapshot. Therefore, you cannot unplug this PDB from the CDB root or plug it in to an application root. Also, you cannot drop the storage snapshot on which the PDB is based. Instead, you must materialize the snapshot copy PDB, which converts it into a full PDB with non-sparse files.</p>
                        <p>In contrast, the <code class="codeph">USING SNAPSHOT</code> clause creates a standalone PDB that does not need to be materialized. Note that you cannot create a snapshot copy PDB that is based on a PDB snapshot by including both the <code class="codeph">USING SNAPSHOT</code> clause and the <code class="codeph">SNAPSHOT COPY</code> clause. However, you can create a standalone clone PDB with <code class="codeph">USING SNAPSHOT</code>, and then create a <code class="codeph">SNAPSHOT COPY</code> PDB from the standalone PDB.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E__GUID-03B7E63E-EE98-4CC6-8CD7-27104E79A60B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="cloning-a-pdb.html#GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" title="You can materialize a snapshot copy PDB by running an ALTER PLUGGABLE DATABASE statement with the MATERIALIZE clause. Materializing a snapshot copy PDB copies all data blocks.">Materializing a Snapshot Copy PDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdb-snapshots.html#GUID-F2FC2FCB-2DA2-43B5-B98D-8902BC8D66A6" title="The carousel for a specific PDB is a circular library of copies for this PDB.">How PDB Snapshot Carousel Works</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" title="A snapshot copy PDB is a PDB that has been created using a CREATE PLUGGABLE DATABASE ... SNAPSHOT COPY statement.">About Snapshot Copy PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705" name="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705"></a><h5 id="MULTI-GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705" class="sect5"><span class="enumeration_section">7.1.7.2 </span>Storage Requirements for Snapshot Copy PDBs
                     </h5>
                     <div>
                        <p>When you specify the <code class="codeph">SNAPSHOT COPY</code> clause in <code class="codeph">CREATE PLUGGABLE DATABASE ... FROM <span class="codeinlineitalic">sourcepdb</span></code>, all data files of the source PDB must reside in the same storage type.
                        </p>
                        <p>Storage requirements depend on the setting of the <code class="codeph">CLONEDB</code> initialization parameter:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705__UL_UBX_HGL_YFB">
                           <li>
                              <p><code class="codeph">CLONEDB=FALSE</code></p>
                              <p>The underlying file system for the source PDB files must support storage snapshots. Such file systems include Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Direct NFS Client storage. Oracle Exadata supports snapshot copy functionality on ASM configured with sparse ASM grid disks.</p>
                           </li>
                           <li>
                              <p><code class="codeph">CLONEDB=TRUE</code></p>
                              <p>The underlying file system for the source PDB files can be any local file system, network file system (NFS), or clustered file system that has Direct NFS enabled and supports sparse files. Most UNIX systems meet these requirements, including Oracle ACFS and ZFS. However, when <code class="codeph">CLONEDB=TRUE</code>, the source PDB must remain in open read-only mode when clones exist.
                              </p>
                           </li>
                        </ul>
                        <p>Direct NFS Client enables an Oracle database to access network attached storage (NAS) devices directly, rather than using the operating system kernel NFS client. If the files of the source PDB are stored on Direct NFS Client storage, then the following additional requirements must be met:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The source PDB files must be located on an NFS volume.</p>
                           </li>
                           <li>
                              <p>Storage credentials must be stored in a Transparent Data Encryption keystore.</p>
                           </li>
                           <li>
                              <p>The storage user must have the privileges required to create and destroy snapshots on the volume that hosts the files of the source PDB.</p>
                           </li>
                           <li>
                              <p>Credentials must be stored in the keystore using an <code class="codeph">ADMINISTER KEY MANAGEMENT ADD SECRET</code> SQL statement.
                              </p>
                              <p>The following example configures an Oracle Database secret in a software keystore:</p><pre class="pre codeblock"><code>ADMINISTER KEY MANAGEMENT  
  ADD SECRET '<span class="italic">secret</span>' FOR CLIENT '<span class="italic">client_name</span>' 
  USING TAG '<span class="italic">storage_user</span>' 
  IDENTIFIED BY  <span class="italic">keystore_password</span>  WITH BACKUP;
</code></pre><p>Run this statement to add a separate entry for each storage server in the configuration. In the previous example, the following values must be specified:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p> <span class="italic"><code class="codeph">secret</code></span> is the storage password.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">client_name</code></span> is the storage server. On a Linux or UNIX platform, it is the name entered in /etc/hosts or the IP address of the storage server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">tag</code></span> is the user name passed to the storage server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">keystore_password</code></span> is the password for the keystore.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>You cannot unplug PDB clones created using the <code class="codeph">SNAPSHOT COPY</code> clause. You can only drop them. Attempting to unplug a clone created using the <code class="codeph">SNAPSHOT COPY</code> clause results in an error.
                        </p>
                        <p>Storage clones are named and tagged using the GUID of the target PDB. You can query the <code class="codeph">CLONETAG</code> column of <code class="codeph">DBA_PDB_HISTORY</code> view to view clone tags for storage clones.
                        </p>
                        <div class="infoboxnote" id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705__GUID-A780A64D-E5EA-428B-BC57-3D4D901F9CAF">
                           <p class="notep1">Note:</p>
                           <p>Snapshot copy behavior and efficiency are vendor specific and may vary between vendors.</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705__GUID-E5C87C2A-2F7C-4B03-A716-95BB3F3A5B05">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../ostmg/overview-acfs-advm.html#OSTMG31000" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a> for more information about Oracle ACFS
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/multi&amp;id=CWGEN" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for your operating system for information about Direct NFS Client
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG-GUID-0E59AD1E-514A-4F93-9A1F-E5683A535A89" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for more information about Transparent Data Encryption
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/multi&amp;id=support_article_1597027_1" target="_blank">My Oracle Support Note 1597027.1</a> for more information about supported platforms for snapshot cloning of PDBs.
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/multi&amp;id=SAGUG-GUID-78370F4C-EEDD-4230-9A80-BF979B4C907F" target="_blank"><span><cite>Oracle Exadata System Software User's Guide</cite></span></a> for information about Exadata support for PDB clones created using the <code class="codeph">SNAPSHOT COPY</code> clause
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" title="A snapshot copy PDB is a PDB that has been created using a CREATE PLUGGABLE DATABASE ... SNAPSHOT COPY statement.">About Snapshot Copy PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999" name="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999"></a><h4 id="MULTI-GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999" class="sect4"><span class="enumeration_section">7.1.8 </span>About <span>Split Mirror Clone PDB</span>s
                  </h4>
                  <div>
                     <p>In Oracle ASM, a split mirror is the process of detaching a point-in-time media copy from a parent copy. After the split, updates to the parent do not affect the child copy.</p>
                     <p>Starting in <span>Oracle Database 18c</span>, the parent copy can be a PDB rather than a storage volume. The <span>split mirror clone PDB</span> resides on the same media as the parent. The principal use case is to rapidly provision test and development PDBs in an Oracle ASM environment.
                     </p>
                     <div class="infoboxnote" id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999__GUID-B668A0D3-E9CD-4646-9029-36C019AC89C6">
                        <p class="notep1">Note:</p>
                        <p>Oracle ASM flex and extended disk groups are required for <span>split mirror clone PDB</span>s.
                        </p>
                     </div>
                     <p>Mirror refresh is refreshing a <span>split mirror clone PDB</span> with changes from the parent PDB. In effect, this operation is equivalent to deleting the mirror split, and then taking a new mirror split.
                     </p>
                     <p>The basic procedure for creating a <span>split mirror clone PDB</span> is as follows:
                     </p>
                     <ol>
                        <li>
                           <p>Start SQL*Plus, and connect to the CDB root.</p>
                        </li>
                        <li>
                           <p>Prepare the PDB to be cloned by issuing the <code class="codeph">ALTER PLUGGABLE DATABASE ... PREPARE MIRROR COPY</code> statement.
                           </p>
                        </li>
                        <li>
                           <p>Create a clone PDB from the parent by issuing the <code class="codeph">CREATE PLUGGABLE DATABASE ... USING MIRROR COPY</code> statement.
                           </p>
                        </li>
                     </ol>
                     <p>To drop a <span>split mirror clone PDB</span>, enter <code class="codeph">ALTER PLUGGABLE DATABASE ... DROP MIRROR COPY</code>.
                     </p>
                     <p>The <code class="codeph">V$ASM_DBCLONE_INFO</code> view shows the relationship between the source PDB, the cloned PDB, and their file groups.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999__GUID-F182EDCB-B18D-4D72-8C5D-CB73ABCAEA96">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ostmg/asm-filegroups.html#OSTMG-GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="To clone a PDB from a source PDB or from a non-CDB, use the CREATE PLUGGABLE DATABASE statement.">About Cloning a PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13589"></a><a id="ADMIN13590"></a><a id="ADMIN13591"></a><a id="ADMIN13592"></a><a id="ADMIN14331"></a><a id="ADMIN13586"></a><div class="props_rev_3"><a id="GUID-B39552A6-9206-40FE-B168-962215C7E743" name="GUID-B39552A6-9206-40FE-B168-962215C7E743"></a><h3 id="MULTI-GUID-B39552A6-9206-40FE-B168-962215C7E743" class="sect3"><span class="enumeration_section">7.2 </span>Cloning a Local PDB: Basic Steps
               </h3>
               <div>
                  <p>You can clone a local PDB by executing <code class="codeph">CREATE PLUGGABLE DATABASE</code> and specify the source PDB in the <code class="codeph">FROM</code> clause.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-68A0A6C5-C9E3-4B16-920D-49734FD089D3">Prerequisites</p>
                     <p>You must meet the following prerequisites:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Complete the prerequisites described in <span class="q">"<a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Before creating a PDB, you must meet certain prerequisites.">General Prerequisites for PDB Creation</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>The current user must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege in both the root and the source PDB. 
                           </p>
                        </li>
                        <li>
                           <p>The source PDB cannot be closed.</p>
                        </li>
                        <li>
                           <p>If the CDB is not in local undo mode, then the source PDB must be in open read-only mode. This requirement does not apply if the CDB is in local undo mode.</p>
                        </li>
                        <li>
                           <p>If the CDB is not in <code class="codeph">ARCHIVELOG</code> mode, then the source PDB must be in open read-only mode. This requirement does not apply if the CDB is in <code class="codeph">ARCHIVELOG</code> mode.
                           </p>
                        </li>
                        <li>
                           <p>If you are creating an application PDB, then the application PDB must have the same character set and national character set as the application container.</p>
                           <p> If the database character set of the CDB is AL32UTF8, then the character set and national character set of the application container can be different from the CDB. However, all application PDBs in an application container must have same character set and national character set, matching that of the application container.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-22F7E672-064D-429E-A53A-1172DE92BB5D">
                        <p class="notep1">Note:</p>You can use the <code class="codeph">REFRESH MODE</code> clause to create a refreshable clone of a local PDB, but only if the database link loops back to the same CDB.
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-390ECA39-E899-4B5A-AC13-C86562BCF147">To clone a local PDB:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus, ensure that the current container is the CDB root or an application root.</p>
                           <p>When the current container is the CDB root, the PDB is created in the CDB. When the current container is an application root, the application PDB is created in the application container.</p>
                        </li>
                        <li>
                           <p>Run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, and specify the source PDB in the <code class="codeph">FROM</code> clause. Specify other clauses when required.
                           </p>
                           <p>After cloning a local PDB, the source and target PDBs are in the same CDB. The new PDB is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                           </p>
                           <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service.</p>
                        </li>
                        <li>
                           <p>Open the new PDB in read/write mode.</p>
                           <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                           </p>
                        </li>
                        <li>
                           <p>Back up the new PDB.</p>
                           <p>A PDB cannot be recovered unless it is backed up.</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-66D9D9B6-EA6A-406B-9FA0-84C33639E792">
                        <p class="notep1">Note:</p>
                        <p>If an error is returned during PDB creation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check the PDB state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view. You can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before you can create a PDB with the same name as the unusable PDB.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-F65F1CCF-A7CA-4159-B2B8-BA4F8D209AA6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB.">About Container Access in a CDB</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.">About the CDB Undo Mode</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of One or More PDBs</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn how to back up a PDB
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-85093F44-9783-4BBD-862B-0E484C118ECA" name="GUID-85093F44-9783-4BBD-862B-0E484C118ECA"></a><h3 id="MULTI-GUID-85093F44-9783-4BBD-862B-0E484C118ECA" class="sect3"><span class="enumeration_section">7.3 </span>Cloning a Local PDB: Examples
               </h3>
               <div>
                  <p>The following examples clone a local source PDB named <code class="codeph">pdb1</code> to a target PDB named <code class="codeph">pdb2</code> given different factors.
                  </p>
                  <p>In each example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement is run:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>When the current container is the CDB root, the database creates the PDB in the CDB root.</p>
                     </li>
                     <li>
                        <p>When the current container is an application root in an application container, the database creates an application PDB in the application root.</p>
                     </li>
                  </ul>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B">Cloning a Local PDB Using No Clauses: Example</a><br>This example shows the simplest way to clone a PDB.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26">Cloning a Local PDB Using DBCA: Example</a><br>This example clones a PDB using the silent mode of DBCA. Hot cloning is supported.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA">Cloning a Local PDB with the PATH_PREFIX Clause: Example</a><br>This example explains how to clone a local PDB with the <code class="codeph">PATH_PREFIX</code>, <code class="codeph">FILE_NAME_CONVERT</code>, and <code class="codeph">SERVICE_NAME_CONVERT</code> clauses.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1">Cloning a Local PDB Using the STORAGE Clause: Example</a><br>This example clones a local PDB using the <code class="codeph">FILE_NAME_CONVERT</code>, <code class="codeph">STORAGE</code>, and <code class="codeph">SERVICE_NAME_CONVERT</code> clauses.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B">Cloning a Local PDB with the NO DATA Clause: Example</a><br>This example clones the data model definition of the PDB, but does not clone the data in the PDB.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-539A1F68-27B9-4802-95AC-2C721347296C">Cloning a PDB from a PDB Snapshot: Scenario</a><br>This scenario creates a new PDB from a PDB snapshot by executing <code class="codeph">CREATE PLUGGABLE DATABASE ... USING SNAPSHOT</code>.
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B7746995-6DC8-4650-A955-7DFDD49E5087">Creating a Snapshot Copy PDB: Example</a><br>This example uses the <code class="codeph">SNAPSHOT COPY</code> clause to create a snapshot copy PDB.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B" name="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B"></a><h4 id="MULTI-GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B" class="sect4"><span class="enumeration_section">7.3.1 </span>Cloning a Local PDB Using No Clauses: Example
                  </h4>
                  <div>
                     <p>This example shows the simplest way to clone a PDB.</p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is not required. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B__CEGGGAGG">
                        <p>The following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> PDB:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM pdb1;
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about Oracle Managed Files
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="The following examples clone a local source PDB named pdb1 to a target PDB named pdb2 given different factors.">Cloning a Local PDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26" name="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26"></a><h4 id="MULTI-GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26" class="sect4"><span class="enumeration_section">7.3.2 </span>Cloning a Local PDB Using DBCA: Example
                  </h4>
                  <div>
                     <p>This example clones a PDB using the silent mode of DBCA. Hot cloning is supported.</p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The source CDB is a single-instance database with the SID <code class="codeph">orcl</code>.
                              </p>
                           </li>
                           <li>
                              <p>The source PDB is <code class="codeph">pdb1</code>. You intend for <code class="codeph">pdb1</code> to remain open during the cloning operation, which means that local undo and <code class="codeph">ARCHIVELOG</code> mode are enabled in the CDB. Otherwise, DBCA closes the PDB during the clone operation, and after receiving confirmation, opens the source PDB in read-only mode.
                              </p>
                           </li>
                           <li>
                              <p>The new PDB is <code class="codeph">pdb2</code>.
                              </p>
                           </li>
                           <li>
                              <p>You are running DBCA in noninteractive mode.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26__GUID-512B1DA0-B16E-4F12-81FD-77056F606157">
                        <p>The following command clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> PDB:
                        </p><pre class="pre codeblock"><code>./dbca -silent 
  -createpluggabledatabase 
  -sourcedb orcl 
  -createpdbfrom PDB 
  -pdbName pdb2 
  -sourcepdb pdb1</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26__GUID-95789FD3-C198-476F-B2DB-A84D80628B27">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-5DD346B8-4404-48F1-A811-F39D739E4D05" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for the DBCA command reference
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="The following examples clone a local source PDB named pdb1 to a target PDB named pdb2 given different factors.">Cloning a Local PDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA" name="GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA"></a><h4 id="MULTI-GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA" class="sect4"><span class="enumeration_section">7.3.3 </span>Cloning a Local PDB with the PATH_PREFIX Clause: Example
                  </h4>
                  <div>
                     <p>This example explains how to clone a local PDB with the <code class="codeph">PATH_PREFIX</code>, <code class="codeph">FILE_NAME_CONVERT</code>, and <code class="codeph">SERVICE_NAME_CONVERT</code> clauses.
                     </p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The path prefix must be added to the PDB's directory object paths. Therefore, the <code class="codeph">PATH_PREFIX</code> clause is required. In this example, the path prefix /disk2/oracle/pdb2/ is added to the PDB’s directory object paths.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause is required to specify the target locations of the copied files. In this example, the files are copied from <code class="codeph">/disk1/oracle/pdb1</code> to <code class="codeph">/disk2/oracle/pdb2</code>.
                              </p>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause is not used, and neither Oracle Managed Files nor the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is used to specify the target locations of the copied files.
                              </p>
                              <p>To view the location of the data files for a PDB, run the query in <span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">Example 19-7</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The PDB that is being cloned (<code class="codeph">pdb1</code>) has two user-defined services: <code class="codeph">salesrep_ca</code> and <code class="codeph">orders_ca</code> for the sales representatives and order entry personnel in California. The new services will be for the sales representatives and order entry personnel in Oregon, and the service names will be renamed to <code class="codeph">salesrep_or</code> and <code class="codeph">orders_or</code>, respectively, in the cloned PDB (<code class="codeph">pdb2</code>).
                              </p>
                           </li>
                           <li>
                              <p>Future tablespaces created within the PDB will be created with the <code class="codeph">NOLOGGING</code> attribute by default. This feature is available starting with <span>Oracle Database 12c</span> Release 1 (12.1.0.2).
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA__CEGHFCBB">
                        <p>The following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> PDB:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM pdb1 
  PATH_PREFIX = '/disk2/oracle/pdb2/'
  FILE_NAME_CONVERT = ('/disk1/oracle/pdb1/', '/disk2/oracle/pdb2/')
  SERVICE_NAME_CONVERT = ('salesrep_ca','salesrep_or','orders_ca','orders_or')
  NOLOGGING;
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="The following examples clone a local source PDB named pdb1 to a target PDB named pdb2 given different factors.">Cloning a Local PDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1" name="GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1"></a><h4 id="MULTI-GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1" class="sect4"><span class="enumeration_section">7.3.4 </span>Cloning a Local PDB Using the STORAGE Clause: Example
                  </h4>
                  <div>
                     <p>This example clones a local PDB using the <code class="codeph">FILE_NAME_CONVERT</code>, <code class="codeph">STORAGE</code>, and <code class="codeph">SERVICE_NAME_CONVERT</code> clauses.
                     </p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause is required to specify the target locations of the copied files. In this example, the files are copied from /disk1/oracle/pdb1 to /disk2/oracle/pdb2.
                              </p>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause is not used, and neither Oracle Managed Files nor the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is used to specify the target locations of the copied files.
                              </p>
                              <p>To view the location of the data files for a PDB, run the query in <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">Example 19-7</a>.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits must be enforced for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is required. Specifically, all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                              </p>
                           </li>
                           <li>
                              <p>The source PDB (<code class="codeph">pdb1</code>) has two user-defined services: <code class="codeph">salesrep_ca</code> and <code class="codeph">orders_ca</code> for the sales representatives and order entry personnel in California. The new services will be for the sales representatives and order entry personnel in Oregon, and the service names will be renamed to <code class="codeph">salesrep_or</code> and <code class="codeph">orders_or</code>, respectively, in the cloned PDB (<code class="codeph">pdb2</code>).
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1__CEGCIDDB">
                        <p>The following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> PDB:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM pdb1 
  FILE_NAME_CONVERT = ('/disk1/oracle/pdb1/', '/disk2/oracle/pdb2/')
  STORAGE (MAXSIZE 2G)
  SERVICE_NAME_CONVERT = ('salesrep_ca','salesrep_or','orders_ca','orders_or');
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="The following examples clone a local source PDB named pdb1 to a target PDB named pdb2 given different factors.">Cloning a Local PDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B" name="GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B"></a><h4 id="MULTI-GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B" class="sect4"><span class="enumeration_section">7.3.5 </span>Cloning a Local PDB with the NO DATA Clause: Example
                  </h4>
                  <div>
                     <p>This example clones the data model definition of the PDB, but does not clone the data in the PDB.</p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">NO DATA</code> clause is required because the goal is to clone the data model definition of the source PDB without cloning its data.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is not required. The process copies the files to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B__GUID-E67C9C2A-5ED2-4124-8946-0219F209C6CF">
                        <p>Assume that the source PDB <code class="codeph">pdb1</code> has a large amount of data. The following steps illustrate how the clone does not contain the data of the source PDB when the operation is complete:
                        </p>
                        <ol>
                           <li>
                              <p>With the source PDB <code class="codeph">pdb1</code> as the current container, query a table with a large amount of data:
                              </p><pre class="pre codeblock"><code>SELECT COUNT(*) FROM tpch.lineitem;

  COUNT(*)
----------
  60001215
</code></pre><p>The table has over sixty million rows.</p>
                           </li>
                           <li>
                              <p>Clone the source PDB with the <code class="codeph">NO DATA</code> clause:
                              </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM pdb1 NO DATA;
</code></pre></li>
                           <li>
                              <p>Open the cloned PDB:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE pdb2 OPEN;
</code></pre></li>
                           <li>
                              <p>With the cloned PDB <code class="codeph">pdb2</code> as the current container, query the table that has a large amount of data in the source PDB:
                              </p><pre class="pre codeblock"><code>SELECT COUNT(*) FROM tpch.lineitem;

  COUNT(*)
----------
         0
</code></pre><p>The table in the cloned PDB has no rows.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="The following examples clone a local source PDB named pdb1 to a target PDB named pdb2 given different factors.">Cloning a Local PDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-539A1F68-27B9-4802-95AC-2C721347296C" name="GUID-539A1F68-27B9-4802-95AC-2C721347296C"></a><h4 id="MULTI-GUID-539A1F68-27B9-4802-95AC-2C721347296C" class="sect4"><span class="enumeration_section">7.3.6 </span>Cloning a PDB from a PDB Snapshot: Scenario
                  </h4>
                  <div>
                     <p>This scenario creates a new PDB from a PDB snapshot by executing <code class="codeph">CREATE PLUGGABLE DATABASE ... USING SNAPSHOT</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__GUID-804E2E00-EA12-4E3B-A3E6-8ED68EFEF609">Assumptions</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;" id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__UL_GYR_DPL_YFB">
                           <li>
                              <p>A <span>PDB snapshot carousel</span> exists with 8 daily snapshots, named after the weekday, day of the month, and time when they were created: <code class="codeph">pdb1_mon_2_1201</code>, <code class="codeph">pdb1_tue_3_1201</code>, <code class="codeph">pdb1_wed_4_1201</code>, and so on.
                              </p>
                           </li>
                           <li>
                              <p>The new PDB will be a clone of a snapshot named <code class="codeph">pdb1_wed_4_1201</code>, which is a snapshot of <code class="codeph">pdb1</code> taken last Wednesday on the 4th of the month at 12:01 a.m.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is not required. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__GUID-081F1A33-896B-4DE4-87CF-75B3E23BDF83">To clone a PDB from a PDB snapshot:</p>
                        <ol id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__OL_I21_GPL_YFB">
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the CDB root or an application root.</p>
                              <p>When the current container is the CDB root, the PDB is created in the CDB. When the current container is an application root, the application PDB is created in the application container.</p>
                           </li>
                           <li>
                              <p>Execute the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement.
                              </p>
                              <p>The following statement clones the <code class="codeph">pdb1_copy</code> PDB from the PDB snapshot named <code class="codeph">pdb1_wed_4_1201</code>:
                              </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb1_copy FROM pdb1 USING SNAPSHOT pdb1_wed_4_1201;
</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__GUID-31595C90-5E04-4133-85D4-9078A802CC51">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="administering-pdb-snapshots.html#GUID-82BCCB60-4A6F-4687-BD16-64A5FE767FB5" title="Configure a PDB for automatic snapshots by using the SNAPSHOT MODE EVERY clause when creating or altering a PDB.">Configuring Automatic PDB Snapshots</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="The following examples clone a local source PDB named pdb1 to a target PDB named pdb2 given different factors.">Cloning a Local PDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087" name="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087"></a><h4 id="MULTI-GUID-B7746995-6DC8-4650-A955-7DFDD49E5087" class="sect4"><span class="enumeration_section">7.3.7 </span>Creating a Snapshot Copy PDB: Example
                  </h4>
                  <div>
                     <p>This example uses the <code class="codeph">SNAPSHOT COPY</code> clause to create a snapshot copy PDB.
                     </p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The new snapshot copy PDB will be created based on a PDB snapshot named <code class="codeph">pdb1_snap3</code>, which is a PDB snapshot that is a copy of <code class="codeph">pdb1</code> at a specific point in time and SCN.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is not required. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087__GUID-C8FB2673-9DD2-4D24-AF77-29F0CC75D72B">
                        <p>Given the preceding factors, the following statement clones the <code class="codeph">pdb1_snap_copy</code> PDB from the <code class="codeph">pdb1_snap3</code> PDB snapshot:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb1_snap_copy FROM pdb1 USING SNAPSHOT pdb1_snap3 SNAPSHOT COPY;
</code></pre><p>After <code class="codeph">pdb1_snap_copy</code> is created, it is dependent on the <code class="codeph">pdb1_snap3</code> PDB snapshot. Therefore, you cannot drop <code class="codeph">pdb1_snap3</code> when <code class="codeph">pdb1_snap_copy</code> exists. However, you can transform <code class="codeph">pd1_snap_copy</code> from a snapshot copy PDB into a regular PDB by running an <code class="codeph">ALTER PLUGGABLE DATABASE ... MATERIALIZE</code> statement. Materializing the PDB means that <code class="codeph">pdb1_snap_copy</code> no longer depends on <code class="codeph">pdb1_snap3</code>, enabling you to drop <code class="codeph">pdb1_snap3</code>.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087__GUID-8A45ABFB-715E-412F-92A2-FD97869736B4">
                        <p class="notep1">See Also:</p><span class="q">"<a href="cloning-a-pdb.html#GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" title="You can materialize a snapshot copy PDB by running an ALTER PLUGGABLE DATABASE statement with the MATERIALIZE clause. Materializing a snapshot copy PDB copies all data blocks.">Materializing a Snapshot Copy PDB</a>"</span></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="The following examples clone a local source PDB named pdb1 to a target PDB named pdb2 given different factors.">Cloning a Local PDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13596"></a><a id="ADMIN14322"></a><a id="ADMIN13593"></a><div class="props_rev_3"><a id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" name="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F"></a><h3 id="MULTI-GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" class="sect3"><span class="enumeration_section">7.4 </span>Cloning a Remote PDB: Basic Steps
               </h3>
               <div>
                  <p>You can create a PDB by cloning a remote PDB. After the cloning operation, the source and the target PDB are in different locations.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-49986022-D198-415E-9ED3-05C75E597C4E">General Prerequisites</p>
                     <p>The following prerequisites must be met:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Complete the prerequisites described in <span class="q">"<a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Before creating a PDB, you must meet certain prerequisites.">General Prerequisites for PDB Creation</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>The current user must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege in the root of the CDB that will contain the target PDB. 
                           </p>
                        </li>
                        <li>
                           <p>The source and target platforms must meet the following requirements:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>They must have the same endianness.</p>
                              </li>
                              <li>
                                 <p>The database options installed on the source platform must be the same as, or a subset of, the database options installed on the target platform.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>If you are creating an application PDB, then the application name and version of the source PDB must match the application name and version of the target application container.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-48DDDC51-F206-4233-96C3-870BC789BB57">Prerequisites for Character Sets</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the character set of the CDB to which the PDB is being cloned is not AL32UTF8, then the source and target must have compatible character sets and national character sets. If the character set of the CDB to which the PDB is being cloned is AL32UTF8, then this requirement does not apply. </p>
                        </li>
                        <li>
                           <p>If you are creating an application PDB, then the application PDB must have the same character set and national character set as the application container.</p>
                           <p>If the database character set of the CDB is AL32UTF8, then the character set and national character set of the application container can different from the CDB. However, all application PDBs in an application container must have same character set and national character set, matching that of the application container.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-00A67D0B-E84B-46FE-B050-596506C27809">Prerequisites for the Open Mode of the Source PDB</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The source PDB must not be closed.</p>
                        </li>
                        <li>
                           <p>If the remote CDB is not in local undo mode, then the source PDB must be open in read-only mode.</p>
                           <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.">About the CDB Undo Mode</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>If the remote CDB is not in <code class="codeph">ARCHIVELOG</code> mode, then the source PDB must be open in read-only mode.
                           </p>
                        </li>
                        <li>
                           <p>If you are creating a refreshable PDB, then the source PDB must be in <code class="codeph">ARCHIVELOG</code> mode and local undo mode.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GENERALPREREQUISITES-EFA2D3FB">Prerequisites for the Database Link</p>
                     <p>The following prerequisites must be met:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A database link must enable a connection from the CDB to which the PDB is being cloned to the source PDB’s CDB. The database link can connect to either the root of the CDB, to an application PDB if the source is an application PDB, or to the PDB.</p>
                        </li>
                        <li>
                           <p>The user that the database link connects with must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege.
                           </p>
                        </li>
                        <li>
                           <p>If the database link connects to the root in the CDB of the source PDB, then the user that the database link connects with must be a common user.</p>
                        </li>
                        <li>
                           <p>In an Oracle Data Guard environment, if you are performing a remote clone of a PDB into a primary CDB, then on the standby CDB set the <code class="codeph">STANDBY_PDB_SOURCE_FILE_DBLINK</code> initialization parameter. This parameter specifies the name of the database link used in <code class="codeph">CREATE PLUGGABLE DATABASE ... FROM <span class="codeinlineitalic">dblink</span></code>. The standby CDB attempts to copy the data files from the source PDB referenced in the database link, but only if the source PDB is open in read-only mode. Otherwise, you must copy data files to the Oracle Managed Files location on the standby CDB.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-C4A3DE1C-CC50-46D7-9D92-4BFF8D01A49E">To clone a remote PDB:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus, ensure that the current container is the root of the target CDB or the application root of the target application container.</p>
                        </li>
                        <li>
                           <p>Run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, and specify the source PDB in the <code class="codeph">FROM</code> clause. Specify other clauses when required.
                           </p>
                           <p>After you create the PDB, it is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                           </p>
                           <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service.</p>
                           <div class="infoboxnote" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-A9FFF8B4-5144-40E0-B701-6D2154BAD23D">
                              <p class="notep1">Note:</p>
                              <p>If an error is returned during PDB creation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check the PDB state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Open the new PDB in read/write mode.</p>
                           <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                           </p>
                        </li>
                        <li>
                           <p>Back up the PDB.</p>
                           <p>A PDB cannot be recovered unless it is backed up.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-7AADBFE0-C629-4ED2-8C6B-2DCAE9B281B9">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="You can refresh a PDB that was created as a refreshable clone.">Refreshing a PDB</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of One or More PDBs</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for information about backing up a PDB
                           </p>
                        </li>
                        <li>
                           <p><a href="../sbydb/creating-oracle-data-guard-physical-standby.html#SBYDB-GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> to learn more about plugging in a PDB in an Oracle Data Guard environment
                           </p>
                        </li>
                        <li>
                           <p><a href="../nlspg/choosing-character-set.html#NLSPG1035" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> to learn about the requirements for the compatibility of character sets
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" name="GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8"></a><h3 id="MULTI-GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" class="sect3"><span class="enumeration_section">7.5 </span>Cloning a Remote PDB or Non-CDB: Examples
               </h3>
               <div>
                  <p>These examples clone a remote PDB or non-CDB given different factors.</p>
                  <p>In each example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement is run:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>When the current container is the CDB root, the new PDB is created in the CDB root.</p>
                     </li>
                     <li>
                        <p>When the current container is an application root in an application container, the new PDB is created as an application PDB in the application root.</p>
                     </li>
                  </ul>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93">Cloning a Remote PDB Using No Clauses: Example</a><br>This example clones a remote source PDB named <code class="codeph">pdb1</code> to a target PDB named <code class="codeph">pdb2</code> given different factors. 
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6">Cloning a Remote Non-CDB: Example</a><br>This example creates a new PDB by cloning a remote source non-CDB named <code class="codeph">mydb</code> to a target PDB named <code class="codeph">pdb2</code> given different factors. 
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-2FF464EE-706C-4FE1-9E54-31312550BED6">Creating a Refreshable Clone: Example</a><br>This example clones the remote <code class="codeph">pdb1</code> to the target <code class="codeph">pdb2</code> given different factors. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93" name="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93"></a><h4 id="MULTI-GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93" class="sect4"><span class="enumeration_section">7.5.1 </span>Cloning a Remote PDB Using No Clauses: Example
                  </h4>
                  <div>
                     <p>This example clones a remote source PDB named <code class="codeph">pdb1</code> to a target PDB named <code class="codeph">pdb2</code> given different factors. 
                     </p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database link name to the remote PDB is <code class="codeph">pdb1_link</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93__GUID-FDD7C76D-BF5E-4BB6-A115-85F1BBD653B4">
                        <p>The following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> remote PDB:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM pdb1@pdb1_link;
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about Oracle Managed Files
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" title="These examples clone a remote PDB or non-CDB given different factors.">Cloning a Remote PDB or Non-CDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6" name="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6"></a><h4 id="MULTI-GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6" class="sect4"><span class="enumeration_section">7.5.2 </span>Cloning a Remote Non-CDB: Example
                  </h4>
                  <div>
                     <p>This example creates a new PDB by cloning a remote source non-CDB named <code class="codeph">mydb</code> to a target PDB named <code class="codeph">pdb2</code> given different factors. 
                     </p>
                     <div class="section">
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database link name to the remote non-CDB is <code class="codeph">mydb_link</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6__GUID-82088866-3794-4F8B-98ED-8E0C0DC11680">
                        <p>The following statement creates the <code class="codeph">pdb2</code> PDB from the remote non-CDB named <code class="codeph">mydb</code>:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM mydb@mydb_link;
</code></pre><p>When the source database is a non-CDB, you can substitute <code class="codeph">NON$CDB</code> for the name of the non-CDB. For example, the following statement is equivalent to the previous example:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM NON$CDB@mydb_link;
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about Oracle Managed Files
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" title="These examples clone a remote PDB or non-CDB given different factors.">Cloning a Remote PDB or Non-CDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6" name="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6"></a><h4 id="MULTI-GUID-2FF464EE-706C-4FE1-9E54-31312550BED6" class="sect4"><span class="enumeration_section">7.5.3 </span>Creating a Refreshable Clone: Example
                  </h4>
                  <div>
                     <p>This example clones the remote <code class="codeph">pdb1</code> to the target <code class="codeph">pdb2</code> given different factors. 
                     </p>
                     <div class="section">
                        <p>The clone is a refreshable copy of the source PDB. You can refresh the cloned PDB to update it with any changes made to the source PDB. This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database link name to the remote PDB is <code class="codeph">pdb1_link</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The refreshable clone will be refreshed automatically every 60 minutes.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__GUID-7CE2BB21-8E00-4054-B8F4-F2641B92A43E">
                           <p class="notep1">Note:</p>
                           <p>To create a refreshable PDB, the source PDB must be in <code class="codeph">ARCHIVELOG</code> mode and local undo mode.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__GUID-FB494494-D718-4165-868E-ED6B34B160CE">
                        <p>The following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> remote PDB:
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 FROM pdb1@pdb1_link REFRESH MODE EVERY 60 MINUTES;
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" title="A refreshable clone PDB is a read-only clone that can periodically synchronize with its source PDB.">Managing Refreshable Clone PDBs</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about Oracle Managed Files
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" title="These examples clone a remote PDB or non-CDB given different factors.">Cloning a Remote PDB or Non-CDB: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN14167"></a><div class="props_rev_3"><a id="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396" name="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396"></a><h3 id="MULTI-GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396" class="sect3"><span class="enumeration_section">7.6 </span>After Cloning a PDB
               </h3>
               <div>
                  <p>Certain rules regarding users and tablespaces apply after cloning a PDB.</p>
                  <p>The following applies after cloning a PDB:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Users in the PDB who used the default temporary tablespace of the source non-CDB or PDB use the default temporary tablespace of the cloned PDB. Users who used nondefault temporary tablespaces in the non-CDB or PDB continue to use the same local temporary tablespaces in the cloned PDB.</p>
                     </li>
                     <li>
                        <p>When cloning a remote PDB, user-created common user accounts that existed in the source CDB but not in the target CDB do not have privileges granted commonly. However, if the target CDB has a common user with the same name as a common user in the PDB, then the latter is linked to the former and has the privileges granted to this common user in the target CDB.</p>
                        <p>If the cloned or plugged-in PDB has a common user account that does not exist in the target CDB, and if this user does not own objects in the PDB, then Oracle Database drops the user during the synchronization step; otherwise, the user account is locked in the target PDB. You have the following options regarding locked accounts:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Close the PDB, connect to the root, and create a common user account with the same name. When the PDB is opened in read/write mode, differences in roles and privileges granted commonly to the user account are resolved, and you can unlock the account. Privileges and roles granted locally to the user account remain unchanged during this process.</p>
                           </li>
                           <li>
                              <p>Create a new local user account in the PDB and use Data Pump to export/import the locked user's data into the new local user's schema.</p>
                           </li>
                           <li>
                              <p>Leave the user account locked.</p>
                           </li>
                           <li>
                              <p>Drop the user account.</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396__GUID-6D44C122-8526-40B4-B99F-F1848E0AEB21">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p> <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="A tablespace is a logical storage container for database objects, such as tables and indexes, that consume storage space.">About Managing Tablespaces in a CDB</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services for PDBs</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">Example 19-9</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="overview-of-the-multitenant-architecture.html#CNCPT89257" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for information about common users and local users
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/18/multi&amp;id=DBSEG832" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for information about creating a local user
                           </p>
                        </li>
                        <li>
                           <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL4334" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for information about using Oracle Data Pump with a CDB
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" name="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774"></a><h3 id="MULTI-GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" class="sect3"><span class="enumeration_section">7.7 </span>Materializing a Snapshot Copy PDB
               </h3>
               <div>
                  <p>You can materialize a snapshot copy PDB by running an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">MATERIALIZE</code> clause. Materializing a snapshot copy PDB copies all data blocks.
                  </p>
                  <div class="section">
                     <p>When you create a snapshot copy PDB, it is dependent on the source PDB. Because of this dependency, you cannot drop the source PDB.</p>
                     <p>Materializing the snapshot copy PDB transforms the snapshot copy PDB, which uses sparse files, into a full PDB, which does <span class="italic">not</span> use sparse files. Therefore, it is no longer dependent on the source PDB, which can be dropped.
                     </p>
                     <div class="infoboxnote" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-A54744F1-46F7-482D-9343-D892E1807DC3">
                        <p class="notep1">Note:</p>
                        <p>A PDB snapshot created with the <code class="codeph">USING SNAPSHOT</code> clause and a snapshot copy PDB created with the <code class="codeph">SNAPSHOT COPY</code> clause are two distinct types of snapshots and should not be confused with each other. The <code class="codeph">USING SNAPSHOT</code> clause creates a full PDB that does not need to be materialized. The <code class="codeph">SNAPSHOT COPY</code> clause creates a sparse PDB that must be materialized if you want to drop the PDB snapshot on which it is based.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-03E353ED-291D-4BA8-80B7-B9F6C0B08EED">To materialize a PDB snapshot:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus, ensure that the current container is the snapshot copy PDB that is being materialized.</p>
                        </li>
                        <li>
                           <p>Run an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">MATERIALIZE</code> clause.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-509A37D6-9BB3-469B-BB3A-B5D32C8C2AE1">
                     <p class="titleinexample">Example 7-2 Materializing a Snapshot Copy PDB</p>
                     <p>The following SQL statement materializes a snapshot copy PDB:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE MATERIALIZE;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-F3848A4C-DFF3-436A-A8A6-75EBA81E3901">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" title="A snapshot copy PDB is a PDB that has been created using a CREATE PLUGGABLE DATABASE ... SNAPSHOT COPY statement.">About Snapshot Copy PDBs</a>"</span> for more information about snapshot copy PDBs
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="cloning-a-pdb.html#GUID-B7746995-6DC8-4650-A955-7DFDD49E5087" title="This example uses the SNAPSHOT COPY clause to create a snapshot copy PDB.">Creating a Snapshot Copy PDB: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>